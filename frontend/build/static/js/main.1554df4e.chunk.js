(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{187:function(e,t,a){},271:function(e,t,a){},410:function(e,t,a){},443:function(e,t,a){},444:function(e,t,a){},446:function(e,t,a){},447:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),c=a(41),i=a.n(c),r=a(27),l=a(6),o=(a(187),a(271),a(32)),d=a(149),j=(a(272),a(4)),u=a(531),b=a(226),h=a(538),m=a(528),O=a(30),x=a(0);var f=function(){var e=Object(l.c)((function(e){return e.auth})),t=(e.token,"");if(e.loggedIn){var a=e.data.user.user;t=a}console.log(e);var n=Object(s.useState)(""),c=Object(j.a)(n,2),i=c[0],r=c[1];return Object(s.useEffect)((function(){e.loggedIn&&r(t.role)}),[i]),Object(x.jsx)("header",{children:Object(x.jsx)(u.a,{className:"back",children:Object(x.jsxs)(b.a,{className:"headerContainer",children:[Object(x.jsx)(u.a.Brand,{children:Object(x.jsx)("h2",{class:"sitename",children:"Covid-19 Patient Tracker"})}),Object(x.jsx)(u.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(x.jsx)(u.a.Collapse,{id:"basic-navbar-nav",children:Object(x.jsxs)(h.a,{className:"ml-auto",children:[!e.loggedIn&&Object(x.jsx)(O.LinkContainer,{to:"/signin",children:Object(x.jsx)(h.a.Link,{className:"navbar-item",children:Object(x.jsx)("span",{children:"Login"})})}),e.loggedIn&&Object(x.jsx)(O.LinkContainer,{to:"/logout",children:Object(x.jsx)(h.a.Link,{className:"navbar-item",children:Object(x.jsx)("span",{children:"Log Out"})})}),e.loggedIn&&"patient"===i&&Object(x.jsx)(O.LinkContainer,{to:"/hospital/patientProfile",children:Object(x.jsx)(h.a.Link,{className:"navbar-item",children:Object(x.jsx)("span",{children:"Profile"})})}),e.loggedIn&&"patient"===i&&Object(x.jsx)(O.LinkContainer,{to:"/resetpasswordloggedin",children:Object(x.jsx)(h.a.Link,{className:"navbar-item",children:Object(x.jsx)("span",{children:"Reset Password"})})}),e.loggedIn&&"hospitalAdmin"===i&&Object(x.jsxs)(m.a,{className:"my-2 dropdown",children:[Object(x.jsx)(m.a.Toggle,{className:"dropdown-toogle",children:"Hospital Admin"}),Object(x.jsxs)(m.a.Menu,{className:"dropdown-menu",children:[Object(x.jsx)(m.a.Item,{children:Object(x.jsx)(O.LinkContainer,{className:"dropdown-item",to:"/hospital/dashboard",children:Object(x.jsx)(h.a.Link,{children:Object(x.jsx)("span",{children:"Dashboard"})})})}),Object(x.jsx)(m.a.Item,{children:Object(x.jsx)(O.LinkContainer,{className:"dropdown-item",to:"/resetpasswordloggedin",children:Object(x.jsx)(h.a.Link,{children:Object(x.jsx)("span",{children:"Reset Password"})})})}),Object(x.jsx)(m.a.Item,{children:Object(x.jsx)(O.LinkContainer,{className:"dropdown-item",to:"/hospital/admittedPatients",children:Object(x.jsx)(h.a.Link,{children:Object(x.jsx)("span",{children:"Admitted Patients"})})})}),Object(x.jsx)(m.a.Item,{children:Object(x.jsx)(O.LinkContainer,{className:"dropdown-item",to:"/hospital/patients",children:Object(x.jsx)(h.a.Link,{children:Object(x.jsx)("span",{children:"Patients"})})})}),Object(x.jsx)(m.a.Item,{children:Object(x.jsx)(O.LinkContainer,{className:"dropdown-item",to:"/hospital/addPcrResults",children:Object(x.jsx)(h.a.Link,{children:Object(x.jsx)("span",{children:"Add PCR Results"})})})}),Object(x.jsx)(m.a.Item,{children:Object(x.jsx)(O.LinkContainer,{className:"dropdown-item",to:"/hospital/aprovePcrResults",children:Object(x.jsx)(h.a.Link,{children:Object(x.jsx)("span",{children:"Aprove PCR Results"})})})}),Object(x.jsx)(m.a.Item,{children:Object(x.jsx)(O.LinkContainer,{className:"dropdown-item",to:"/hospital/searchPCR",children:Object(x.jsx)(h.a.Link,{children:Object(x.jsx)("span",{children:"Search PCR"})})})}),Object(x.jsx)(m.a.Item,{children:Object(x.jsx)(O.LinkContainer,{className:"dropdown-item",to:"/hospital/acceptanceWaiting",children:Object(x.jsx)(h.a.Link,{children:Object(x.jsx)("span",{children:"Acceptance Waiting"})})})}),Object(x.jsx)(m.a.Item,{children:Object(x.jsx)(O.LinkContainer,{className:"dropdown-item",to:"/hospital/wards",children:Object(x.jsx)(h.a.Link,{children:Object(x.jsx)("span",{children:"Wards"})})})}),Object(x.jsx)(m.a.Item,{children:Object(x.jsx)(O.LinkContainer,{className:"dropdown-item",to:"/hospital/addHospitalStaff",children:Object(x.jsx)(h.a.Link,{children:Object(x.jsx)("span",{children:"Add Staffs"})})})})]})]}),e.loggedIn&&"hospital user"===i&&Object(x.jsxs)(m.a,{className:"my-2 dropdown",children:[Object(x.jsx)(m.a.Toggle,{className:"dropdown-toogle",children:"Hospital Staff"}),Object(x.jsxs)(m.a.Menu,{className:"dropdown-menu",children:[Object(x.jsx)(m.a.Item,{children:Object(x.jsx)(O.LinkContainer,{className:"dropdown-item",to:"/hospital/patients",children:Object(x.jsx)(h.a.Link,{children:Object(x.jsx)("span",{children:"Patients"})})})}),Object(x.jsx)(m.a.Item,{children:Object(x.jsx)(O.LinkContainer,{className:"dropdown-item",to:"/resetpasswordloggedin",children:Object(x.jsx)(h.a.Link,{children:Object(x.jsx)("span",{children:"Reset Password"})})})}),Object(x.jsx)(m.a.Item,{children:Object(x.jsx)(O.LinkContainer,{className:"dropdown-item",to:"/hospital/addPcrResults",children:Object(x.jsx)(h.a.Link,{children:Object(x.jsx)("span",{children:"Add PCR Results"})})})}),Object(x.jsx)(m.a.Item,{children:Object(x.jsx)(O.LinkContainer,{className:"dropdown-item",to:"/hospital/searchPCR",children:Object(x.jsx)(h.a.Link,{children:Object(x.jsx)("span",{children:"Search PCR"})})})})]})]}),e.loggedIn&&"admin"===i&&Object(x.jsxs)(m.a,{className:"my-2 dropdown",children:[Object(x.jsx)(m.a.Toggle,{className:"dropdown-toogle",children:"Admin"}),Object(x.jsxs)(m.a.Menu,{className:"dropdown-menu",children:[Object(x.jsx)(m.a.Item,{children:Object(x.jsx)(O.LinkContainer,{className:"dropdown-item",to:"/healthMinistry/dashboard",children:Object(x.jsx)(h.a.Link,{children:Object(x.jsx)("span",{children:"Dasboard"})})})}),Object(x.jsx)(m.a.Item,{children:Object(x.jsx)(O.LinkContainer,{className:"dropdown-item",to:"/resetpasswordloggedin",children:Object(x.jsx)(h.a.Link,{children:Object(x.jsx)("span",{children:"Reset Password"})})})}),Object(x.jsx)(m.a.Item,{children:Object(x.jsx)(O.LinkContainer,{className:"dropdown-item",to:"/healthMinistry/hospital",children:Object(x.jsx)(h.a.Link,{children:Object(x.jsx)("span",{children:"Hospitals"})})})}),Object(x.jsx)(m.a.Item,{children:Object(x.jsx)(O.LinkContainer,{className:"dropdown-item",to:"/healthMinistry/confirmData",children:Object(x.jsx)(h.a.Link,{children:Object(x.jsx)("span",{children:"Confirm Data"})})})})]})]})]})})]})})})},p=a(503),v=a(229),g=function(){return Object(x.jsx)("footer",{children:Object(x.jsx)(b.a,{children:Object(x.jsx)(p.a,{children:Object(x.jsx)(v.a,{className:"text-center py-1",children:"Copyright \xa9 Covid-19 Patient Tracker"})})})})},y=a(38),N=a.n(y),w=a(58),C=a(39),S=a.n(C),P=a(71),I=a.n(P);var A=function(e){var t=e.myProp1,a=e.myProp2,s=e.myProp3,n=[{name:"Cases",data:a},{name:"Recovered",data:e.myProp4},{name:"Deaths",data:s}],c={dataLabels:{enabled:!1},stroke:{curve:"smooth"},xaxis:{type:"datetime",categories:t},tooltip:{x:{format:"dd/MM/yy"}},colors:["#226EFC","#7dca53","#ff8c84"]};return Object(x.jsx)("div",{style:{backgroundColor:"white",textAlign:"center"},children:Object(x.jsx)(I.a,{options:c,series:n,type:"area",height:370})})},R=function(e){var t=e.details;return Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{style:{justifyContent:"center"},children:Object(x.jsx)("h4",{style:{textAlign:"center",margin:"1%"},children:"Total Figures"})}),Object(x.jsxs)("div",{style:{margin:"1%",justifyContent:"center"},children:[Object(x.jsxs)("div",{className:"figures-div",style:{display:"flex"},children:[Object(x.jsx)("div",{children:Object(x.jsx)("i",{className:"fa fa-hospital-alt",style:{fontSize:"30px",color:"#6b85de",margin:"20px"}})}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{style:{fontSize:"14px"},children:"Total Confirm Cases"}),Object(x.jsx)("h1",{style:{color:"#6b85de"},children:L(t.local_total_cases)})]})]}),Object(x.jsxs)("div",{className:"figures-div",style:{display:"flex"},children:[Object(x.jsx)("div",{children:Object(x.jsx)("i",{className:"fa fa-bed",style:{fontSize:"30px",color:"#ff8c84",margin:"20px"}})}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{style:{fontSize:"14px"},children:"Deaths"}),Object(x.jsx)("h1",{style:{color:"#ff8c84"},children:L(t.local_deaths)})]})]}),Object(x.jsxs)("div",{className:"figures-div",style:{display:"flex"},children:[Object(x.jsx)("div",{children:Object(x.jsx)("i",{className:"fa fa-running",style:{fontSize:"30px",color:"#7dca53",margin:"20px"}})}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{style:{fontSize:"14px"},children:"Total Recovered"}),Object(x.jsx)("h1",{style:{color:"#7dca53"},children:L(t.local_recovered)})]})]})]})]})},L=function(e){var t=Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),a=t.split(".");return a.length>1&&(t=a[0]),t},E=function(e){var t=e.details;return Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{style:{justifyContent:"center"},children:Object(x.jsx)("h4",{style:{textAlign:"center",margin:"1%"},children:" Figures"})}),Object(x.jsxs)("div",{style:{margin:"1%",justifyContent:"center"},children:[Object(x.jsxs)("div",{className:"figures-div",style:{display:"flex"},children:[Object(x.jsx)("div",{children:Object(x.jsx)("i",{className:"fa fa-hospital-alt",style:{fontSize:"30px",color:"#6b85de",margin:"20px"}})}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{style:{fontSize:"14px"},children:"New Cases"}),Object(x.jsx)("h1",{style:{color:"#6b85de"},children:k(t.local_new_cases)})]})]}),Object(x.jsxs)("div",{className:"figures-div",style:{display:"flex"},children:[Object(x.jsx)("div",{children:Object(x.jsx)("i",{className:"fa fa-bed",style:{fontSize:"30px",color:"#ff8c84",margin:"20px"}})}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{style:{fontSize:"14px"},children:"Deaths"}),Object(x.jsx)("h1",{style:{color:"#ff8c84"},children:k(t.local_new_deaths)})]})]}),Object(x.jsxs)("div",{className:"figures-div",style:{display:"flex"},children:[Object(x.jsx)("div",{children:Object(x.jsx)("i",{className:"fa fa-procedures",style:{fontSize:"30px",color:"#fdb01a",margin:"20px"}})}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{style:{fontSize:"14px"},children:"Receiving Treatment"}),Object(x.jsx)("h1",{style:{color:"#fdb01a"},children:k(t.local_total_number_of_individuals_in_hospitals)})]})]})]})]})},k=function(e){var t=Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),a=t.split(".");return a.length>1&&(t=a[0]),t},D=a(539),T=a(504),_=function(){return Object(x.jsx)(T.a,{animation:"border",role:"status",style:{width:"100px",height:"100px",margin:"auto",display:"block",justifyContent:"center",marginTop:"10%"},children:Object(x.jsx)("span",{className:"sr-only",children:"Loading..."})})},F=a(33),q=Object(F.b)("api/callBegan"),H=Object(F.b)("api/callSuccess"),z=Object(F.b)("api/callFailed"),B=a(23),M=a(56),G=a(28),W=a.n(G),U=Object(F.c)({name:"dashboard",initialState:{list:[],loading:!1,lastFetch:null},reducers:{}}),V=U.reducer,$=U.actions,X=($.publicDashboardRequested,$.publicDashboardSuccess,$.publicDashboardFailed,$.healthMinistryDashboardRequested,$.healthMinistryDashboardSuccess,$.healthMinistryDashboardFailed,$.hospitalDashboardRequested,$.hospitalDashboardSuccess,$.hospitalDashboardFailed,M.REFRESH_TIME,Object(B.a)((function(e){return e.entities.hospitalloading}),(function(e){return e})),Object(B.a)((function(e){return e.entities.dashboard}),(function(e){return e.list})),function(){var e=Object(l.b)(),t=function(){var e=Object(w.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.request({url:"http://localhost:8000/api/v1/dashboard/publicdashboard",method:"get",data:{}});case 3:t=e.sent,console.log(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("error");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),a=Object(s.useState)([]),n=Object(j.a)(a,2),c=n[0],i=n[1],r=Object(s.useState)([]),o=Object(j.a)(r,2),d=o[0],u=o[1],b=Object(s.useState)([]),h=Object(j.a)(b,2),m=h[0],O=h[1],f=Object(s.useState)([]),p=Object(j.a)(f,2),v=p[0],g=p[1],y=Object(s.useState)([]),C=Object(j.a)(y,2),P=C[0],I=C[1],L=Object(s.useState)(!0),k=Object(j.a)(L,2),T=k[0],F=k[1];return console.log("1....................."),Object(s.useEffect)((function(){var e=function(){var e=Object(w.a)(N.a.mark((function e(){var t,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("2....................."),e.next=3,S.a.get("https://www.hpb.health.gov.lk/api/get-current-statistical");case 3:t=e.sent,a=t.data,i(a.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=Object(w.a)(N.a.mark((function e(){var t,a,s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("3....................."),e.next=3,S.a.get("https://disease.sh/v3/covid-19/historical/Sri%20Lanka?lastdays=365");case 3:t=e.sent,a=t.data,s=a,u(Object.keys(s.timeline.cases)),O(Object.values(s.timeline.cases)),g(Object.values(s.timeline.deaths)),I(Object.values(s.timeline.recovered)),F(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),a(),console.log("4.........................."),t()}),[e]),Object(x.jsx)(x.Fragment,{children:T?Object(x.jsx)(_,{}):Object(x.jsxs)("div",{className:"vs-row top-content",style:{display:"flex",width:"100%"},children:[Object(x.jsx)("div",{className:"vs-col vs-xs- vs-sm-12 vs-lg-3",style:{margin:"0%",width:"100%",position:"relative"},children:Object(x.jsx)("div",{className:"set-animation from-left animate",children:Object(x.jsx)(D.a,{className:"m-2 con-vs-card text-center",children:Object(x.jsx)(R,{details:c})})})}),Object(x.jsxs)(D.a,{className:"vs-col vs-xs vs-sm-12 vs-lg-6 mt-2 mb-2",style:{margin:"0%",width:"100%"},children:[Object(x.jsx)("div",{children:Object(x.jsx)("h3",{style:{textAlign:"center",margin:"2%"},children:"Total, Recovered and Deaths (SL)"})}),Object(x.jsx)("div",{style:{position:"relative",margin:"2%"},children:Object(x.jsx)(A,{myProp1:d,myProp2:m,myProp3:v,myProp4:P})})]}),Object(x.jsx)("div",{className:"vs-col vs-xs- vs-sm-12 vs-lg-3",style:{margin:"0%",width:"100%",position:"relative"},children:Object(x.jsx)("div",{className:"set-animation from-left animate",children:Object(x.jsx)(D.a,{className:"m-2 con-vs-card text-center",children:Object(x.jsx)(E,{details:c})})})})]})})}),Z=function(e){var t=e.values,a=t.overallData,s=t.recoveredData,n=t.deathData;return Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{style:{justifyContent:"center"},children:Object(x.jsx)("h4",{style:{textAlign:"center",margin:"1%"},children:"Hospital Figures"})}),Object(x.jsxs)("div",{style:{margin:"1%",justifyContent:"center"},children:[Object(x.jsxs)("div",{className:"figures-div",style:{display:"flex"},children:[Object(x.jsx)("div",{children:Object(x.jsx)("i",{className:"fa fa-hospital-alt",style:{fontSize:"30px",color:"#6b85de",margin:"20px"}})}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{style:{fontSize:"14px"},children:"Total Covid Patient"}),Object(x.jsx)("h1",{style:{color:"#6b85de",float:"left"},children:Y(a)})]})]}),Object(x.jsxs)("div",{className:"figures-div",style:{display:"flex"},children:[Object(x.jsx)("div",{children:Object(x.jsx)("i",{className:"fa fa-bed",style:{fontSize:"30px",color:"#ff8c84",margin:"20px"}})}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{style:{fontSize:"14px",color:"#444444"},children:"Deaths"}),Object(x.jsx)("h1",{style:{color:"#ff8c84",float:"left"},children:Y(n)})]})]}),Object(x.jsxs)("div",{className:"figures-div",style:{display:"flex"},children:[Object(x.jsx)("div",{children:Object(x.jsx)("i",{className:"fa fa-running",style:{fontSize:"40px",color:"#7dca53",margin:"20px"}})}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{style:{fontSize:"14px",color:"#444444"},children:"Recovered"}),Object(x.jsx)("h1",{style:{color:"#7dca53",float:"left"},children:Y(s)})]})]})]})]})},Y=function(e){var t=Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),a=t.split(".");return a.length>1&&(t=a[0]),t},K=function(e){var t=e.values,a=t.activeData,s=t.staffData,n=t.transferedData;return Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{style:{justifyContent:"center"},children:Object(x.jsx)("h4",{style:{textAlign:"center",margin:"1%"},children:"Hospital Figures"})}),Object(x.jsxs)("div",{style:{margin:"1%",justifyContent:"center"},children:[Object(x.jsxs)("div",{className:"figures-div",style:{display:"flex"},children:[Object(x.jsx)("div",{children:Object(x.jsx)("i",{className:"fa fa-hospital-alt",style:{fontSize:"30px",color:"#6b85de",margin:"20px"}})}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{style:{fontSize:"14px",color:"#444444"},children:"Transfered Patients"}),Object(x.jsx)("h1",{style:{color:"#6b85de",float:"left"},children:J(n)})]})]}),Object(x.jsxs)("div",{className:"figures-div",style:{display:"flex"},children:[Object(x.jsx)("div",{children:Object(x.jsx)("i",{className:"fa fa-plus-square","aria-hidden":"true",style:{fontSize:"40px",color:"#ff8c84",margin:"20px"}})}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{style:{fontSize:"14px"},children:"Total Staff Members"}),Object(x.jsx)("h1",{style:{color:"#ff8c84",float:"left"},children:J(s)})]})]}),Object(x.jsxs)("div",{className:"figures-div",style:{display:"flex"},children:[Object(x.jsx)("div",{children:Object(x.jsx)("i",{className:"fa fa-procedures",style:{fontSize:"30px",color:"#fdb01a",margin:"20px"}})}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{style:{fontSize:"14px",color:"#444444"},children:"Receiving Treatment"}),Object(x.jsx)("h1",{style:{color:"#fdb01a",float:"left"},children:J(a)})]})]})]})]})},J=function(e){var t=Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),a=t.split(".");return a.length>1&&(t=a[0]),t},Q=function(e){var t=e.values;console.log(t);var a=[50,50];return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("div",{style:{backgroundColor:"white",position:"bottom"},children:Object(x.jsx)(I.a,{options:{labels:["Total Beds Assign","Free Beds"],colors:["#226EFC","#7dca53"],legend:{position:"bottom"}},series:a,type:"donut",height:390})})})};var ee=function(e){return e.myProp1,e.myProp2,e.myProp3,Object(x.jsxs)("div",{style:{backgroundColor:"white",textAlign:"center"},children:[Object(x.jsx)("br",{}),Object(x.jsx)(I.a,{options:{dataLabels:{enabled:!1},colors:["#226EFC","#7dca53"],stroke:{curve:"smooth"},xaxis:{type:"datetime",categories:["1/22/20","2/1/20","2/15/20","3/1/20","3/15/20","4/1/20","4/15/20","5/1/20","5/7/20"]},tooltip:{x:{format:"dd/MM/yy"}}},series:[{name:"Patient Admitt",data:[555,12038,69030,88369,167466,932638,2055423,3343777,3845718]},{name:"Recovered",data:[28,284,9394,42710,76026,191853,501538,1029651,1255481]}],type:"bar",height:350})]})},te=function(){Object(l.b)();var e=Object(s.useState)(""),t=Object(j.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(""),i=Object(j.a)(c,2),r=i[0],o=i[1],d="",u="",b="";return Object(s.useEffect)((function(){(function(){var e=Object(w.a)(N.a.mark((function e(){var t,a,s,c,i,r,l,j;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.request({url:"http://localhost:8000/api/v1/dashboard/1",method:"get",data:{}});case 2:t=e.sent,console.log(t),t&&(a=t.data.data.test,console.log(a),a.length>0&&(s=a[0],c=s.active,i=s.death,r=s.recovered,l=s.date,d=c.length,u=i.length,b=r.length,l),j={activeData:d,staffData:"",transferedData:""},n({overallData:d+u+b,recoveredData:b,deathData:u}),o(j));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:"vs-row top-content",style:{display:"flex",width:"100%"},children:[Object(x.jsx)("div",{className:"vs-col vs-xs- vs-sm-12 vs-lg-3",style:{margin:"0%",width:"100%",position:"relative"},children:Object(x.jsx)("div",{className:"set-animation from-left animate",children:Object(x.jsx)(D.a,{className:"m-2 con-vs-card text-center",children:Object(x.jsx)(Z,{values:a})})})}),Object(x.jsxs)(D.a,{className:"vs-col vs-xs vs-sm-12 vs-lg-6 mt-2 mb-2",style:{margin:"0%",width:"100%"},children:[Object(x.jsx)("div",{children:Object(x.jsx)("h3",{style:{textAlign:"center",margin:"2%"},children:"Total vs Active Cases"})}),Object(x.jsx)("div",{style:{position:"relative",margin:"2%"},children:Object(x.jsx)(Q,{})})]}),Object(x.jsx)("div",{className:"vs-col vs-xs- vs-sm-12 vs-lg-3",style:{margin:"0%",width:"100%",position:"relative"},children:Object(x.jsx)("div",{className:"set-animation from-left animate",children:Object(x.jsx)(D.a,{className:"m-2 con-vs-card text-center",children:Object(x.jsx)(K,{values:r})})})})]}),Object(x.jsx)("div",{style:{margin:"0%",width:"100%",position:"relative"},children:Object(x.jsx)(D.a,{className:"m-2",style:{margin:"0%"},children:Object(x.jsx)(ee,{})})})]})},ae=a(228),se=a(505),ne=a(230),ce=a(506),ie=a(542),re=function(e){var t=e.list,a=e.defaultSelected,s=e.selected,n=e.onSelect;return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(ie.a,{horizontal:!0,children:[Object(x.jsx)(ie.a.Item,{active:s===a,onClick:function(){return n(a)},action:!0,children:a},"#".concat(a)),t.map((function(e){return Object(x.jsx)(ie.a.Item,{active:s===e,onClick:function(){return n(e)},action:!0,children:e},"#".concat(e))}))]})})},le=a(137),oe=a.n(le);function de(e,t,a){var s=(t-1)*a;return oe()(e).slice(s).take(a).value()}var je=function(e){var t=e.itemsCount,a=e.pageSize,s=e.currentPage,n=e.onPageChange,c=Math.ceil(t/a);if(1===c)return null;var i=oe.a.range(1,c+1);return Object(x.jsx)("nav",{children:Object(x.jsx)("ul",{className:"pagination",children:i.map((function(e){return Object(x.jsx)("li",{className:e===s?"page-item active":"page-item",children:Object(x.jsx)("a",{className:"page-link",onClick:function(){return n(e)},children:e})},e)}))})})},ue=Object(F.c)({name:"patients",initialState:{list:[],admittedPatients:[],waiting:[],waitingLoading:!1,waitingLAstFetch:null,admittedPatientsLoading:!1,admittedPatientsLastFetch:null,loading:!1,lastFetch:null,patientAdded:!1,medicalHistory:!1},reducers:{patientsRegisterRequested:function(e,t){delete e.registerSuccessful,e.registering=!0},patientsRegisterRequestFailed:function(e,t){e.registering=!1},patientsRegisterRequestSucceeded:function(e,t){delete e.registering,e.registerSuccessful=!0,e.list.push(t.payload.data),e.patientAdded=!0},patientsRequested:function(e,t){e.loading=!0},patientsRequestFailed:function(e,t){e.loading=!1},patientsReceived:function(e,t){e.list=t.payload.data.patients,e.loading=!1,e.lastFetch=Date.now()},admittedPatientsRequested:function(e,t){e.admittedPatientsLoading=!0},admittedPatientsRequestFailed:function(e,t){e.admittedPatientsLoading=!1},admittedPatientsReceived:function(e,t){e.admittedPatients=t.payload.data.patients,e.admittedPatientsLoading=!1,e.admittedPatientsLastFetch=Date.now()},waitingPatientsRequested:function(e,t){e.waitingLoading=!0},waitingPatientsRequestFailed:function(e,t){e.waitingLoading=!1},waitingPatientsReceived:function(e,t){e.waiting=t.payload.data.medicalHistory,e.waitingLoading=!1,e.waitingLAstFetch=Date.now()},patientSymptomsUpdated:function(e,t){console.log(t.payload.data);var a=t.payload.data.medicalHistory,s=a.patient,n=a._id,c=e.list.findIndex((function(e){return e._id===s})),i=e.list[c].medicalHistory,r=i.findIndex((function(e){return e._id===n}));i[r].symptoms=t.payload.data.medicalHistory.symptoms},patientDrugsUpdated:function(e,t){console.log(t.payload.data);var a=t.payload.data.medicalHistory,s=a.patient,n=a._id,c=e.list.findIndex((function(e){return e._id===s})),i=e.list[c].medicalHistory,r=i.findIndex((function(e){return e._id===n}));i[r].drugDetails=t.payload.data.medicalHistory.drugDetails},patientTransferUpdated:function(e,t){console.log(t.payload.data.medicalHistory)},patientUpdated:function(e,t){var a=t.payload.data.patient._id;console.log(t.payload.data.patient);var s=e.list.findIndex((function(e){return e._id===a}));console.log(s)},patientAdmitRequest:function(e,t){},patientAdmitFailed:function(e,t){console.log(t.payload.data),e.medicalHistory=!1},patientAdmitSuccess:function(e,t){e.medicalHistory=!0,console.log(t.payload.data);var a=t.payload.data.test,s=a.patient,n=(a._id,e.list.findIndex((function(e){return e._id===s})));e.list[n].medicalHistory.push(t.payload.data.test),e.admittedPatients.push(e.list[n])},selectedPatientTransferUpdated:function(e,t){},patientDischarged:function(e,t){console.log(t.payload.data.medicalHistory);var a=t.payload.data.medicalHistory,s=a.patient,n=a._id,c=e.list.findIndex((function(e){return e._id===s})),i=e.list[c].medicalHistory,r=i.findIndex((function(e){return e._id===n}));i[r]=t.payload.data.medicalHistory},patientChangeWard:function(e,t){console.log(t.payload.data.medicalHistory);var a=t.payload.data.medicalHistory,s=a.patient,n=a._id,c=e.admittedPatients.findIndex((function(e){return e._id===s})),i=e.admittedPatients[c].medicalHistory,r=i.findIndex((function(e){return e._id===n}));i[r]=t.payload.data.medicalHistory}}}),be=ue.reducer,he=ue.actions,me=he.patientsRequested,Oe=he.patientsReceived,xe=he.patientsRequestFailed,fe=(he.patientsRegisterRequested,he.patientsRegisterRequestFailed,he.patientsRegisterRequestSucceeded,he.patientUpdated,he.patientSymptomsUpdated),pe=he.patientDrugsUpdated,ve=he.patientTransferUpdated,ge=he.selectedPatientTransferUpdated,ye=he.patientAdmitRequest,Ne=he.patientAdmitSuccess,we=he.patientAdmitFailed,Ce=(he.patientDischarged,he.admittedPatientsReceived),Se=he.admittedPatientsRequestFailed,Pe=he.admittedPatientsRequested,Ie=he.waitingPatientsReceived,Ae=he.waitingPatientsRequestFailed,Re=he.waitingPatientsRequested,Le=he.patientChangeWard,Ee="/api/v1/",ke=M.REFRESH_TIME,De=function(){return function(e,t){var a=t().entities.patients.lastFetch;if(!(W()().diff(W()(a),"minutes")<ke))return e(q({url:"/api/v1/patients/",onStart:me.type,onSuccess:Oe.type,onError:xe.type}))}},Te=Object(B.a)((function(e){return e.entities.patients}),(function(e){return e})),_e=Object(B.a)((function(e){return e.entities.patients}),(function(e){return e})),Fe=Object(B.a)((function(e){return e.entities.patients.loading}),(function(e){return e})),qe=Object(B.a)((function(e){return e.entities.patients.admittedPatients}),(function(e){return e})),He=Object(B.a)((function(e){return e.entities.patients.admittedPatientsLoading}),(function(e){return e})),ze=Object(B.a)((function(e){return e.entities.patients}),(function(e){return e})),Be=function(e,t){return function(a){return console.log(t),a(q({url:Ee+"med/".concat(t,"/changehospitalrequest"),method:"post",data:e,onSuccess:ve.type}))}},Me=function(e){return function(t){return console.log(e),t(q({url:"/api/v1/med",method:"post",data:e,onStart:ye,onSuccess:Ne,onError:we}))}};function Ge(e,t,a){if(console.log(a),"All"===a)return e;if("Active"===a){var s=e.filter((function(e){return e.currentMedicalHistory}));return console.log(s),s}return e}function We(e,t){if("undefined"===typeof e||0===e.length)return"";var a=e.user;if(!a)return"";if("name"===t){var s=a.name;return s.firstName+" "+s.lastName}if("age"===t){var n=a.birthday;return(new Date).getFullYear()-n.split("-")[0]}if("tel"===t)return a.contactNo;if("address"===t){var c=a.address;return c.city+","+c.line1+","+c.line2+","+c.province}}var Ue=function(e){var t=e.history,a=Object(l.b)(),n=Object(l.c)((function(e){return e.auth})),c=Object(l.c)(_e).list;console.log(c);var i=Object(l.c)(Fe),r=Object(o.l)().category;r||(r="All");var d=["All","Active"],u=d.filter((function(e){return e!==r})),h=Object(s.useState)(r),m=Object(j.a)(h,2),O=m[0],f=m[1],p=Object(s.useState)(c),v=Object(j.a)(p,2),g=v[0],y=v[1],N=Object(s.useState)(1),w=Object(j.a)(N,2),C=w[0],S=w[1],P=Object(s.useState)(c),I=Object(j.a)(P,2),A=I[0],R=I[1],L=Object(s.useState)(""),E=Object(j.a)(L,2),k=E[0],D=E[1];return Object(s.useEffect)((function(){n.loggedIn||t.push("/"),a(De());var e=Ge(function(e,t){if("undefined"===typeof e||0===e.length)return{};return e.filter((function(e){return We(e,"name").toLowerCase().includes(t)||function(e){var t=e.nic;if(t){return t.nicno.toString()}return""}(e).includes(t.toString())}))}(c,k),u,O);y(e),R(de(e,C,5))}),[k]),Object(x.jsxs)(x.Fragment,{children:[("undefined"===typeof c||0==c.length)&&i&&Object(x.jsx)(_,{}),Object(x.jsxs)(b.a,{children:[Object(x.jsx)("h3",{style:{textAlign:"center",marginBottom:"40px",fontWeight:"700"},children:"PATIENTS DETAILS"}),Object(x.jsx)(ae.a,{className:"btn btn-success",style:{float:"right",padding:"10px"},onClick:function(){return t.push("/hospital/admitPatient")},children:"+ admit patient"}),Object(x.jsx)(se.a,{id:"search-bar",style:{padding:"0px 200px 20px 200px",color:"blue"},children:Object(x.jsx)(ne.a,{className:"textBox",placeholder:"search patient by using name or NIC...","aria-label":"searchPatient","aria-describedby":"basic-addon2",size:"lg",value:k,onChange:function(e){return D(e.target.value)}})}),Object(x.jsx)(re,{onSelect:function(e){f(e);var t=Ge(c,d,e);y(t),R(de(t,1,5))},defaultSelected:r,selected:O,list:u.map((function(e){return e}))}),0===c.length?Object(x.jsx)("h1",{children:"No data"}):Object(x.jsxs)(ce.a,{striped:!0,bordered:!0,hover:!0,variant:"light",children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Name"}),Object(x.jsx)("th",{children:"Age"}),Object(x.jsx)("th",{children:"Tel"}),Object(x.jsx)("th",{children:"Address"}),Object(x.jsx)("th",{children:"Action"})]})}),Object(x.jsx)("tbody",{children:A.map((function(e){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:We(e,"name")}),Object(x.jsx)("td",{children:We(e,"age")}),Object(x.jsx)("td",{children:We(e,"tel")}),Object(x.jsx)("td",{children:We(e,"address")}),Object(x.jsx)("td",{children:Object(x.jsx)(ae.a,{value:e._id,onClick:function(){return t.push("/hospital/Profile/".concat(e._id))},className:"btn btn-primary",children:"Profile"})})]})}))})]}),Object(x.jsx)(je,{itemsCount:g.length,pageSize:5,currentPage:C,onPageChange:function(e){S(e),R(de(g,e,5))}})]})]})},Ve=a(533),$e=Object(F.c)({name:"hospitals",initialState:{list:[],loading:!1,lastFetch:null,hospitalAdded:!1,wardAdded:!1},reducers:{hospitalCreateRequested:function(e,t){e.loading=!0,e.hospitalAdded=!1},hospitalCreateRequestFailed:function(e,t){e.loading=!1},hospitalCreateRequestSucceeded:function(e,t){var a=t.payload.data.hospital;console.log(a),e.list.push(a),e.loading=!1,e.hospitalAdded=!0},wardCreateRequested:function(e,t){e.loading=!0,e.wardAdded=!1},wardCreateRequestFailed:function(e,t){e.loading=!1},wardCreateRequestSucceeded:function(e,t){e.loading=!1,e.wardAdded=!0},hospitalRequested:function(e,t){e.loading=!0},hospitalRequestFailed:function(e,t){e.loading=!1},hospitalReceived:function(e,t){e.list=t.payload.data.hospitals,e.loading=!1,e.lastFetch=Date.now()},hospitalUpdated:function(e,t){},wardUpdated:function(e,t){var a=t.payload.data;console.log(a)}}}),Xe=$e.reducer,Ze=$e.actions,Ye=Ze.hospitalRequested,Ke=Ze.hospitalRequestFailed,Je=Ze.hospitalReceived,Qe=Ze.hospitalCreateRequested,et=Ze.hospitalCreateRequestFailed,tt=Ze.hospitalCreateRequestSucceeded,at=(Ze.wardUpdated,Ze.wardDelete,Ze.wardCreateRequested),st=Ze.wardCreateRequestFailed,nt=Ze.wardCreateRequestSucceeded,ct="/api/v1/hospital",it=M.REFRESH_TIME,rt=function(){return function(e,t){var a=t().entities.hospital.lastFetch;if(!(W()().diff(W()(a),"minutes")<it))return e(q({url:ct,onStart:Ye.type,onSuccess:Je.type,onError:Ke.type}))}},lt=Object(B.a)((function(e){return e.entities.loading}),(function(e){return e})),ot=Object(B.a)((function(e){return e.entities.hospital}),(function(e){return e})),dt=Object(B.a)((function(e){return e.entities.hospital}),(function(e){return e.list})),jt=a(138),ut=function(e){var t=e.patients,a=e.currentHospital,s=e.userHospital;e.id;console.log(t);var n=Object(l.c)((function(e){return e.auth})).data.user.user;return Object(x.jsx)(D.a,{className:"m-2",bg:"#ffffff",text:"black",style:{width:"100%"},children:Object(x.jsxs)("ul",{className:"profile-info-list mt-2",children:[Object(x.jsx)("li",{className:"title ",children:"PERSONAL INFORMATION"}),Object(x.jsxs)("li",{children:[Object(x.jsx)("div",{className:"field",children:"Name:"}),Object(x.jsx)("div",{className:"value",children:bt(t,"name")})]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("div",{className:"field",children:"Age:"}),Object(x.jsx)("div",{className:"value",children:bt(t,"age")})]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("div",{className:"field",children:"Birth of Date:"}),Object(x.jsx)("div",{className:"value",children:bt(t,"birthday")})]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("div",{className:"field",children:"Tel Number:"}),Object(x.jsx)("div",{className:"value",children:t.contactNo})]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("div",{className:"field",children:"Address:"}),Object(x.jsx)("div",{className:"value",children:Object(x.jsx)("address",{className:"m-b-0",children:bt(t,"address")})})]}),a===s&&"patient"===n.role?Object(x.jsx)("div",{children:Object(x.jsx)(ae.a,{type:"submit",className:"btn btn-primary",onClick:function(){return window.location="/hospital/editProfile/".concat(t._id)},children:"Edit Profile"})}):""]})})};function bt(e,t){if("undefined"===typeof e||0===e.length)return"";var a=e.name,s=e.address,n=e.birthday;if("name"===t)return a.firstName+" "+a.lastName;if("address"===t)return s.city+","+s.line1+","+s.line2+","+s.district;if("birthday"===t){var c=n.split("-");return c[0]+"-"+c[1]+"-"+(c[2][0]+c[2][1])}return"age"===t?(new Date).getFullYear()-n.split("-")[0]:void 0}var ht=function(e){var t=e.patients,a=e.userHospital,s=e.currentHospital,n=e.hospitals,c=e.wards,i=(e.pcr,Object(l.c)((function(e){return e.auth})).data.user.user);return Object(x.jsxs)(D.a,{className:"m-2 con-vs-card",children:[Object(x.jsx)("h5",{className:"text-center mt-2 font-weight-bold",children:"CURRENT DETAILS"}),Object(x.jsx)("div",{style:{overflow:"auto",overflowX:"hidden"},children:Object(x.jsxs)("ul",{className:"profile-info-list",children:[Object(x.jsxs)("li",{className:"current",style:{width:"50%",float:"left",position:"relative"},children:[Object(x.jsxs)("li",{children:[Object(x.jsx)("div",{className:"field",children:"Hospital Name:"}),Object(x.jsx)("div",{className:"value",children:Ot(t,n)})]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("div",{className:"field",children:"Admitted Date:"}),Object(x.jsx)("div",{className:"value",children:t.admittedDate})]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("div",{className:"field",children:"Ward No:"}),Object(x.jsx)("div",{className:"value",children:xt(c,t.ward)})]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("div",{className:"field",children:"Symptoms:"}),mt(t,"symptoms").length>0?Object(x.jsx)("ul",{className:"value",children:mt(t,"symptoms").map((function(e){return e.description.map((function(t){return Object(x.jsxs)("li",{children:[e.date," - ",t]})}))}))}):"No data"]})]}),Object(x.jsxs)("li",{className:"current",style:{width:"50%",float:"left",position:"relative"},children:[Object(x.jsxs)("li",{children:[Object(x.jsx)("div",{className:"field",children:"Transfer Date:"}),Object(x.jsxs)("div",{className:"value m-2",children:["Hospital Name: "," "]}),Object(x.jsx)("div",{className:"value m-2",children:"Transfer State: "}),Object(x.jsx)("div",{className:"value m-2",children:"Transfer Date"})]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("div",{className:"field",children:"Drug Details:"}),mt(t,"drugs").length>0?Object(x.jsx)("ul",{className:"value",children:mt(t,"drugs").map((function(e){return e.description.map((function(t){return Object(x.jsxs)("li",{children:[e.date," - ",t]})}))}))}):"No data"]})]})]})}),"patient"!==i.role&&t&&Object(x.jsx)("div",{className:"text-center m-2",children:s===a?Object(x.jsx)(ae.a,{type:"submit",className:"btn btn-primary m-2 text-center",onClick:function(){return window.location="/hospital/editCurrentDetails/".concat(t._id)},children:"Update Details"}):Object(x.jsxs)("div",{children:[Object(x.jsx)(ae.a,{className:"btn btn-prymary m-2",children:"Accept"}),Object(x.jsx)(ae.a,{className:"btn btn-danger m-2",children:"Decline"})]})})]})};function mt(e,t){if("undefined"===typeof e||0===e.length)return"";var a=e.dischargeDate,s=e.drugDetails,n=e.symptoms;return a&&"discharge"===t?a.changed:s&&"drugs"===t?s:n&&"symptoms"===t?n:""}function Ot(e,t){if("undefined"===typeof t||0===t.length)return"";var a=e.hospital;return t.filter((function(e){return e._id===a}))[0].name}function xt(e,t){return"undefined"===typeof e||0===e.length?"":e.filter((function(e){return e._id===t}))[0].name}var ft=function(e){var t=e.patientHistory,a=e.filteredHistory,s=e.hospital,n=e.ward;return console.log(s),Object(x.jsx)(D.a,{className:"m-2",children:Object(x.jsx)("div",{style:{overflow:"auto",overflowX:"hidden"},children:Object(x.jsxs)("ul",{className:"profile-info-list",children:[Object(x.jsxs)("li",{className:"current",style:{width:"50%",float:"left",position:"relative"},children:[Object(x.jsxs)("li",{children:[Object(x.jsx)("div",{className:"field",children:"Hospital Name:"}),0!==a.length?Object(x.jsx)("div",{className:"value",children:s.name}):""]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("div",{className:"field",children:"Admitted Date:"}),0!==a.length?Object(x.jsx)("div",{className:"value",children:t.admittedDate}):""]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("div",{className:"field",children:"Ward No:"}),Object(x.jsx)("div",{className:"value",children:n.name})]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("div",{className:"field",children:"Symptoms:"}),pt(t,"symptoms").length>0?Object(x.jsx)("ul",{className:"value",children:pt(t,"symptoms").map((function(e){return Object(x.jsxs)("li",{children:[e.date," - ",e.description]})}))}):"No data"]})]}),Object(x.jsxs)("li",{className:"current",style:{width:"50%",float:"left",position:"relative"},children:[Object(x.jsxs)("li",{children:[Object(x.jsx)("div",{className:"field",children:"Discharged Date:"}),Object(x.jsx)("div",{className:"value",children:t.dischargeDate})]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("div",{className:"field",children:"Transfer Date:"}),Object(x.jsx)("div",{className:"value m-2",children:"Hospital Name:"}),Object(x.jsx)("div",{className:"value m-2",children:"Transfer State: "}),Object(x.jsx)("div",{className:"value m-2",children:"Transfer Date"})]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("div",{className:"field",children:"Drug Details:"}),pt(t,"drugs").length>0?Object(x.jsx)("ul",{className:"value",children:pt(t,"drugs").map((function(e){return Object(x.jsxs)("li",{children:[e.date," - ",e.description]})}))}):"No data"]})]})]})})})};function pt(e,t){if("undefined"===typeof e||0===e.length)return"";var a=e.drugDetails,s=e.symptoms;return a&&"drugs"===t?a:s&&"symptoms"===t?s:""}var vt=function(e){var t=e.match,a=e.history,n=Object(l.b)(),c=t.params.id,i=Object(l.c)((function(e){return e.auth})),r=i.data.user,o=r;console.log(r);var d=Object(s.useState)([]),u=Object(j.a)(d,2),h=u[0],m=u[1],O=Object(l.c)(dt);console.log(h);var f=Object(s.useState)(""),p=Object(j.a)(f,2),g=p[0],y=p[1],C=Object(s.useState)(""),P=Object(j.a)(C,2),I=P[0],A=P[1],R=Object(s.useState)([]),L=Object(j.a)(R,2),E=L[0],k=L[1],T=Object(s.useState)(E),_=Object(j.a)(T,2),F=_[0],q=_[1],H=Object(s.useState)(!1),z=Object(j.a)(H,2),B=z[0],M=z[1],G=function(e,t){"start"===t?y(e):A(e)},W=function(){if(g<=I){var e=function(e,t,a){var s=gt(a,"history");if(""!==s)return s.filter((function(a){return a.admittedDate>=e&&a.admittedDate<=t}));return""}(g,I,h);q(e),k(e),M(!0)}};return Object(s.useEffect)((function(){(function(){var e=Object(w.a)(N.a.mark((function e(){var t,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("http://localhost:8000/api/v1/patients/".concat(c));case 2:t=e.sent,a=t.data,m(a.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),n(rt())}),[h]),Object(x.jsx)(b.a,{children:i.loggedIn?Object(x.jsxs)("div",{children:[Object(x.jsx)("h4",{style:{textAlign:"center",fontWeight:"700"},children:"PATIENT PROFILE"}),Object(x.jsxs)("div",{className:"vs-row top-content",style:{display:"flex",width:"100%"},children:[Object(x.jsx)("div",{className:"vs-col vs-xs- vs-sm-12 vs-lg-3",style:{margin:"0%",width:"100%",position:"relative"},children:Object(x.jsx)("div",{className:"set-animation from-left animate",children:Object(x.jsx)(ut,{patients:gt(o,"user")})})}),Object(x.jsx)("div",{className:"vs-col vs-xs- vs-sm-12 vs-lg-6",style:{margin:"0%",width:"100%",position:"relative"},children:Object(x.jsx)("div",{className:"set-animation from-left animate",children:h.currentMedicalHistory?Object(x.jsx)(ht,{patients:gt(h,"history").slice(-1)[0]}):Object(x.jsx)(ht,{patients:"",currentHospital:"",userHospital:""})})})]}),Object(x.jsxs)("div",{className:"vs-row top-content",style:{display:"flex",width:"100%"},children:[Object(x.jsx)("div",{className:"vs-col vs-xs vs-sm-12 vs-lg-3",style:{marginLeft:"0%",marginRight:"0%",width:"100%"},children:Object(x.jsxs)(D.a,{className:"m-2",children:[Object(x.jsx)("h5",{className:"m-2 font-weight-bold",style:{textAlign:"center"},children:"SEARCH MEDICAL HISTORY"}),Object(x.jsxs)(Ve.a.Group,{as:v.a,controlId:"sd",children:[Object(x.jsx)(Ve.a.Label,{class:"float-left",className:"form-label",children:"Start Date:"}),Object(x.jsx)(Ve.a.Control,{type:"date",name:"start_date",onChange:function(e){G(e.target.value,"start")},required:!0}),Object(x.jsx)(ne.a.Feedback,{type:"invalid",children:"This field is required!"})]}),Object(x.jsxs)(Ve.a.Group,{as:v.a,controlId:"ed",children:[Object(x.jsx)(Ve.a.Label,{class:"float-left",className:"form-label",children:"End Date:"}),Object(x.jsx)(Ve.a.Control,{type:"date",name:"end_date",onChange:function(e){G(e.target.value,"end")},required:!0}),Object(x.jsx)(ne.a.Feedback,{type:"invalid",children:"This field is required!"})]}),""!==g&&""!==I&&g>I?Object(x.jsx)(D.a,{style:{backgroundColor:"#fca8a4",color:"#b73333",opacity:"0.5",padding:"10px",margin:"5px"},className:"m-2",children:"Start date must be past to the end date"}):"",""!==g&&""!==I&&0===E.length&&B?Object(x.jsx)(D.a,{style:{backgroundColor:"#fca8a4",color:"#b73333",opacity:"0.5",padding:"10px",margin:"5px"},className:"m-2",children:"No Medical History Data"}):"",Object(x.jsx)(ae.a,{className:"btn btn-primary m-2",disabled:""===g||""===I,onClick:function(){return W()},children:"Search"})]})}),Object(x.jsx)("div",{className:"vs-col vs-xs vs-sm-12 vs-lg-6",style:{marginLeft:"0%",marginRight:"0%",width:"100%"},children:Object(x.jsx)(ft,{patientHistory:F,filteredHistory:E,hospital:yt(E,O)})}),0!==E.length&&Object(x.jsx)("div",{className:"vs-col vs-xs vs-sm-12 vs-lg-3",style:{marginLeft:"0%",marginRight:"0%",width:"100%"},children:Object(x.jsx)(D.a,{className:"m-2",children:Object(x.jsxs)("div",{children:[Object(x.jsx)("h5",{className:"text-center m-2 font-weight-bold",children:"MEDICAL HISTORY LIST"}),Object(x.jsx)(jt.Scrollbars,{style:{width:"100%",minHeight:"15rem",height:"auto",overflowX:"hidden",border:"1px black"},children:Object(x.jsx)("ul",{className:"m-2",children:E.map((function(e){return Object(x.jsx)(ae.a,{className:"btn btn-light",style:{width:"80%",borderRadius:"0px"},onClick:function(){return q(e)},children:e.admittedDate})}))})})]})})})]})]}):a.push("/")})};function gt(e,t){if("undefined"===typeof e||0===e.length)return"";var a=e.medicalHistory,s=e.user;return s&&"user"===t?s:a&&"history"===t?a:""}function yt(e,t){return 0===e.length?"":t.filter((function(t){return t._id===e[0].hospital}))[0]}var Nt=function(e){var t=e.values,a=t.totalActiveCases,s=t.totalDeaths,n=t.totalRecovered;return Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{style:{justifyContent:"center"},children:Object(x.jsx)("h4",{style:{textAlign:"center",margin:"1%"},children:"Total Figures"})}),Object(x.jsxs)("div",{style:{margin:"1%",justifyContent:"center"},children:[Object(x.jsxs)("div",{className:"figures-div",style:{display:"flex"},children:[Object(x.jsx)("div",{children:Object(x.jsx)("i",{className:"fa fa-hospital-alt",style:{fontSize:"30px",color:"#6b85de",margin:"20px"}})}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{style:{fontSize:"14px"},children:"Total Cases"}),Object(x.jsx)("h1",{style:{color:"#6b85de",float:"left"},children:wt(a)})]})]}),Object(x.jsxs)("div",{className:"figures-div",style:{display:"flex"},children:[Object(x.jsx)("div",{children:Object(x.jsx)("i",{className:"fa fa-bed",style:{fontSize:"30px",color:"#ff8c84",margin:"20px"}})}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{style:{fontSize:"14px"},children:"Deaths"}),Object(x.jsx)("h1",{style:{color:"#ff8c84",float:"left"},children:wt(s)})]})]}),Object(x.jsxs)("div",{className:"figures-div",style:{display:"flex"},children:[Object(x.jsx)("div",{children:Object(x.jsx)("i",{className:"fa fa-running",style:{fontSize:"40px",color:"#7dca53",margin:"20px"}})}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{style:{fontSize:"14px"},children:"Recovered"}),Object(x.jsx)("h1",{style:{color:"#7dca53",float:"left"},children:wt(n)})]})]})]})]})},wt=function(e){var t=Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),a=t.split(".");return a.length>1&&(t=a[0]),t},Ct=function(e){var t=e.values,a=t.nohospital,s=t.totalBeds,n=t.freeBeds;return Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{style:{justifyContent:"center"},children:Object(x.jsx)("h4",{style:{textAlign:"center",margin:"1%"},children:"Total Figures"})}),Object(x.jsxs)("div",{style:{margin:"1%",justifyContent:"center"},children:[Object(x.jsxs)("div",{className:"figures-div",style:{display:"flex"},children:[Object(x.jsx)("div",{children:Object(x.jsx)("i",{className:"fa fa-hospital-alt",style:{fontSize:"30px",color:"#6b85de",margin:"20px"}})}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{style:{fontSize:"14px"},children:"Total Hospitals"}),Object(x.jsx)("h1",{style:{color:"#6b85de",float:"left"},children:St(a)})]})]}),Object(x.jsxs)("div",{className:"figures-div",style:{display:"flex"},children:[Object(x.jsx)("div",{children:Object(x.jsx)("i",{className:"fa fa-plus-circle","aria-hidden":"true",style:{fontSize:"40px",color:"#ff8c84",margin:"20px"}})}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{style:{fontSize:"14px"},children:"Total Beds"}),Object(x.jsx)("h1",{style:{color:"#ff8c84",float:"left"},children:St(s)})]})]}),Object(x.jsxs)("div",{className:"figures-div",style:{display:"flex"},children:[Object(x.jsx)("div",{children:Object(x.jsx)("i",{className:"fa fa-procedures",style:{fontSize:"30px",color:"#fdb01a",margin:"20px"}})}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{style:{fontSize:"14px"},children:"Total Beds Left"}),Object(x.jsx)("h1",{style:{color:"#fdb01a",float:"left"},children:St(n)})]})]})]})]})},St=function(e){var t=Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),a=t.split(".");return a.length>1&&(t=a[0]),t};var Pt=function(e){var t=e.keys,a=e.values,s=It(t),n=It(a),c=[{data:n}],i={plotOptions:{bar:{horizontal:!0,dataLabels:{enabled:!0}}},xaxis:{categories:s}};return Object(x.jsxs)(x.Fragment,{children:[!s&&!n&&Object(x.jsx)(_,{}),Object(x.jsxs)("div",{style:{backgroundColor:"white",textAlign:"center"},children:[Object(x.jsx)("br",{}),Object(x.jsx)(I.a,{options:i,series:c,type:"bar"})]})]})};function It(e){if(e)return e.slice(0,10)}var At=function(){var e=Object(s.useState)(""),t=Object(j.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(""),i=Object(j.a)(c,2),r=i[0],l=i[1],o=Object(s.useState)(""),d=Object(j.a)(o,2),u=d[0],b=d[1],h=Object(s.useState)([]),m=Object(j.a)(h,2),O=m[0],f=m[1],p=Object(s.useState)([]),v=Object(j.a)(p,2),g=v[0],y=v[1];return Object(s.useEffect)((function(){(function(){var e=Object(w.a)(N.a.mark((function e(){var t,a,s,c,i,r,o,d,j,u,h;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.request({url:"http://localhost:8000/api/v1/dashboard/publicdashboard",method:"get",data:{}});case 2:return t=e.sent,e.next=5,S.a.request({url:"http://localhost:8000/api/v1/dashboard/1",method:"get",data:{}});case 5:e.sent,t&&(a=t.data.data,s=a.dashboard,a.history,c=a.hospital,i=s.totalActiveCases,r=s.totalDeaths,o=s.totalRecovered,n({totalActiveCases:i,totalDeaths:r,totalRecovered:o}),d=c.nohospital,j=c.totalBeds,u=c.freeBeds,h=c.admittedPatients,l({nohospital:d,totalBeds:j,freeBeds:u}),b({firstValue:h,secondValue:u}),f(Object.keys(s.districtTotals)),y(Object.values(s.districtTotals)));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:"vs-row top-content",style:{display:"flex",width:"100%"},children:[Object(x.jsx)("div",{className:"vs-col vs-xs- vs-sm-12 vs-lg-3",style:{margin:"0%",width:"100%",position:"relative"},children:Object(x.jsx)("div",{className:"set-animation from-left animate",children:Object(x.jsx)(D.a,{className:"m-2 con-vs-card text-center",children:Object(x.jsx)(Nt,{values:a})})})}),Object(x.jsxs)(D.a,{className:"vs-col vs-xs vs-sm-12 vs-lg-6 mt-2 mb-2",style:{margin:"0%",width:"100%"},children:[Object(x.jsx)("div",{children:Object(x.jsx)("h3",{style:{textAlign:"center",margin:"2%"},children:"Total vs Active Cases (SL)"})}),Object(x.jsx)("div",{style:{position:"relative",margin:"2%"},children:Object(x.jsx)(Q,{values:u})})]}),Object(x.jsx)("div",{className:"vs-col vs-xs- vs-sm-12 vs-lg-3",style:{margin:"0%",width:"100%",position:"relative"},children:Object(x.jsx)("div",{className:"set-animation from-left animate",children:Object(x.jsx)(D.a,{className:"m-2 con-vs-card text-center",children:Object(x.jsx)(Ct,{values:r})})})})]}),Object(x.jsxs)("div",{className:"vs-row top-content",style:{display:"flex",width:"100%"},children:[Object(x.jsx)("div",{className:"vs-col vs-xs vs-sm-12 vs-lg-6",style:{marginLeft:"0%",marginRight:"0%",width:"100%"},children:Object(x.jsxs)(D.a,{className:"m-2",children:[Object(x.jsx)("div",{style:{position:"relative",margin:"2%"},children:Object(x.jsx)("h3",{style:{textAlign:"center",margin:"2%"},children:"Most Covid Patient Admitted Hospitals"})}),Object(x.jsx)("div",{style:{position:"relative",margin:"2%"},children:Object(x.jsx)(Pt,{keys:["National Hospital of Sri Lanka","Lady Ridgeway Hospital for Children","Castle Street Hospital for Women","Base Hospital Mulleriyawa","North Colombo Teaching Hospital","District General Hospital Negombo","District General Hospital Gampaha","National Hospital Kandy","Teaching Hospital Karapitiya","District General Hospital Hambantota"],values:g})})]})}),Object(x.jsx)("div",{className:"vs-col vs-xs vs-sm-12 vs-lg-6",style:{marginLeft:"0%",marginRight:"0%",width:"100%"},children:Object(x.jsxs)(D.a,{className:"m-2",children:[Object(x.jsx)("div",{style:{position:"relative",margin:"2%"},children:Object(x.jsx)("h3",{style:{textAlign:"center",margin:"2%"},children:"Most Covid Patient Recorded Districts"})}),Object(x.jsx)("div",{style:{position:"relative",margin:"2%"},children:Object(x.jsx)(Pt,{keys:O,values:g})})]})})]})]})},Rt=Object(F.b)("toast"),Lt=a(543);function Et(e){var t=Object(l.b)(),a=Object(l.c)(ot),n=Object(s.useState)(""),c=Object(j.a)(n,2),i=c[0],r=c[1],o=Object(s.useState)(""),d=Object(j.a)(o,2),u=d[0],h=d[1],m=Object(s.useState)(""),O=Object(j.a)(m,2),f=O[0],p=O[1],g=Object(s.useState)(""),y=Object(j.a)(g,2),N=y[0],w=y[1],C=Object(s.useState)(""),S=Object(j.a)(C,2),P=S[0],I=S[1],A=Object(s.useState)(!1),R=Object(j.a)(A,2),L=R[0],E=R[1];return Object(s.useEffect)((function(){a.hospitalAdded&&L&&(E(!1),t(Rt({message:"Hospital Added Successfully",type:"info"})),window.location.href="/healthMinistry/hospital")}),[t,a]),Object(x.jsx)(b.a,{children:Object(x.jsxs)(Lt.a,{sx:{bgcolor:"#cfe8fc",height:"850px"},children:[Object(x.jsxs)("div",{className:"col-10 mx-auto banner text-center",children:[Object(x.jsx)("br",{}),Object(x.jsx)("h3",{className:"text-capitalize",children:Object(x.jsx)("strong",{className:"banner-title",children:"Want to Add NEW HOSPITAL?"})})]}),Object(x.jsxs)(Ve.a,{className:"form",onSubmit:function(e){e.preventDefault();var a={name:i,Contact:[u],address:{district:f,city:N,province:P}};!function(e){return/^[A-Za-z\b]+$/.test(e)}(i)?alert("Hospital Name should not include digits"):!function(e){return/^(0)([0-9]{9})$/.test(e)}(u)?alert("Enter valid telephone number"):!function(e){return/^[A-Za-z\b]+$/.test(e)}(N)?alert("City should not include digits"):(t(function(e){return function(t){return console.log(e),t(q({url:ct,method:"post",data:e,onStart:Qe,onSuccess:tt.type,onError:et}))}}(a)),E(!0))},children:[Object(x.jsxs)(Ve.a.Group,{as:v.a,controlId:"name",children:[Object(x.jsx)(Ve.a.Label,{class:"float-left",className:"form-label",children:Object(x.jsx)("strong",{children:"HOSPITAL NAME:"})}),Object(x.jsx)(v.a,{sm:12,children:Object(x.jsx)(Ve.a.Control,{type:"text",id:"name",placeholder:"Enter Hospital Name",onChange:function(e){return r(e.target.value)},required:!0})})]}),Object(x.jsxs)(Ve.a.Group,{as:v.a,controlId:"contact",children:[Object(x.jsx)(Ve.a.Label,{class:"float-left",className:"form-label",children:Object(x.jsx)("strong",{children:"CONTACT NUMBER:"})}),Object(x.jsxs)(v.a,{sm:12,children:[Object(x.jsx)(Ve.a.Control,{type:"number",id:"contact",placeholder:"0XXXXXXXXX",required:!0,onChange:function(e){return h(e.target.value)}}),Object(x.jsxs)("small",{children:["*Should start with 0 ",Object(x.jsx)("br",{}),"*Should consist of 10 digits"]})]})]}),Object(x.jsxs)(Ve.a.Group,{as:v.a,controlId:"formCity",children:[Object(x.jsx)(Ve.a.Label,{class:"float-left",className:"form-label",children:Object(x.jsx)("strong",{children:"CITY:"})}),Object(x.jsx)(v.a,{sm:12,children:Object(x.jsx)(Ve.a.Control,{type:"text",id:"city",required:!0,placeholder:"Enter City",onChange:function(e){return w(e.target.value)}})})]}),Object(x.jsxs)(Ve.a.Group,{as:v.a,controlId:"formDistrict",children:[Object(x.jsx)(Ve.a.Label,{class:"float-left",className:"form-label",children:Object(x.jsx)("strong",{children:"DISTRICT:"})}),Object(x.jsx)(v.a,{sm:12,children:Object(x.jsxs)(Ve.a.Control,{as:"select",id:"district",onChange:function(e){return p(e.target.value)},required:!0,children:[Object(x.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select Here "}),Object(x.jsx)("option",{value:"Colombo",children:"Colombo"}),Object(x.jsx)("option",{value:"Gampaha",children:"Gampaha"}),Object(x.jsx)("option",{value:"Kalutara",children:"Kalutara"}),Object(x.jsx)("option",{value:"Kandy",children:"Kandy "}),Object(x.jsx)("option",{value:"Matale",children:"Matale "}),Object(x.jsx)("option",{value:"Nuwera-Eliya",children:"Nuwera-Eliya"}),Object(x.jsx)("option",{value:"Galle",children:"Galle "}),Object(x.jsx)("option",{value:"Matara",children:"Matara"}),Object(x.jsx)("option",{value:"Hambantota",children:"Hambantota "}),Object(x.jsx)("option",{value:"Jaffna",children:"Jaffna "}),Object(x.jsx)("option",{value:"Mannar",children:"Mannar"}),Object(x.jsx)("option",{value:"Vavuniya",children:"Vauniya "}),Object(x.jsx)("option",{value:"Mulathivu",children:"Mulathivu "}),Object(x.jsx)("option",{value:"Kilinochchi",children:"Kilinochchi "}),Object(x.jsx)("option",{value:"Batticaloa",children:"Batticaloa"}),Object(x.jsx)("option",{value:"Trincomalee",children:"Trincomalee  "}),Object(x.jsx)("option",{value:"Kurunegala",children:"Kurunegala   "}),Object(x.jsx)("option",{value:"Puttalam",children:"Puttalam  "}),Object(x.jsx)("option",{value:"Anuradhapura",children:"Anuradhapura   "}),Object(x.jsx)("option",{value:"Polonnaruwa",children:"Polonnaruwa   "}),Object(x.jsx)("option",{value:"Badulla",children:"Badulla  "}),Object(x.jsx)("option",{value:"Monaragala",children:"Monaragala   "}),Object(x.jsx)("option",{value:"Rathnapura",children:"Rathnapura   "}),Object(x.jsx)("option",{value:"Kegalle",children:"Kegalle "})]})})]}),Object(x.jsxs)(Ve.a.Group,{as:v.a,controlId:"formProvince",children:[Object(x.jsx)(Ve.a.Label,{class:"float-left",className:"form-label",children:Object(x.jsx)("strong",{children:"PROVINCE:"})}),Object(x.jsx)(v.a,{sm:12,children:Object(x.jsxs)(Ve.a.Control,{as:"select",id:"province",onChange:function(e){return I(e.target.value)},required:!0,children:[Object(x.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Select Here "}),Object(x.jsx)("option",{value:"Central",children:"Central Province"}),Object(x.jsx)("option",{value:"Eastern",children:"Eastern Province"}),Object(x.jsx)("option",{value:"Northern",children:"Northern Province"}),Object(x.jsx)("option",{value:"Southern",children:"Southern Province "}),Object(x.jsx)("option",{value:"Western",children:"Western Province "}),Object(x.jsx)("option",{value:"North Western",children:"North Western Province "}),Object(x.jsx)("option",{value:"North Central",children:"North Central Province "}),Object(x.jsx)("option",{value:"Uva",children:"Uva Province "}),Object(x.jsx)("option",{value:"Sabaragamuwa",children:"Sabaragamuwa Province "})]})})]}),Object(x.jsx)("div",{class:"horizontal-center",children:Object(x.jsx)(ae.a,{variant:"primary",type:"submit",children:"ADD NEW HOSPITAL"})})]})]})})}a(159);var kt=Object(F.c)({name:"users",initialState:{list:[],loading:!1,lastFetch:null,userAdded:!1,isEmailSent:!1,isPasswordReset:!1},reducers:{userCreateRequested:function(e,t){e.loading=!0,e.userAdded=!1},userCreateRequestFailed:function(e,t){e.loading=!1},userCreateRequestSucceeded:function(e,t){e.loading=!1,e.userAdded=!0},userRequested:function(e,t){e.loading=!0},userRequestFailed:function(e,t){e.loading=!1},userReceived:function(e,t){e.list=t.payload.data.users,e.loading=!1,e.lastFetch=Date.now()},sendMAilSuccess:function(e,t){e.isEmailSent=!0},sendMailFailed:function(e,t){e.isEmailSent=!1},resetPasswordSuccess:function(e,t){e.isPasswordReset=!0,console.log(t.payload.status)},resetPasswordFailed:function(e,t){e.isPasswordReset=!1,console.log(t.payload.status)}}}),Dt=kt.reducer,Tt=kt.actions,_t=Tt.userRequested,Ft=Tt.userRequestFailed,qt=Tt.userReceived,Ht=Tt.userCreateRequested,zt=Tt.userCreateRequestFailed,Bt=Tt.userCreateRequestSucceeded,Mt=Tt.sendMAilSuccess,Gt=Tt.sendMailFailed,Wt=Tt.resetPasswordSuccess,Ut=Tt.resetPasswordFailed,Vt="/api/v1/",$t=M.REFRESH_TIME,Xt=function(e){return function(t){return console.log(e),t(q({url:"/api/v1/users/signup",method:"post",data:e,onStart:Ht,onSuccess:Bt.type,onError:zt}))}},Zt=Object(B.a)((function(e){return e.entities.userloading}),(function(e){return e})),Yt=Object(B.a)((function(e){return e.entities.user}),(function(e){return e})),Kt=Object(B.a)((function(e){return e.entities.user}),(function(e){return e.list})),Jt=Object(B.a)((function(e){return e.entities.user}),(function(e){return e})),Qt=Object(B.a)((function(e){return e.entities.user}),(function(e){return e}));function ea(e){var t=(new Date).toISOString().split("T")[0],a=Object(l.b)(),n=Object(l.c)(Yt),c=Object(s.useState)(!1),i=Object(j.a)(c,2),r=i[0],o=i[1],d=Object(s.useState)(""),u=Object(j.a)(d,2),h=u[0],m=u[1],O=Object(s.useState)(""),f=Object(j.a)(O,2),p=f[0],g=f[1],y=Object(s.useState)(""),N=Object(j.a)(y,2),w=N[0],C=N[1],S=Object(s.useState)(""),P=Object(j.a)(S,2),I=P[0],A=P[1],R=Object(s.useState)(""),L=Object(j.a)(R,2),E=L[0],k=L[1],D=Object(s.useState)(""),T=Object(j.a)(D,2),_=T[0],F=T[1],q=Object(s.useState)(""),H=Object(j.a)(q,2),z=H[0],B=H[1],M=Object(s.useState)(""),G=Object(j.a)(M,2),W=G[0],U=G[1],V=Object(s.useState)(""),$=Object(j.a)(V,2),X=$[0],Z=$[1],Y=Object(s.useState)(""),K=Object(j.a)(Y,2),J=K[0],Q=K[1];return Object(s.useEffect)((function(){n.userAdded&&r&&(o(!1),a(Rt({message:"Hospital Admin Added Successfully",type:"info"})),window.location.href="/healthMinistry/hospital")}),[n]),Object(x.jsx)(b.a,{fluid:!0,children:Object(x.jsxs)(Lt.a,{sx:{bgcolor:"#cfe8fc",height:"1200px"},children:[Object(x.jsx)("div",{className:"col-10 mx-auto banner text-center",children:Object(x.jsx)("h3",{className:"text-capitalize",children:Object(x.jsx)("strong",{className:"banner-title",children:"Want to ADD HOSPITAL ADMIN?"})})}),Object(x.jsxs)(Ve.a,{className:"form",onSubmit:function(e){e.preventDefault();var t={name:{firstName:h,lastName:p},email:w,birthday:I,contactNo:parseInt(E),address:{line1:_,line2:z,city:W},password:X,passwordConfirm:J,role:"hospitalAdmin",hospital:window.location.pathname.split("/")[3]};!function(e){return/^[A-Za-z\b]+$/.test(e)}(h)?alert("First Name should not include digits"):!function(e){return/^[A-Za-z\b]+$/.test(e)}(p)?alert("Last Name should not include digits"):!function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}(w)?alert("Enter valid email address"):!function(e){return/^(0)([0-9]{9})$/.test(e)}(E)?alert("Enter valid telephone number"):!function(e){return/^[A-Za-z\b]+$/.test(e)}(W)?alert("City should not include digits"):!function(e){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{6,}$/.test(e)}(X)?alert("Enter valid password"):X!=J?alert("Your passwords don't match"):(a(Xt(t)),o(!0))},children:[Object(x.jsxs)(Ve.a.Group,{as:v.a,controlId:"firstName",children:[Object(x.jsx)(Ve.a.Label,{className:"form-label",children:Object(x.jsx)("strong",{children:"FIRST NAME:"})}),Object(x.jsx)(v.a,{sm:12,children:Object(x.jsx)(Ve.a.Control,{type:"text",id:"firstName",placeholder:"Enter your First Name",required:!0,size:"sm",onChange:function(e){return m(e.target.value)}})})]}),Object(x.jsxs)(Ve.a.Group,{as:v.a,controlId:"lastName",children:[Object(x.jsx)(Ve.a.Label,{className:"form-label",children:Object(x.jsx)("strong",{children:"LAST NAME:"})}),Object(x.jsx)(v.a,{sm:12,children:Object(x.jsx)(Ve.a.Control,{type:"text",id:"lastName",placeholder:"Enter your Last Name",required:!0,size:"sm",onChange:function(e){return g(e.target.value)}})})]}),Object(x.jsxs)(Ve.a.Group,{as:v.a,controlId:"email",children:[Object(x.jsx)(Ve.a.Label,{class:"float-left",className:"form-label",children:Object(x.jsx)("strong",{children:"EMAIL ADDRESS:"})}),Object(x.jsx)(v.a,{sm:12,children:Object(x.jsx)(Ve.a.Control,{type:"email",id:"email",placeholder:"example@gmail.com",required:!0,size:"sm",onChange:function(e){return C(e.target.value)}})})]}),Object(x.jsxs)(Ve.a.Group,{as:v.a,controlId:"birthday",children:[Object(x.jsx)(Ve.a.Label,{class:"float-left",className:"form-label",children:Object(x.jsx)("strong",{children:"DATE OF BIRTH:"})}),Object(x.jsx)(v.a,{sm:12,children:Object(x.jsx)(Ve.a.Control,{type:"date",id:"birthday",placeholder:"Enter Date of Birth",required:!0,size:"sm",max:t,onChange:function(e){return A(e.target.value)}})})]}),Object(x.jsxs)(Ve.a.Group,{as:v.a,controlId:"contact",children:[Object(x.jsx)(Ve.a.Label,{class:"float-left",className:"form-label",children:Object(x.jsx)("strong",{children:"CONTACT NUMBER:"})}),Object(x.jsxs)(v.a,{sm:12,children:[Object(x.jsx)(Ve.a.Control,{type:"number",id:"contact",placeholder:"0XXXXXXXXX",required:!0,size:"sm",onChange:function(e){return k(e.target.value)}}),Object(x.jsx)("small",{children:"Should start with 0 | Should consist of 10 digits"})]})]}),Object(x.jsxs)(Ve.a.Group,{as:v.a,controlId:"line1",children:[Object(x.jsx)(Ve.a.Label,{class:"float-left",className:"form-label",children:Object(x.jsx)("strong",{children:"ADDRESS:"})}),Object(x.jsx)(v.a,{sm:12,children:Object(x.jsx)(Ve.a.Control,{type:"text",id:"line1",required:!0,placeholder:"Enter Line 1",size:"sm",onChange:function(e){return F(e.target.value)}})}),Object(x.jsx)("br",{}),Object(x.jsx)(v.a,{sm:12,children:Object(x.jsx)(Ve.a.Control,{type:"text",id:"line2",size:"sm",placeholder:"Enter Line 2",onChange:function(e){return B(e.target.value)}})})]}),Object(x.jsxs)(Ve.a.Group,{as:v.a,controlId:"formCity",children:[Object(x.jsx)(Ve.a.Label,{class:"float-left",className:"form-label",children:Object(x.jsx)("strong",{children:"CITY:"})}),Object(x.jsx)(v.a,{sm:12,children:Object(x.jsx)(Ve.a.Control,{type:"text",id:"city",required:!0,size:"sm",placeholder:"Enter City",onChange:function(e){return U(e.target.value)}})})]}),Object(x.jsxs)(Ve.a.Group,{as:v.a,controlId:"password",children:[Object(x.jsx)(Ve.a.Label,{class:"float-left",className:"form-label",children:Object(x.jsx)("strong",{children:"PASSWORD:"})}),Object(x.jsxs)(v.a,{sm:12,children:[Object(x.jsx)(Ve.a.Control,{type:"password",id:"password",required:!0,size:"sm",placeholder:"Enter Password",onChange:function(e){return Z(e.target.value)}}),Object(x.jsxs)("small",{children:["*Password should atleast be of 6 characters ",Object(x.jsx)("br",{}),"*Should include atleast one simple letter, capital letter, special character and number "]})]})]}),Object(x.jsxs)(Ve.a.Group,{as:v.a,controlId:"passwordConfirm",children:[Object(x.jsx)(Ve.a.Label,{class:"float-left",className:"form-label",children:Object(x.jsx)("strong",{children:"RE-ENTER PASSWORD:"})}),Object(x.jsx)(v.a,{sm:12,children:Object(x.jsx)(Ve.a.Control,{type:"password",id:"passwordConfirm",required:!0,size:"sm",placeholder:"Re enter Password",onChange:function(e){return Q(e.target.value)}})})]}),Object(x.jsx)("div",{children:Object(x.jsx)(ae.a,{variant:"primary",type:"submit",children:"ADD HOSPITAL ADMIN"})})]})]})})}function ta(e){var t=(new Date).toISOString().split("T")[0];console.log(t);var a=Object(l.b)(),n=Object(l.c)(Yt),c=Object(s.useState)(!1),i=Object(j.a)(c,2),r=i[0],o=i[1],d=Object(s.useState)(""),u=Object(j.a)(d,2),h=u[0],m=u[1],O=Object(s.useState)(""),f=Object(j.a)(O,2),p=f[0],g=f[1],y=Object(s.useState)(""),N=Object(j.a)(y,2),w=N[0],C=N[1],S=Object(s.useState)(""),P=Object(j.a)(S,2),I=P[0],A=P[1],R=Object(s.useState)(""),L=Object(j.a)(R,2),E=L[0],k=L[1],D=Object(s.useState)(""),T=Object(j.a)(D,2),_=T[0],F=T[1],q=Object(s.useState)(""),H=Object(j.a)(q,2),z=H[0],B=H[1],M=Object(s.useState)(""),G=Object(j.a)(M,2),W=G[0],U=G[1],V=Object(s.useState)(""),$=Object(j.a)(V,2),X=$[0],Z=$[1],Y=Object(s.useState)(""),K=Object(j.a)(Y,2),J=K[0],Q=K[1],ee=Object(s.useState)(""),te=Object(j.a)(ee,2),se=te[0],ne=te[1],ce=Object(s.useState)(""),ie=Object(j.a)(ce,2),re=ie[0],le=ie[1],oe=Object(s.useState)(""),de=Object(j.a)(oe,2);de[0],de[1];return Object(s.useEffect)((function(){n.userAdded&&r&&(o(!1),a(Rt({message:"Patient Added Successfully",type:"info"})),window.location.href="/")}),[n]),Object(x.jsx)(b.a,{fluid:!0,children:Object(x.jsxs)(Lt.a,{sx:{bgcolor:"#cfe8fc",height:"1390px"},children:[Object(x.jsxs)("div",{className:"col-10 mx-auto banner text-center",children:[Object(x.jsx)("br",{}),Object(x.jsx)("h3",{className:"text-capitalize",children:Object(x.jsx)("strong",{className:"banner-title",children:"Want to Add NEW PATIENT?"})})]}),Object(x.jsxs)(Ve.a,{className:"form",onSubmit:function(e){e.preventDefault();var t={name:{firstName:h,lastName:p},email:w,birthday:I,contact:E,address:{line1:_,line2:z,city:W,province:X},password:J,passwordConfirm:se,role:"patient",nic:{nicno:re,person:I.split("-")[0]}};!function(e){return/^[A-Za-z\b]+$/.test(e)}(h)?alert("First Name should not include digits"):!function(e){return/^[A-Za-z\b]+$/.test(e)}(p)?alert("Last Name should not include digits"):!function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}(w)?alert("Enter valid email address"):!function(e){return/^(0)([0-9]{9})$/.test(e)}(E)?alert("Enter valid telephone number"):!function(e){var t=/^([0-9]{9})(V|v)$/,a=/^([0-9]{12})$/;return t.test(e)?t.test(e):a.test(e)?a.test(e):void 0}(re)?alert("Enter valid NIC number"):!function(e){return/^[A-Za-z\b]+$/.test(e)}(W)?alert("City should not include digits"):!function(e){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{6,}$/.test(e)}(J)?alert("Enter valid password"):J!=se?alert("Your passwords don't match"):(a(Xt(t)),o(!0),console.log(t))},children:[Object(x.jsxs)(Ve.a.Group,{as:v.a,controlId:"firstName",children:[Object(x.jsxs)(Ve.a.Label,{className:"form-label",children:[Object(x.jsx)("strong",{children:"FIRST NAME:"})," "]}),Object(x.jsx)(v.a,{sm:10,children:Object(x.jsx)(Ve.a.Control,{type:"text",id:"firstName",placeholder:"Enter your First Name",required:!0,size:"sm",onChange:function(e){return m(e.target.value)}})})]}),Object(x.jsxs)(Ve.a.Group,{as:v.a,controlId:"lastName",children:[Object(x.jsxs)(Ve.a.Label,{className:"form-label",children:[" ",Object(x.jsx)("strong",{children:"LAST NAME:"})]}),Object(x.jsx)(v.a,{sm:10,children:Object(x.jsx)(Ve.a.Control,{type:"text",id:"lastName",placeholder:"Enter your Last Name",required:!0,size:"sm",onChange:function(e){return g(e.target.value)}})})]}),Object(x.jsxs)(Ve.a.Group,{as:v.a,controlId:"email",children:[Object(x.jsx)(Ve.a.Label,{class:"float-left",className:"form-label",children:Object(x.jsx)("strong",{children:"EMAIL ADDRESS:"})}),Object(x.jsx)(v.a,{sm:10,children:Object(x.jsx)(Ve.a.Control,{type:"email",id:"email",placeholder:"example@gmail.com",required:!0,size:"sm",onChange:function(e){return C(e.target.value)}})})]}),Object(x.jsxs)(Ve.a.Group,{as:v.a,controlId:"birthday",children:[Object(x.jsx)(Ve.a.Label,{class:"float-left",className:"form-label",children:Object(x.jsx)("strong",{children:"DATE OF BIRTH:"})}),Object(x.jsx)(v.a,{sm:10,children:Object(x.jsx)(Ve.a.Control,{type:"date",id:"birthday",placeholder:"Enter Date of Birth",required:!0,size:"sm",max:t,onChange:function(e){return A(e.target.value)}})})]}),Object(x.jsxs)(Ve.a.Group,{as:v.a,controlId:"contact",children:[Object(x.jsx)(Ve.a.Label,{class:"float-left",className:"form-label",children:Object(x.jsx)("strong",{children:"CONTACT NUMBER:"})}),Object(x.jsxs)(v.a,{sm:10,children:[Object(x.jsx)(Ve.a.Control,{type:"number",id:"contact",placeholder:"0XXXXXXXXX",required:!0,size:"sm",onChange:function(e){return k(e.target.value)}}),Object(x.jsxs)("small",{children:["*Should start with 0 ",Object(x.jsx)("br",{}),"*Should consist of 10 digits"]})]})]}),Object(x.jsxs)(Ve.a.Group,{as:v.a,controlId:"nicno",children:[Object(x.jsx)(Ve.a.Label,{class:"float-left",className:"form-label",children:Object(x.jsx)("strong",{children:"NIC NUMBER:"})}),Object(x.jsx)(v.a,{sm:10,children:Object(x.jsx)(Ve.a.Control,{type:"text",id:"nicno",placeholder:"Enter NIC Number",required:!0,size:"sm",onChange:function(e){return le(e.target.value)}})})]}),Object(x.jsxs)(Ve.a.Group,{as:v.a,controlId:"line1",children:[Object(x.jsx)(Ve.a.Label,{class:"float-left",className:"form-label",children:Object(x.jsx)("strong",{children:"ADDRESS:"})}),Object(x.jsx)(v.a,{sm:10,children:Object(x.jsx)(Ve.a.Control,{type:"text",id:"line1",required:!0,placeholder:"Enter Line 1",size:"sm",onChange:function(e){return F(e.target.value)}})}),Object(x.jsx)("br",{}),Object(x.jsx)(v.a,{sm:10,children:Object(x.jsx)(Ve.a.Control,{type:"text",id:"line2",size:"sm",placeholder:"Enter Line 2",onChange:function(e){return B(e.target.value)}})})]}),Object(x.jsxs)(Ve.a.Group,{as:v.a,controlId:"formCity",children:[Object(x.jsx)(Ve.a.Label,{class:"float-left",className:"form-label",children:Object(x.jsx)("strong",{children:"CITY:"})}),Object(x.jsx)(v.a,{sm:10,children:Object(x.jsx)(Ve.a.Control,{type:"text",id:"city",required:!0,size:"sm",placeholder:"Enter City",onChange:function(e){return U(e.target.value)}})})]}),Object(x.jsxs)(Ve.a.Group,{as:v.a,controlId:"formProvince",children:[Object(x.jsx)(Ve.a.Label,{class:"float-left",className:"form-label",children:Object(x.jsx)("strong",{children:"PROVINCE:"})}),Object(x.jsx)(v.a,{sm:10,children:Object(x.jsxs)(Ve.a.Control,{as:"select",id:"province",onChange:function(e){return Z(e.target.value)},required:!0,children:[Object(x.jsx)("option",{value:"",disabled:!0,selected:!0,children:"Choose "}),Object(x.jsx)("option",{value:"Central",children:"Central Province"}),Object(x.jsx)("option",{value:"Eastern",children:"Eastern Province"}),Object(x.jsx)("option",{value:"Northern",children:"Northern Province"}),Object(x.jsx)("option",{value:"Southern",children:"Southern Province "}),Object(x.jsx)("option",{value:"Western",children:"Western Province "}),Object(x.jsx)("option",{value:"North Western",children:"North Western Province "}),Object(x.jsx)("option",{value:"North Central",children:"North Central Province "}),Object(x.jsx)("option",{value:"Uva",children:"Uva Province "}),Object(x.jsx)("option",{value:"Sabaragamuwa",children:"Sabaragamuwa Province "})]})})]}),Object(x.jsxs)(Ve.a.Group,{as:v.a,controlId:"password",children:[Object(x.jsx)(Ve.a.Label,{class:"float-left",className:"form-label",children:Object(x.jsx)("strong",{children:"PASSWORD:"})}),Object(x.jsx)(v.a,{sm:10,children:Object(x.jsx)(Ve.a.Control,{type:"password",id:"password",required:!0,size:"sm",placeholder:"Enter Password",onChange:function(e){return Q(e.target.value)}})}),Object(x.jsx)("br",{}),Object(x.jsxs)(v.a,{sm:10,children:[Object(x.jsx)(Ve.a.Control,{type:"password",id:"passwordConfirm",required:!0,size:"sm",placeholder:"Re enter Password",onChange:function(e){return ne(e.target.value)}}),Object(x.jsxs)("small",{children:["*Password should atleast be of 6 characters ",Object(x.jsx)("br",{}),"*Should include atleast one simple letter, capital letter, special character and number "]})]})]}),Object(x.jsx)("div",{children:Object(x.jsx)(ae.a,{variant:"primary",type:"submit",children:"ADD PATIENT"})})]})]})})}function aa(e){var t=(new Date).toISOString().split("T")[0],a=Object(l.b)(),n=Object(l.c)(Yt),c=Object(s.useState)(!1),i=Object(j.a)(c,2),r=i[0],o=i[1],d=Object(s.useState)(""),u=Object(j.a)(d,2),h=u[0],m=u[1],O=Object(s.useState)(""),f=Object(j.a)(O,2),p=f[0],g=f[1],y=Object(s.useState)(""),N=Object(j.a)(y,2),w=N[0],C=N[1],S=Object(s.useState)(""),P=Object(j.a)(S,2),I=P[0],A=P[1],R=Object(s.useState)(""),L=Object(j.a)(R,2),E=L[0],k=L[1],D=Object(s.useState)(""),T=Object(j.a)(D,2),_=T[0],F=T[1],q=Object(s.useState)(""),H=Object(j.a)(q,2),z=H[0],B=H[1],M=Object(s.useState)(""),G=Object(j.a)(M,2),W=G[0],U=G[1],V=Object(s.useState)(""),$=Object(j.a)(V,2),X=$[0],Z=$[1],Y=Object(s.useState)(""),K=Object(j.a)(Y,2),J=K[0],Q=K[1];return Object(s.useEffect)((function(){n.userAdded&&r&&(o(!1),a(Rt({message:"Hospital Staff Added Successfully",type:"info"})),window.location.href="/")}),[n]),Object(x.jsx)(b.a,{fluid:!0,children:Object(x.jsxs)(Lt.a,{sx:{bgcolor:"#cfe8fc",height:"1370px"},children:[Object(x.jsx)("div",{className:"col-10 mx-auto banner text-center",children:Object(x.jsx)("h3",{className:"text-capitalize",children:Object(x.jsx)("strong",{className:"banner-title",children:"Want to ADD HOSPITAL STAFF?"})})}),Object(x.jsxs)(Ve.a,{className:"form",onSubmit:function(e){e.preventDefault();var t={name:{firstName:h,lastName:p},email:w,birthday:I,contactNo:E,address:{line1:_,line2:z,city:W},password:X,passwordConfirm:J,role:"hospital user"};!function(e){return/^[A-Za-z\b]+$/.test(e)}(h)?alert("First Name should not include digits"):!function(e){return/^[A-Za-z\b]+$/.test(e)}(p)?alert("Last Name should not include digits"):!function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}(w)?alert("Enter valid email address"):!function(e){return/^(0)([0-9]{9})$/.test(e)}(E)?alert("Enter valid telephone number"):!function(e){return/^[A-Za-z\b]+$/.test(e)}(W)?alert("City should not include digits"):!function(e){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{6,}$/.test(e)}(X)?alert("Enter valid password"):X!=J?alert("Your passwords don't match"):(a(Xt(t)),o(!0))},children:[Object(x.jsxs)(Ve.a.Group,{as:v.a,controlId:"firstName",children:[Object(x.jsx)(Ve.a.Label,{className:"form-label",children:Object(x.jsx)("strong",{children:"FIRST NAME:"})}),Object(x.jsx)(v.a,{sm:12,children:Object(x.jsx)(Ve.a.Control,{type:"text",id:"firstName",placeholder:"Enter your First Name",required:!0,onChange:function(e){return m(e.target.value)}})})]}),Object(x.jsxs)(Ve.a.Group,{as:v.a,controlId:"firstName",children:[Object(x.jsx)(Ve.a.Label,{className:"form-label",children:Object(x.jsx)("strong",{children:"LAST NAME:"})}),Object(x.jsx)(v.a,{sm:12,children:Object(x.jsx)(Ve.a.Control,{type:"text",id:"lastName",placeholder:"Enter your Last Name",required:!0,onChange:function(e){return g(e.target.value)}})})]}),Object(x.jsxs)(Ve.a.Group,{as:v.a,controlId:"email",children:[Object(x.jsxs)(Ve.a.Label,{class:"float-left",className:"form-label",children:[Object(x.jsx)("strong",{children:"EMAIL ADDRESS:"})," "]}),Object(x.jsx)(v.a,{sm:12,children:Object(x.jsx)(Ve.a.Control,{type:"email",id:"email",placeholder:"example@gmail.com",required:!0,onChange:function(e){return C(e.target.value)}})})]}),Object(x.jsxs)(Ve.a.Group,{as:v.a,controlId:"birthday",children:[Object(x.jsxs)(Ve.a.Label,{class:"float-left",className:"form-label",children:[Object(x.jsx)("strong",{children:"DATE OF BIRTH:"})," "]}),Object(x.jsx)(v.a,{sm:12,children:Object(x.jsx)(Ve.a.Control,{type:"date",id:"birthday",placeholder:"Enter Date of Birth",required:!0,max:t,onChange:function(e){return A(e.target.value)}})})]}),Object(x.jsxs)(Ve.a.Group,{as:v.a,controlId:"contact",children:[Object(x.jsxs)(Ve.a.Label,{class:"float-left",className:"form-label",children:[Object(x.jsx)("strong",{children:"CONTACT NUMBER:"})," "]}),Object(x.jsxs)(v.a,{sm:12,children:[Object(x.jsx)(Ve.a.Control,{type:"number",id:"contact",placeholder:"0XXXXXXXXX",required:!0,onChange:function(e){return k(e.target.value)}}),Object(x.jsx)("small",{children:"Should start with 0 | Should consist of 10 digits"})]})]}),Object(x.jsxs)(Ve.a.Group,{as:v.a,controlId:"line1",children:[Object(x.jsxs)(Ve.a.Label,{class:"float-left",className:"form-label",children:[Object(x.jsx)("strong",{children:"ADDRESS:"})," "]}),Object(x.jsx)(v.a,{sm:12,children:Object(x.jsx)(Ve.a.Control,{type:"text",id:"line1",required:!0,placeholder:"Enter Address Line 1",onChange:function(e){return F(e.target.value)}})}),Object(x.jsx)("br",{}),Object(x.jsx)(v.a,{sm:12,children:Object(x.jsx)(Ve.a.Control,{type:"text",id:"line2",placeholder:"Enter Address Line 2",onChange:function(e){return B(e.target.value)}})})]}),Object(x.jsxs)(Ve.a.Group,{as:v.a,controlId:"formCity",children:[Object(x.jsx)(Ve.a.Label,{class:"float-left",className:"form-label",children:Object(x.jsx)("strong",{children:"CITY:"})}),Object(x.jsx)(v.a,{sm:12,children:Object(x.jsx)(Ve.a.Control,{type:"text",id:"city",required:!0,placeholder:"Enter City",onChange:function(e){return U(e.target.value)}})})]}),Object(x.jsxs)(Ve.a.Group,{as:v.a,controlId:"password",children:[Object(x.jsxs)(Ve.a.Label,{class:"float-left",className:"form-label",children:[Object(x.jsx)("strong",{children:"PASSWORD:"})," "]}),Object(x.jsx)(v.a,{sm:12,children:Object(x.jsx)(Ve.a.Control,{type:"password",id:"password",requiredg:!0,placeholder:"Enter Password",onChange:function(e){return Z(e.target.value)}})}),Object(x.jsx)("br",{}),Object(x.jsxs)(v.a,{sm:12,children:[Object(x.jsx)(Ve.a.Control,{type:"password",id:"passwordConfirm",required:!0,placeholder:"Re enter Password",onChange:function(e){return Q(e.target.value)}}),Object(x.jsxs)("small",{children:["*Password should atleast be of 6 characters ",Object(x.jsx)("br",{}),"*Should include atleast one simple letter, capital letter, special character and number "]})," "]})]}),Object(x.jsx)("div",{children:Object(x.jsx)(ae.a,{variant:"primary",type:"submit",children:"ADD HOSPITAL STAFF"})})]})]})})}var sa=a(5),na=a(29),ca=a(19),ia=a(57),ra=a(20),la=function(e){var t=e.match,a=e.history,n=Object(l.b)(),c=t.params.id,i=Object(l.c)((function(e){return e.auth})),r=Object(s.useState)({symptom0:ra.c().required("Symptom is required..."),drug0:ra.c().required("Drug Details is required...")}),o=Object(j.a)(r,2),d=o[0],u=o[1],h=Object(s.useState)({symptom0:"",drug0:""}),m=Object(j.a)(h,2),O=m[0],f=m[1],g=Object(s.useState)([{}]),y=Object(j.a)(g,2),N=y[0],w=y[1],C=Object(s.useState)([{}]),S=Object(j.a)(C,2),P=S[0],I=S[1],A=Object(s.useState)(4),R=Object(s.useState)(!0),L=Object(j.a)(R,2),E=L[0],k=L[1],D=function(e,t){for(var a=0;a<t.length;a++){var s=t[a];if(!s.description)return void k(!0);if(""==s.description)return void k(!0);k(!1)}},T=Object(s.useState)(!0),_=Object(j.a)(T,2),F=_[0],H=_[1],z=function(e,t){for(var a=0;a<t.length;a++){var s=t[a];if(!s.description)return void H(!0);if(""==s.description)return void H(!0);H(!1)}},B=function(){for(var e=[N.length],t=0;t<N.length;t++)e[t]=N[t].description;n(function(e,t){return function(a){return a(q({url:Ee+"med/".concat(t,"/addsymptoms"),method:"patch",data:e,onSuccess:fe}))}}({description:e},c))},M=function(){for(var e=[P.length],t=0;t<P.length;t++)e[t]=P[t].description;n(function(e,t){return function(a){return a(q({url:Ee+"med/".concat(t,"/adddrugs"),method:"patch",data:e,onSuccess:pe}))}}({description:e},c))};return Object(s.useEffect)((function(){}),[n]),Object(x.jsx)(x.Fragment,{children:i.loggedIn?Object(x.jsx)(b.a,{className:" formContainer mt-3",children:Object(x.jsx)(ia.a,{validationSchema:ra.a().shape(d),initialValues:O,children:function(e){var t=e.handleSubmit,a=e.handleChange,s=(e.handleBlur,e.values),n=e.touched,c=(e.isValid,e.dirty,e.errors);return Object(x.jsxs)(Ve.a,{className:"mt-2",noValidate:!0,onSubmit:t,children:[Object(x.jsx)("h2",{className:"heading text-center font-weight-bold mt-4",children:"UPDATE PATIENT MEDICAL DATA"}),Object(x.jsxs)(p.a,{className:"m-5",children:[Object(x.jsxs)(v.a,{children:[N.map((function(e){var t=N.findIndex((function(t){return t===e}));return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(p.a,{className:"",children:[Object(x.jsx)(v.a,{children:Object(x.jsxs)(Ve.a.Group,{controlId:"validationFormik".concat(A+t+1>=10?"".concat(A+t+1):"0".concat(A+t+1)),children:[Object(x.jsx)(Ve.a.Label,{children:"Symptoms"}),Object(x.jsx)(Ve.a.Control,{className:"textBox",type:"text",name:"symptom".concat(t),value:s["symptom".concat(t)],onChange:function(e){a(e);var s=Object(na.a)({},N[t]);s.description=e.target.value;var n=Object(ca.a)(N);n[t]=s,w(n),e.target.value,D(0,n)},placeholder:"Symptom",isValid:n["symptom".concat(t)]&&!c["symptom".concat(t)],isInvalid:!!c["symptom".concat(t)],size:"lg"}),Object(x.jsx)(ne.a.Feedback,{type:"invalid",children:c["symptom".concat(t)]})]})}),Object(x.jsx)(v.a,{className:"mt-2",children:0===t&&Object(x.jsxs)("div",{children:[Object(x.jsx)(ae.a,{onClick:function(){return function(){var e=[].concat(Object(ca.a)(N),[{}]),t=Object(na.a)(Object(na.a)({},d),{},Object(sa.a)({},"symptom".concat(N.length),ra.c().required("Symptom is required..."))),a=Object(na.a)(Object(na.a)({},O),{},Object(sa.a)({},"symptom".concat(N.length),""));w(e),u(t),f(a);for(var s=0;s<e.length;s++){var n=e[s];if(!n.description)return void k(!0);if(""==n.description)return void k(!0);k(!1)}}()},className:"mx-2 my-4",variant:"primary",children:"+"}),N.length>1&&0===t&&Object(x.jsx)(ae.a,{onClick:function(){return function(e){var t=Object(ca.a)(N);t=t.splice(0,N.length-1);var a=Object(na.a)({},d);delete a["symptom".concat(N.length-1)];var s=Object(na.a)({},O);delete s["symptom".concat(N.length-1)],delete e["symptom".concat(N.length-1)],f(s),w(t),u(a);for(var n=0;n<t.length;n++){var c=t[n];if(!c.description)return void k(!0);if(""==c.description)return void k(!0);k(!1)}}(s)},className:"mx-2 my-4",variant:"danger",children:"-"})]})})]})})})),Object(x.jsx)(ae.a,{onClick:function(){return B()},className:"mx-2 my-4",variant:"primary",disabled:E,children:"Update Symptoms"})]}),Object(x.jsxs)(v.a,{children:[P.map((function(e){var t=P.findIndex((function(t){return t===e}));return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(p.a,{className:"",children:[Object(x.jsx)(v.a,{children:Object(x.jsxs)(Ve.a.Group,{controlId:"validationFormik".concat(A+t+1>=10?"".concat(A+t+1):"0".concat(A+t+1)),children:[Object(x.jsx)(Ve.a.Label,{className:"form-label",children:"Drugs"}),Object(x.jsx)(Ve.a.Control,{className:"textBox",type:"text",name:"drug".concat(t),value:s["drug".concat(t)],onChange:function(e){a(e);var s=Object(na.a)({},P[t]);s.description=e.target.value;var n=Object(ca.a)(P);n[t]=s,I(n),e.target.value,z(0,n)},placeholder:"Drug",isValid:n["drug".concat(t)]&&!c["drug".concat(t)],isInvalid:!!c["drug".concat(t)],size:"lg"}),Object(x.jsx)(ne.a.Feedback,{type:"invalid",children:c["drug".concat(t)]})]})}),Object(x.jsx)(v.a,{className:"mt-2",children:0===t&&Object(x.jsxs)("div",{children:[Object(x.jsx)(ae.a,{onClick:function(){return function(){var e=[].concat(Object(ca.a)(P),[{}]),t=Object(na.a)(Object(na.a)({},d),{},Object(sa.a)({},"drug".concat(P.length),ra.c().required("Drug is required..."))),a=Object(na.a)(Object(na.a)({},O),{},Object(sa.a)({},"drug".concat(P.length),""));I(e),u(t),f(a);for(var s=0;s<e.length;s++){var n=e[s];if(!n.description)return void H(!0);if(""==n.description)return void H(!0);H(!1)}}()},className:"mx-2 my-4",variant:"primary",children:"+"}),P.length>1&&0===t&&Object(x.jsx)(ae.a,{onClick:function(){return function(e){var t=Object(ca.a)(P);t=t.splice(0,P.length-1);var a=Object(na.a)({},d);delete a["drug".concat(P.length-1)];var s=Object(na.a)({},O);delete s["drug".concat(P.length-1)],delete e["drug".concat(P.length-1)],f(s),I(t),u(a);for(var n=0;n<t.length;n++){var c=t[n];if(!c.description)return void H(!0);if(""==c.description)return void H(!0);H(!1)}}(s)},className:"mx-2 my-4",variant:"danger",children:"-"})]})})]})})})),Object(x.jsx)(ae.a,{onClick:function(){return M()},className:"mx-2 my-4",variant:"primary",disabled:F,children:"Update Drugs"})]})]})]})}})}):a.push("/")})},oa=a(143),da=function(e){Object(oa.a)(e);var t=Object(l.b)(),a=Object(o.k)(),n=Object(l.c)((function(e){return e.auth})),c=Object(s.useState)(""),i=Object(j.a)(c,2),r=(i[0],i[1]),d=Object(l.c)(Te).waiting;console.log(d);var u=Object(s.useState)(Object(ca.a)(d)),h=Object(j.a)(u,2),m=(h[0],h[1],Object(s.useState)(Object(ca.a)(d))),O=Object(j.a)(m,2),f=O[0],v=O[1],g=Object(s.useState)([]),y=Object(j.a)(g,2),N=y[0],w=y[1],C=Object(s.useState)(!1),S=Object(j.a)(C,2),P=S[0],I=S[1],A=Object(l.c)(Fe);Object(s.useEffect)((function(){n.loggedIn||(window.location="/"),r(n.data.user.role),t((function(e,t){var a=t().entities.patients.waitingLAstFetch;if(!(W()().diff(W()(a),"minutes")<ke))return e(q({url:"/api/v1/med/changehospital/pending",onStart:Re,onSuccess:Ie,onError:Ae}))})),v(d.map((function(e){return{select:!1,_id:e._id,name:e.name,age:e.age,tel:e.name,address:e.name}})))}),[t]);var R=function(e,a){t(Be({patientId:a,transferDetails:{transferState:e}})),v(f.filter((function(e){return e._id!==a})))},L=function(e){var a;t((a={dicision:e,selectedPatients:N},function(e){return console.log(a),e(q({url:"/api/v1/patientTransferSelected",method:"post",data:a,onSuccess:ge.type}))})),v(f.filter((function(e){return!1===e.select}))),w([])};return Object(x.jsxs)(x.Fragment,{children:[n.loggedIn&&A&&Object(x.jsx)(_,{}),n.loggedIn?Object(x.jsxs)(b.a,{children:[Object(x.jsx)("h4",{style:{textAlign:"center",marginBottom:"40px",fontWeight:"700"},children:"PATIENTS WAITING FOR APROVAL"}),0===f.length?Object(x.jsx)(D.a,{style:{backgroundColor:"#fca8a4",color:"#b73333",opacity:"0.5",padding:"10px"},children:"No data"}):Object(x.jsxs)("div",{children:[Object(x.jsxs)(p.a,{className:"ml-3 mb-2",children:[Object(x.jsx)(ae.a,{value:N,disabled:0===N.length,onClick:function(){return L("accept")},className:"btn btn-primary w-25 mr-2",children:"Accept Selected"}),Object(x.jsx)(ae.a,{value:N,disabled:0===N.length,onClick:function(){return L("declined")},className:"btn btn-danger w-25",style:{opacity:"0.7"},children:"Decline Selected"})]}),Object(x.jsxs)(ce.a,{striped:!0,bordered:!0,hover:!0,variant:"light",children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:Object(x.jsx)("input",{type:"checkBox",onChange:function(e){var t,a=e.target.checked;v(f.map((function(e){return e.select=a,e}))),1==(t=a)?(I(t),w(d)):(I(t),w([]))},checked:P})}),Object(x.jsx)("th",{children:"Name"}),Object(x.jsx)("th",{children:"Age"}),Object(x.jsx)("th",{children:"Tel"}),Object(x.jsx)("th",{children:"Address"}),Object(x.jsx)("th",{children:"Profile"}),Object(x.jsx)("th",{children:"Actions"})]})}),Object(x.jsx)("tbody",{children:f.map((function(e){var t;return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:Object(x.jsx)("input",{type:"checkBox",onChange:function(t){var a=t.target.checked;!function(e,t){if(!1===e&&N.length===d.length&&I(!1),!0===e&&N.length===d.length-1&&I(!0),1==e){var a=Object(ca.a)(N),s=d.filter((function(e){return e._id===t._id}));a.push(s[0]),w(a)}else w(N.filter((function(e){return e._id!==t._id})))}(a,e),v(f.map((function(t){return t._id==e._id&&(t.select=a),t})))},checked:e.select})}),Object(x.jsx)("td",{children:e.name}),Object(x.jsx)("td",{children:e.age}),Object(x.jsx)("td",{children:e.name}),Object(x.jsx)("td",{children:e.name}),Object(x.jsx)("td",{children:Object(x.jsx)(ae.a,{value:e._id,onClick:function(){return a.push("/hospital/profile/".concat(e._id))},className:"btn btn-light mr-2 ml-2",children:"Profile"})}),Object(x.jsx)("td",{children:Object(x.jsxs)(p.a,{children:[Object(x.jsx)(ae.a,{value:e._id,onClick:function(){return R("accept",e._id)},className:"btn btn-primary mr-2 ml-2 text-center",style:{width:"40%"},children:"Accept"}),Object(x.jsx)(ae.a,(t={value:e._id,style:{opacity:"0.8"},onClick:function(){return R("declined",e._id)},className:"btn btn-danger text-center"},Object(sa.a)(t,"style",{width:"40%",opacity:"0.7"}),Object(sa.a)(t,"children","Decline"),t))]})})]})}))})]})]})]}):a.goBack()]})},ja=Object(F.c)({name:"pcr",initialState:{list:[],toConfirm:[],toConfirmLoading:!1,toConfirmLastFetch:null,loading:!1,pcrAdded:!1,lastFetch:null},reducers:{pcrCreateRequested:function(e,t){e.loading=!0,e.pcrAdded=!1},pcrCreateRequestFailed:function(e,t){e.loading=!1,e.pcrAdded=!1},pcrCreateRequestSucceeded:function(e,t){e.loading=!1,e.pcrAdded=!0},pcrRequested:function(e,t){e.loading=!0},pcrRequestFailed:function(e,t){e.loading=!1},pcrReceived:function(e,t){e.list=t.payload.data.tests,e.loading=!1,e.lastFetch=Date.now()},pcrStatusChange:function(e,t){var a=e.list.findIndex((function(e){return e._id===t.payload.data.test._id}));e.list[a].result=t.payload.data.test.result},toConfirmPcrRequested:function(e,t){e.toConfirmLoading=!0},toConfirmPcrRequestFailed:function(e,t){e.toConfirmLoading=!1},toConfirmPcrReceived:function(e,t){console.log("efgrgerger"),e.toConfirm=t.payload.data.tests,e.toConfirmLoading=!1,e.toConfirmLastFetch=Date.now()},pcrAprovalUpdated:function(e,t){var a=t.payload.data.ids,s=e.toConfirm.filter((function(e){return!e._id.includes(a)}));e.toConfirm=s}}}),ua=ja.reducer,ba=ja.actions,ha=ba.pcrRequested,ma=ba.pcrRequestFailed,Oa=ba.pcrReceived,xa=ba.pcrCreateRequested,fa=ba.pcrCreateRequestFailed,pa=ba.pcrCreateRequestSucceeded,va=ba.pcrAprovalUpdated,ga=ba.pcrStatusChange,ya=ba.toConfirmPcrRequested,Na=ba.toConfirmPcrReceived,wa=ba.toConfirmPcrRequestFailed,Ca="/api/v1/",Sa=M.REFRESH_TIME,Pa=function(){return function(e,t){var a=t().entities.pcr.lastFetch;if(!(W()().diff(W()(a),"minutes")<Sa))return e(q({url:Ca+"pcr/",method:"get",onStart:ha.type,onSuccess:Oa.type,onError:ma.type}))}},Ia=Object(B.a)((function(e){return e.entities.pcr.loading}),(function(e){return e})),Aa=Object(B.a)((function(e){return e.entities.pcr}),(function(e){return e.pcrAdded})),Ra=Object(B.a)((function(e){return e.entities.pcr}),(function(e){return e.list})),La=Object(B.a)((function(e){return e.entities.pcr.toConfirmLoading}),(function(e){return e})),Ea=Object(B.a)((function(e){return e.entities.pcr}),(function(e){return e.toConfirm})),ka=function(e){return function(t){return console.log(e),t(q({url:Ca+"pcr/confirm",method:"post",data:e,onSuccess:va.type}))}},Da=function(e){var t=e.history,a=Object(l.b)(),n=Object(l.c)(Aa),c=Object(s.useState)(!1),i=Object(j.a)(c,2),r=i[0],o=i[1],d=Object(l.c)((function(e){return e.auth})),u=Object(s.useState)(ra.c().max(10,"'Invalid NIC Number. Ex:- 1234567V'").matches(/[3-9]+[0-9]{8,8}(v|V|x|X)$/,"Invalid NIC Number. Ex:- 1234567V").required("NIC number is required...")),h=Object(j.a)(u,2),m=h[0],O=(h[1],Object(s.useState)("")),f=Object(j.a)(O,2),v=f[0],g=f[1],y=Object(s.useState)({first_name:ra.c().required("First Name is required..."),last_name:ra.c().required("Last Name is required..."),Tel_number:ra.c().matches(/^(?:7|0|(?:\+94))[0-9]{9,9}$/,"Invalid Phone Number. Ex:- 0123458907").required("Phone number is required..."),NIC_number:m,birth_year:ra.c().required("Birth Year is required").min(4,"Invalid Birth year").max(4,"Invalid Birth year").matches(/^(?:19|(?:20))[0-9]{1,1}[0-9]{1,1}$/,"Month must be greater than 0 and can't be exceeded 12")}),N=Object(j.a)(y,2),w=N[0],C=(N[1],Object(s.useState)({first_name:"",last_name:"",Tel_number:"",NIC_number:"",birth_year:""})),S=Object(j.a)(C,2),P=S[0],I=(S[1],Object(s.useState)(10)),A=Object(j.a)(I,2),R=A[0],L=A[1];return Object(s.useEffect)((function(){r&&n?a(Rt({message:"PCR added successfully...",type:"info"})):r&&!n&&a(Rt({message:"PCR added successfully...",type:"error"}))}),[a,n]),Object(x.jsx)(x.Fragment,{children:d.loggedIn?Object(x.jsx)(b.a,{className:" formContainer mt-3",children:Object(x.jsx)(ia.a,{validationSchema:ra.a().shape(w),onSubmit:function(e){var t,s=e.first_name,n=e.last_name,c=e.Tel_number,i=e.NIC_number,r=(e.age,e.birth_year),l=(new Date).getFullYear();if(""!==v)if(parseInt(r,10)>l)alert("Birth year must be lower or equal to ".concat(l));else{var d={name:{firstName:s,lastName:n},contactNumber:parseInt(c),nic:{nicno:i,birthYear:r},result:v};console.log(d),a((t=d,function(e){return console.log(t),e(q({url:Ca+"pcr",method:"post",data:t,onStart:xa,onSuccess:pa.type,onError:fa}))})),o(!0)}else alert("Please select correct PCR result")},initialValues:P,children:function(e){var t=e.handleSubmit,a=e.handleChange,s=(e.handleBlur,e.values),n=e.touched,c=(e.isValid,e.dirty,e.errors);return Object(x.jsxs)(Ve.a,{noValidate:!0,onSubmit:t,children:[Object(x.jsx)("h2",{style:{textAlign:"center",fontWeight:"700"},children:"ADD PCR RESULTS"}),Object(x.jsxs)("div",{className:"vs-row top-content",style:{display:"flex",width:"100%"},children:[Object(x.jsx)("div",{className:"vs-col vs-xs- vs-sm-12 vs-lg-6",style:{margin:"0%",width:"100%",position:"relative"},children:Object(x.jsx)("div",{className:"set-animation from-left animate",children:Object(x.jsxs)(Ve.a.Group,{controlId:"firstName",className:"m-2",style:{width:"100%"},children:[Object(x.jsx)(Ve.a.Label,{className:"form-label m-2",children:"First Name"}),Object(x.jsx)(Ve.a.Control,{className:"textBox",type:"text",name:"first_name",value:s.first_name,onChange:a,placeholder:"First Name",isValid:n.first_name&&!c.first_name,isInvalid:!!c.first_name,size:"lg",autoComplete:"disabled"}),Object(x.jsx)(ne.a.Feedback,{type:"invalid",children:c.first_name})]})})}),Object(x.jsx)("div",{className:"vs-col vs-xs- vs-sm-12 vs-lg-6",style:{margin:"0%",width:"100%",position:"relative"},children:Object(x.jsx)("div",{className:"set-animation from-left animate",children:Object(x.jsxs)(Ve.a.Group,{controlId:"lastName",className:"m-2 float-right",style:{width:"100%",float:"right"},children:[Object(x.jsx)(Ve.a.Label,{className:"form-label m-2",children:"Last Name"}),Object(x.jsx)(Ve.a.Control,{className:"textBox",type:"text",name:"last_name",value:s.last_name,onChange:a,placeholder:"Last Name",isValid:n.last_name&&!c.last_name,isInvalid:!!c.last_name,size:"lg",autoComplete:"disabled"}),Object(x.jsx)(ne.a.Feedback,{type:"invalid",children:c.last_name})]})})})]}),Object(x.jsxs)("div",{className:"vs-row top-content",style:{display:"flex",width:"100%"},children:[Object(x.jsx)("div",{className:"vs-col vs-xs- vs-sm-12 vs-lg-6",style:{margin:"0%",width:"100%",position:"relative"},children:Object(x.jsx)("div",{className:"set-animation from-left animate",children:Object(x.jsxs)(Ve.a.Group,{controlId:"telNumber",className:"m-2 float-right",style:{width:"100%",float:"right"},children:[Object(x.jsx)(Ve.a.Label,{className:"form-label",children:"Telephone Number"}),Object(x.jsx)(Ve.a.Control,{className:"textBox",type:"text",name:"Tel_number",value:s.Tel_number,onChange:a,placeholder:"Telephone Number",isValid:n.Tel_number&&!c.Tel_number,isInvalid:!!c.Tel_number,size:"lg",autoComplete:"off"}),Object(x.jsx)(ne.a.Feedback,{type:"invalid",children:c.Tel_number})]})})}),Object(x.jsx)("div",{className:"vs-col vs-xs- vs-sm-12 vs-lg-6",style:{margin:"0%",width:"100%",position:"relative"},children:Object(x.jsx)("div",{className:"set-animation from-left animate",children:Object(x.jsxs)(Ve.a.Group,{controlId:"NicNumber",className:"m-2 float-right",style:{width:"100%",float:"right"},children:[Object(x.jsxs)(p.a,{children:[Object(x.jsx)("input",{type:"checkbox",style:{width:"5%",marginTop:"5px",marginLeft:"50px"},onChange:function(e){var t,a=e.target.checked;!0===(t=a)&&(w.NIC_number=ra.c().max(12,"'Invalid NIC Number. Ex:- 199812345678'").matches(/19[3-9][0-9]{9,9}$|200[0-3][0-9]{8,8}$/,"Invalid NIC Number. Ex:- 199812345678").required("NIC number is required..."),L(12)),!1===t&&(w.NIC_number=ra.c().max(10,"'Invalid NIC Number. Ex:- 1234567V'").matches(/[3-9]+[0-9]{8,8}(v|x)$/,"Invalid NIC Number. Ex:- 1234567V").required("NIC number is required..."),L(10))}}),Object(x.jsx)(Ve.a.Label,{className:"form-label w-75",children:"Please select here if new NIC Number"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)(Ve.a.Control,{className:"textBox",type:"text",maxLength:R,name:"NIC_number",value:s.NIC_number,onChange:a,placeholder:"NIC Number",isValid:n.NIC_number&&!c.NIC_number,isInvalid:!!c.NIC_number,size:"lg",autoComplete:"disabled"}),Object(x.jsx)(ne.a.Feedback,{type:"invalid",children:c.NIC_number})]})]})})})]}),Object(x.jsxs)("div",{className:"vs-row top-content",style:{display:"flex",width:"100%"},children:[Object(x.jsx)("div",{className:"vs-col vs-xs- vs-sm-12 vs-lg-6",style:{margin:"0%",width:"100%",position:"relative"},children:Object(x.jsx)("div",{className:"set-animation from-left animate",children:Object(x.jsxs)(Ve.a.Group,{controlId:"PcrResult",className:"m-2 float-right",style:{width:"100%",float:"right"},children:[Object(x.jsx)(Ve.a.Label,{className:"form-label",children:"PCR test result"}),Object(x.jsxs)(Ve.a.Control,{style:{height:"48px"},name:"Test_result",onChange:function(e){g(e.target.value)},as:"select",children:[Object(x.jsx)("option",{value:"",children:"Select the PCR result "}),Object(x.jsx)("option",{value:"positive",children:"Positive"}),Object(x.jsx)("option",{value:"negative",children:"Negative"})]})]})})}),Object(x.jsx)("div",{className:"vs-col vs-xs- vs-sm-12 vs-lg-6",style:{margin:"0%",width:"100%",position:"relative"},children:Object(x.jsx)("div",{className:"set-animation from-left animate",children:Object(x.jsxs)(Ve.a.Group,{controlId:"birthYer",className:"m-2 float-right",style:{width:"100%",float:"right"},children:[Object(x.jsx)(Ve.a.Label,{className:"form-label",children:"Birth Year"}),Object(x.jsx)(Ve.a.Control,{className:"textBox",type:"text",name:"birth_year",minLength:4,value:s.birth_year,onChange:a,placeholder:"Birth Year",isValid:n.birth_year&&!c.birth_year,isInvalid:!!c.birth_year,size:"lg",autoComplete:"off"}),Object(x.jsx)(ne.a.Feedback,{type:"invalid",children:c.birth_year})]})})})]}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("div",{class:"col-md-12 text-center",children:Object(x.jsx)(ae.a,{type:"submit",className:"mb-3",style:{float:"center"},children:"Add PCR Results"})})]})}})}):t.push("/")})},Ta=Object(F.c)({name:"auth",initialState:{data:{},token:"",logging:!1,loggedIn:!1,wardAdded:!1,wardUpdated:!1,wardDelete:!1},reducers:{userLoginRequested:function(e,t){e.logging=!0},userLoginFailed:function(e,t){e.logging=!1,e.error=t.payload},userLoginSucceeded:function(e,t){e.logging=!1,delete e.error,e.data=t.payload.data,e.token=t.payload.token,e.loggedIn=!0,console.log(e.data)},userLoggedOut:function(e,t){e.loggedIn=!1,e.data={},e.token=""},authDataUpdated:function(e,t){e.data=Object(na.a)(Object(na.a)({},e.data),t.payload)},wardCreateRequested:function(e,t){e.wardAdded=!1},wardCreateRequestFailed:function(e,t){},wardCreateRequestSucceeded:function(e,t){e.wardAdded=!0,e.data.user.admin.hospital.wards.push(t.payload.data.ward)},wardUpdated:function(e,t){e.wardUpdated=!0;var a=e.data.user.admin.hospital.wards.findIndex((function(e){return e.name===t.payload.data.ward.name}));e.data.user.admin.hospital.wards[a].totalBeds=t.payload.data.ward.totalBeds},wardDelete:function(e,t){e.wardDelete=!0;var a=e.data.user.admin.hospital.wards.filter((function(e){return e.name!==t.payload.data.ward.name}));e.data.user.admin.hospital.wards=a},userUpdated:function(e,t){e.data.user.user=t.payload.data.user,console.log(t.payload.data)}}}),_a=Ta.reducer,Fa=Ta.actions,qa=Fa.userLoginRequested,Ha=Fa.userLoginFailed,za=Fa.userLoginSucceeded,Ba=Fa.userLoggedOut,Ma=(Fa.authDataUpdated,Fa.wardUpdated),Ga=(Fa.wardDelete,Fa.wardCreateRequested),Wa=Fa.wardCreateRequestFailed,Ua=Fa.wardCreateRequestSucceeded,Va=Fa.userUpdated,$a="/api/v1/hospital",Xa=function(){return function(e){return e(Ba())}},Za=(Object(B.a)((function(e){return e.auth.data}),(function(e){return e})),Object(B.a)((function(e){return e.auth}),(function(e){return e})),Object(B.a)((function(e){return e.auth}),(function(e){return e.loggedIn}))),Ya=function(e){var t=e.match,a=e.history,n=Object(l.b)(),c=(t.params.id,Object(l.c)((function(e){return e.auth}))),i=c.data.user.user,r=[{id:"0",name:"Ampara"},{id:"1",name:"Anuradhapura"},{id:"2",name:"Badulla"},{id:"3",name:"Batticaloa"},{id:"4",name:"Colombo"},{id:"5",name:"Galle"},{id:"6",name:"Gampaha"},{id:"7",name:"Hambanthota"},{id:"8",name:"Jaffna"},{id:"9",name:"Kalutara"},{id:"10",name:"Kandy"},{id:"11",name:"Kegalle"},{id:"12",name:"Kilinochchi"},{id:"13",name:"Kurunegala"},{id:"14",name:"Mannar"},{id:"15",name:"Matale"},{id:"16",name:"Matara"},{id:"17",name:"Monaragala"},{id:"18",name:"Mullativu"},{id:"19",name:"Nuwara Eliya"},{id:"20",name:"Polonnaruwa"},{id:"21",name:"Puttalam"},{id:"22",name:"Ratnapura"},{id:"23",name:"Trincomalee"},{id:"24",name:"Vavuniya"}],o=Object(s.useState)(),d=Object(j.a)(o,2),u=d[0],h=d[1];console.log(u);var m=i.address,O=i.birthday,f=i.contactNo,p=i.name,v=O.split("-"),g=v[0]+"-"+v[1]+"-"+v[2][0]+v[2][1],y=m.line1,N=m.line2,w=m.city,C=m.district,S=function(e,t){if("undefined"!==typeof t){var a=e.filter((function(e){return e.name===t}));return console.log(a),a.id}return""}(r,C);console.log(S);var P=p.firstName,I=p.lastName,A=Object(s.useState)({first_name:ra.c().required("First Name is required..."),last_name:ra.c().required("Last Name is required..."),Tel_number:ra.c().matches(/^(?:7|0|(?:\+94))[0-9]{9,9}$/,"Invalid Phone Number. Ex:- 0123458907").required("Phone number is required..."),line1:ra.c().required("Address is required"),line2:ra.c().required("Address is required"),city:ra.c().required("City is required")}),R=Object(j.a)(A,2),L=R[0],E=(R[1],Object(s.useState)({first_name:P,last_name:I,Tel_number:f,line1:y,line2:N,city:w,birthday:g,district:u})),k=Object(j.a)(E,2),D=k[0];k[1];return Object(s.useEffect)((function(){}),[n]),Object(x.jsx)(b.a,{className:" formContainer mt-3",children:c.loggedIn?Object(x.jsx)(ia.a,{validationSchema:ra.a().shape(L),onSubmit:function(e){var t=e.first_name,a=e.last_name,s=e.Tel_number,c=e.birthday,i=e.line1,l=e.line2,o=e.city,d="";d="number"===typeof u?r[u].name:u;var j={name:{firstName:t,lastName:a},contactNo:parseInt(s),birthday:c,address:{line1:i,line2:l,city:o,district:d}};console.log(j),n(function(e){return function(t){return console.log(e),t(q({url:"api/v1/users/update",method:"patch",data:e,onSuccess:Va.type}))}}(j))},initialValues:D,children:function(e){var t=e.handleSubmit,a=e.handleChange,s=(e.handleBlur,e.values),n=e.touched,c=(e.isValid,e.dirty,e.errors);return Object(x.jsxs)(Ve.a,{noValidate:!0,onSubmit:t,children:[Object(x.jsx)("h3",{style:{textAlign:"center",fontWeight:"700"},children:"EDIT PATIENT PERSONAL DETAILS"}),Object(x.jsxs)("div",{className:"vs-row top-content",style:{display:"flex",width:"100%"},children:[Object(x.jsx)("div",{className:"vs-col vs-xs- vs-sm-12 vs-lg-6",style:{margin:"0%",width:"100%",position:"relative"},children:Object(x.jsx)("div",{className:"set-animation from-left animate",children:Object(x.jsxs)(Ve.a.Group,{controlId:"firstName",className:"m-2",style:{width:"100%"},children:[Object(x.jsx)(Ve.a.Label,{className:"form-label m-2",children:"First Name"}),Object(x.jsx)(Ve.a.Control,{className:"textBox",type:"text",name:"first_name",value:s.first_name,onChange:a,placeholder:"First Name",isValid:n.first_name&&!c.first_name,isInvalid:!!c.first_name,size:"lg",autoComplete:"disabled"}),Object(x.jsx)(ne.a.Feedback,{type:"invalid",children:c.first_name})]})})}),Object(x.jsx)("div",{className:"vs-col vs-xs- vs-sm-12 vs-lg-6",style:{margin:"0%",width:"100%",position:"relative"},children:Object(x.jsx)("div",{className:"set-animation from-left animate",children:Object(x.jsxs)(Ve.a.Group,{controlId:"lastName",className:"m-2 float-right",style:{width:"100%",float:"right"},children:[Object(x.jsx)(Ve.a.Label,{className:"form-label m-2",children:"Last Name"}),Object(x.jsx)(Ve.a.Control,{className:"textBox",type:"text",name:"last_name",value:s.last_name,onChange:a,placeholder:"Last Name",isValid:n.last_name&&!c.last_name,isInvalid:!!c.last_name,size:"lg",autoComplete:"disabled"}),Object(x.jsx)(ne.a.Feedback,{type:"invalid",children:c.last_name})]})})})]}),Object(x.jsxs)("div",{className:"vs-row top-content",style:{display:"flex",width:"100%"},children:[Object(x.jsx)("div",{className:"vs-col vs-xs- vs-sm-12 vs-lg-6",style:{margin:"0%",width:"100%",position:"relative"},children:Object(x.jsx)("div",{className:"set-animation from-left animate",children:Object(x.jsxs)(Ve.a.Group,{controlId:"telNumber",className:"m-2 float-right",style:{width:"100%",float:"right"},children:[Object(x.jsx)(Ve.a.Label,{className:"form-label",children:"Birthday"}),Object(x.jsx)(Ve.a.Control,{className:"textBox",type:"date",name:"birthday",value:s.birthday,onChange:a,placeholder:"Birthday",isValid:n.birthday&&!c.birthday,isInvalid:!!c.birthday,size:"lg",autoComplete:"off"}),Object(x.jsx)(ne.a.Feedback,{type:"invalid",children:c.birthday})]})})}),Object(x.jsx)("div",{className:"vs-col vs-xs- vs-sm-12 vs-lg-6",style:{margin:"0%",width:"100%",position:"relative"},children:Object(x.jsx)("div",{className:"set-animation from-left animate",children:Object(x.jsxs)(Ve.a.Group,{controlId:"telNumber",className:"m-2 float-right",style:{width:"100%",float:"right"},children:[Object(x.jsx)(Ve.a.Label,{className:"form-label",children:"Telephone Number"}),Object(x.jsx)(Ve.a.Control,{className:"textBox",type:"text",name:"Tel_number",value:s.Tel_number,onChange:a,placeholder:"Telephone Number",isValid:n.Tel_number&&!c.Tel_number,isInvalid:!!c.Tel_number,size:"lg",autoComplete:"off"}),Object(x.jsx)(ne.a.Feedback,{type:"invalid",children:c.Tel_number})]})})})]}),Object(x.jsxs)("div",{className:"vs-row top-content",style:{display:"flex",width:"100%"},children:[Object(x.jsx)("div",{className:"vs-col vs-xs- vs-sm-12 vs-lg-4",style:{margin:"0%",width:"100%",position:"relative"},children:Object(x.jsx)("div",{className:"set-animation from-left animate",children:Object(x.jsxs)(Ve.a.Group,{controlId:"address",className:"m-2 float-right",style:{width:"100%",float:"right"},children:[Object(x.jsx)(Ve.a.Label,{className:"form-label",children:"Line 1"}),Object(x.jsx)(Ve.a.Control,{className:"textBox",type:"text",name:"age",value:s.line1,onChange:a,placeholder:"Address",isValid:n.line1&&!c.line1,isInvalid:!!c.line1,size:"lg",autoComplete:"disabled"}),Object(x.jsx)(ne.a.Feedback,{type:"invalid",children:c.line1})]})})}),Object(x.jsx)("div",{className:"vs-col vs-xs- vs-sm-12 vs-lg-4",style:{margin:"0%",width:"100%",position:"relative"},children:Object(x.jsx)("div",{className:"set-animation from-left animate",children:Object(x.jsxs)(Ve.a.Group,{controlId:"address",className:"m-2 float-right",style:{width:"100%",float:"right"},children:[Object(x.jsx)(Ve.a.Label,{className:"form-label",children:"Line 2"}),Object(x.jsx)(Ve.a.Control,{className:"textBox",type:"text",name:"age",value:s.line2,onChange:a,placeholder:"Address",isValid:n.line2&&!c.line2,isInvalid:!!c.line2,size:"lg",autoComplete:"disabled"}),Object(x.jsx)(ne.a.Feedback,{type:"invalid",children:c.line2})]})})}),Object(x.jsx)("div",{className:"vs-col vs-xs- vs-sm-12 vs-lg-4",style:{margin:"0%",width:"100%",position:"relative"},children:Object(x.jsx)("div",{className:"set-animation from-left animate",children:Object(x.jsxs)(Ve.a.Group,{controlId:"city",className:"m-2 float-right",style:{width:"100%",float:"right"},children:[Object(x.jsx)(Ve.a.Label,{className:"form-label",children:"City"}),Object(x.jsx)(Ve.a.Control,{className:"textBox",type:"text",name:"city",value:s.city,onChange:a,placeholder:"Address",isValid:n.city&&!c.city,isInvalid:!!c.city,size:"lg",autoComplete:"disabled"}),Object(x.jsx)(ne.a.Feedback,{type:"invalid",children:c.city})]})})}),Object(x.jsx)("div",{className:"vs-col vs-xs- vs-sm-12 vs-lg-4",style:{margin:"0%",width:"100%",position:"relative"},children:Object(x.jsx)("div",{className:"set-animation from-left animate",children:Object(x.jsxs)(Ve.a.Group,{controlId:"city",className:"m-2 float-right",style:{width:"100%",float:"right"},children:[Object(x.jsx)(Ve.a.Label,{children:"District"}),Object(x.jsx)(Ve.a.Control,{className:"textBox",style:{height:"48px"},onChange:function(e){h(e.target.value)},as:"select",children:r.map((function(e,t){return Object(x.jsx)("option",{selected:t===s.district?"slected":null,children:"".concat(e.name)})}))})]})})})]}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("div",{class:"col-md-12 text-center",children:Object(x.jsx)(ae.a,{type:"submit",className:"mb-3",style:{float:"center"},children:"Submit"})})]})}}):a.push("/")})};var Ka=function(e){var t=e.patients,a=e.hospitals,n=e.wards,c=e.popUpHandler;console.log(t);var i=t.medicalHistory[t.medicalHistory.length-1],r=i.ward,o=i.hospital,d=Object(l.b)(),u=Object(s.useState)("false"),b=Object(j.a)(u,2),h=b[0],m=(b[1],Object(s.useState)(a[0].name)),O=Object(j.a)(m,2),f=O[0],p=O[1],g=Object(s.useState)(n[0].name),y=Object(j.a)(g,2),N=y[0],w=y[1];1==typeof a&&a.length>0&&p(a[0].name);var C=function(e){if(o===Qa(a,f))d(Rt({message:"New hospital cannot be current hospital...",type:"error"}));else{var s={hospital:Qa(n,N)};console.log(s),d(Be(s,t._id))}},S=function(){if(r===Ja(n,N))d(Rt({message:"New ward cannot be current ward...",type:"error"}));else{var e={ward:Ja(n,N)};console.log(e),d((a=e,s=t._id,function(e){return console.log(s),e(q({url:Ee+"med/".concat(s,"/changeward"),method:"post",data:a,onSuccess:Le}))}))}var a,s};return Object(x.jsxs)(D.a,{className:"m-2 con-vs-card text-center",children:[Object(x.jsx)("br",{}),Object(x.jsx)("div",{className:"text-center",children:Object(x.jsx)(ae.a,{type:"submit",className:" w-50 text-center",onClick:function(){return c(!0)},children:"Discharge"})}),Object(x.jsx)("hr",{style:{color:"#000000",backgroundColor:"#000000",height:.25,borderColor:"#000000"}}),"undefined"===typeof a||0===a.length?Object(x.jsx)(D.a,{style:{backgroundColor:"#fca8a4",color:"#b73333",opacity:"0.5",padding:"10px",margin:"5px"},className:"m-2",children:"No Wards"}):Object(x.jsxs)(v.a,{children:[Object(x.jsx)("h5",{children:"Change Ward"}),Object(x.jsx)(Ve.a.Group,{children:Object(x.jsx)(Ve.a.Control,{onChange:function(e){"Select Ward"!==e.target.value&&w(e.target.value)},as:"select",children:n.map((function(e,t){return Object(x.jsx)("option",{selected:0===t?"slected":null,children:"".concat(e.name)})}))})}),Object(x.jsx)(ae.a,{onClick:function(){return S()},children:"Change Ward"})]}),Object(x.jsx)("hr",{style:{color:"#000000",backgroundColor:"#000000",height:.25,borderColor:"#000000"}}),Object(x.jsxs)("div",{children:["undefined"===typeof a||0===a.length?Object(x.jsx)(D.a,{style:{backgroundColor:"#fca8a4",color:"#b73333",opacity:"0.5",padding:"10px",margin:"5px"},className:"m-2",children:"No Hospitals"}):Object(x.jsxs)(v.a,{children:[Object(x.jsx)("h5",{children:"Transfer Patient"}),Object(x.jsx)(Ve.a.Group,{children:Object(x.jsx)(Ve.a.Control,{onChange:function(e){"Select Hospital"!==e.target.value&&p(e.target.value)},as:"select",children:a.map((function(e,t){return Object(x.jsx)("option",{selected:0===t?"slected":null,children:"".concat(e.name)})}))})})]}),Object(x.jsx)(ae.a,{className:"btn btn-primary m-2 text-center",disabled:"pending"===h,onClick:function(){return C()},children:"Transfer"}),Object(x.jsx)(ae.a,{className:"btn btn-danger m-2 text-center",disabled:"false"===h,onClick:function(){return C()},children:"Cancel"})]})]})};function Ja(e,t){return"undefined"===typeof e||0===e.length?"":e.filter((function(e){return e.name===t}))[0]._id}function Qa(e,t){return"undefined"===typeof e||0===e.length?"":e.filter((function(e){return e.name===t}))[0]._id}var es=a(548),ts=a(545),as=a(547),ss=a(546),ns=a(536);function cs(e){var t=e.dialogSet,a=e.closePopUp,s=e.dischargeHandler;return Object(x.jsx)("div",{children:Object(x.jsxs)(ts.a,{open:t,onClose:!t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(x.jsx)(ns.a,{id:"alert-dialog-title",children:"Are you continue this action?"}),Object(x.jsx)(ss.a,{}),Object(x.jsxs)(as.a,{children:[Object(x.jsx)(es.a,{onClick:function(){return a(!1)},children:"Cancel"}),Object(x.jsx)(es.a,{onClick:function(){return s(),void a(!1)},children:"Continue"})]})]})})}var is=function(e){var t=e.match,a=e.history,n=Object(l.b)(),c=t.params.id,i=Object(l.c)((function(e){return e.auth})),r=i.data.user,o=r.admin,d=r.user,u="",h="";if(o){var m=o.hospital;u=m.wards,h=m._id}var O=d,f=Object(l.c)(function(e){return Object(B.a)((function(e){return e.entities.patients.list}),(function(t){var a=t.findIndex((function(t){return t._id===e}));return-1!==a?t[a]:{}}))}(c)),p=Object(l.c)(dt);console.log(f);var g=function(e){var t="";if("undefined"===typeof e||0===e.length)return t;if(e.currentMedicalHistory){return e.medicalHistory.slice(-1)[0].hospital}}(f),y=Object(s.useState)(""),N=Object(j.a)(y,2),w=N[0],C=N[1],S=Object(s.useState)(""),P=Object(j.a)(S,2),I=P[0],A=P[1],R=Object(s.useState)(!1),L=Object(j.a)(R,2),E=L[0],k=L[1],T=Object(s.useState)([]),_=Object(j.a)(T,2),F=_[0],q=_[1],H=Object(s.useState)(F),z=Object(j.a)(H,2),M=z[0],G=z[1],W=Object(s.useState)(!1),U=Object(j.a)(W,2),V=U[0],$=U[1],X=Object(s.useState)(""),Z=Object(j.a)(X,2),Y=(Z[0],Z[1],function(e,t){"start"===t?C(e):A(e)}),K=function(){if(w<=I){var e=function(e,t,a){var s=rs(a,"history");if(""!==s)return s.filter((function(a){return a.admittedDate>=e&&a.admittedDate<=t}));return""}(w,I,f);G(e),q(e),$(!0)}};return Object(s.useEffect)((function(){"patient"===O.role?n(De()):n(rt())}),[f,p]),Object(x.jsxs)(b.a,{children:[i.loggedIn?Object(x.jsxs)("div",{children:[Object(x.jsx)("h4",{style:{textAlign:"center",fontWeight:"700"},children:"PATIENT PROFILE"}),Object(x.jsx)("div",{children:Object(x.jsx)(ae.a,{className:"btn btn-primary m-2",onClick:function(){return a.push({pathname:"/hospital/PcrView",state:{pcr:f.pcrTest}})},children:"Pcr Test Results"})}),Object(x.jsxs)("div",{className:"vs-row top-content",style:{display:"flex",width:"100%"},children:[Object(x.jsx)("div",{className:"vs-col vs-xs- vs-sm-12 vs-lg-3",style:{margin:"0%",width:"100%",position:"relative"},children:Object(x.jsx)("div",{className:"set-animation from-left animate",children:Object(x.jsx)(ut,{patients:rs(f,"user"),currentHospital:g,userHospital:h,id:f._id})})}),Object(x.jsx)("div",{className:"vs-col vs-xs- vs-sm-12 vs-lg-6",style:{margin:"0%",width:"100%",position:"relative"},children:Object(x.jsx)("div",{className:"set-animation from-left animate",children:f.currentMedicalHistory&&h===g?Object(x.jsx)(ht,{patients:rs(f,"history").slice(-1)[0],userHospital:h,currentHospital:g,hospitals:p,wards:u,pcr:f.pcrTest}):Object(x.jsx)(ht,{patients:"",currentHospital:"",userHospital:""})})}),"patient"!==O.role&&Object(x.jsx)("div",{className:"vs-col vs-xs- vs-sm-12 vs-lg-3",style:{margin:"0%",width:"100%",position:"relative"},children:Object(x.jsx)("div",{className:"set-animation from-left animate",children:g===h?Object(x.jsx)(Ka,{patients:f,hospitals:p,wards:u,popUpHandler:k}):""})})]}),Object(x.jsxs)("div",{className:"vs-row top-content",style:{display:"flex",width:"100%"},children:[Object(x.jsx)("div",{className:"vs-col vs-xs vs-sm-12 vs-lg-3",style:{marginLeft:"0%",marginRight:"0%",width:"100%"},children:Object(x.jsxs)(D.a,{className:"m-2",children:[Object(x.jsx)("h5",{className:"m-2 font-weight-bold",style:{textAlign:"center"},children:"SEARCH MEDICAL HISTORY"}),Object(x.jsxs)(Ve.a.Group,{as:v.a,controlId:"sd",children:[Object(x.jsx)(Ve.a.Label,{class:"float-left",className:"form-label",children:"Start Date:"}),Object(x.jsx)(Ve.a.Control,{type:"date",name:"start_date",onChange:function(e){Y(e.target.value,"start")},required:!0}),Object(x.jsx)(ne.a.Feedback,{type:"invalid",children:"This field is required!"})]}),Object(x.jsxs)(Ve.a.Group,{as:v.a,controlId:"ed",children:[Object(x.jsx)(Ve.a.Label,{class:"float-left",className:"form-label",children:"End Date:"}),Object(x.jsx)(Ve.a.Control,{type:"date",name:"end_date",onChange:function(e){Y(e.target.value,"end")},required:!0}),Object(x.jsx)(ne.a.Feedback,{type:"invalid",children:"This field is required!"})]}),""!==w&&""!==I&&w>I?Object(x.jsx)(D.a,{style:{backgroundColor:"#fca8a4",color:"#b73333",opacity:"0.5",padding:"10px",margin:"5px"},className:"m-2",children:"Start date must be past to the end date"}):"",""!==w&&""!==I&&0===F.length&&V?Object(x.jsx)(D.a,{style:{backgroundColor:"#fca8a4",color:"#b73333",opacity:"0.5",padding:"10px",margin:"5px"},className:"m-2",children:"No Medical History Data"}):"",Object(x.jsx)(ae.a,{className:"btn btn-primary m-2",disabled:""===w||""===I,onClick:function(){return K()},children:"Search"})]})}),Object(x.jsx)("div",{className:"vs-col vs-xs vs-sm-12 vs-lg-6",style:{marginLeft:"0%",marginRight:"0%",width:"100%"},children:Object(x.jsx)(ft,{patientHistory:M,filteredHistory:F,hospital:ls(F,p),ward:os(F,u)})}),0!==F.length&&Object(x.jsx)("div",{className:"vs-col vs-xs vs-sm-12 vs-lg-3",style:{marginLeft:"0%",marginRight:"0%",width:"100%"},children:Object(x.jsx)(D.a,{className:"m-2",children:Object(x.jsxs)("div",{children:[Object(x.jsx)("h5",{className:"text-center m-2 font-weight-bold",children:"MEDICAL HISTORY LIST"}),Object(x.jsx)(jt.Scrollbars,{style:{width:"100%",minHeight:"15rem",height:"auto",overflowX:"hidden",border:"1px black"},children:Object(x.jsx)("ul",{className:"m-2",children:F.map((function(e){return Object(x.jsx)(ae.a,{className:"btn btn-light",style:{width:"80%",borderRadius:"0px"},onClick:function(){return G(e)},children:e.admittedDate})}))})})]})})})]})]}):a.push("/"),Object(x.jsx)(cs,{dialogSet:E,closePopUp:k,dischargeHandler:function(){console.log("discharge")}})]})};function rs(e,t){if("undefined"===typeof e||0===e.length)return"";var a=e.medicalHistory,s=e.user;return s&&"user"===t?s:a&&"history"===t?a:""}function ls(e,t){return 0===e.length?"":t.filter((function(t){return t._id===e[0].hospital}))[0]}function os(e,t){return 0===e.length?"":t.filter((function(t){return t._id===e[0].ward}))[0]}var ds=function(e){Object(oa.a)(e);var t=Object(l.b)(),a=Object(o.k)(),n=Object(l.c)((function(e){return e.auth})),c=Object(s.useState)(""),i=Object(j.a)(c,2),r=(i[0],i[1]),d=Object(l.c)(Ea),u=Object(s.useState)(js(d)),h=Object(j.a)(u,2),m=h[0],O=h[1],f=Object(s.useState)([]),v=Object(j.a)(f,2),g=v[0],y=v[1],N=Object(s.useState)(!1),w=Object(j.a)(N,2),C=w[0],S=w[1],P=Object(l.c)(La);Object(s.useEffect)((function(){n.loggedIn||(window.location="/"),r(n.data.user.role),t((function(e,t){var a=t().entities.pcr.toConfirmLastFetch;if(!(W()().diff(W()(a),"minutes")<Sa))return e(q({url:Ca+"pcr/toconfirm",method:"get",onStart:ya.type,onSuccess:Na.type,onError:wa.type}))})),d&&O(d.map((function(e){return{select:!1,_id:e._id,name:us(e,"name"),age:e.age,telephone:e.contactNumber,result:e.result}})))}),[t,d]);return Object(x.jsxs)(x.Fragment,{children:[n.loggedIn&&P&&Object(x.jsx)(_,{}),n.loggedIn?Object(x.jsxs)(b.a,{children:[Object(x.jsx)("h2",{style:{textAlign:"center",marginBottom:"40px",fontWeight:"700"},children:"APROVE PCR RESULTS"}),0===m.length?Object(x.jsx)(D.a,{style:{backgroundColor:"#fca8a4",color:"#b73333",opacity:"0.5",padding:"10px"},children:"No data"}):Object(x.jsxs)("div",{children:[Object(x.jsx)(p.a,{className:"ml-3 mb-2",children:Object(x.jsx)(ae.a,{value:g,disabled:0===g.length,onClick:function(){return function(e){var a={ids:g};console.log(a),t(ka(a)),y([]),O(m.filter((function(e){return!1===e.select})))}()},className:"btn btn-primary w-25 mr-2",children:"Confirm Selected"})}),Object(x.jsxs)(ce.a,{striped:!0,bordered:!0,hover:!0,variant:"light",children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:Object(x.jsx)("input",{type:"checkBox",onChange:function(e){var t,a=e.target.checked;O(m.map((function(e){return e.select=a,e}))),!0===(t=a)?(S(t),y(js(d))):(S(t),y([]))},checked:C})}),Object(x.jsx)("th",{children:"Name"}),Object(x.jsx)("th",{children:"Telephone"}),Object(x.jsx)("th",{children:"PCR Result"}),Object(x.jsx)("th",{children:"Actions"})]})}),Object(x.jsx)("tbody",{children:m.map((function(e){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:Object(x.jsx)("input",{type:"checkBox",onChange:function(t){var a=t.target.checked;!function(e,t){if(!1===e&&g.length===d.length&&S(!1),!0===e&&g.length===d.length-1&&S(!0),!0===e){var a=Object(ca.a)(g),s=d.filter((function(e){return e._id===t._id}));a.push(s[0]._id),y(a)}else y(g.filter((function(e){return e!==t._id})))}(a,e),O(m.map((function(t){return t._id==e._id&&(t.select=a),t})))},checked:e.select})}),Object(x.jsx)("td",{children:e.name}),Object(x.jsx)("td",{children:e.telephone}),Object(x.jsx)("td",{children:e.result}),Object(x.jsx)("td",{children:Object(x.jsx)(p.a,{children:Object(x.jsx)(ae.a,{value:e._id,onClick:function(){return function(e,a){var s={ids:[a]};console.log(s),t(ka(s))}(0,e._id)},className:"btn btn-primary mr-2 ml-2 text-center",style:{width:"80%"},children:"Confirm"})})})]})}))})]})]})]}):a.goBack()]})};function js(e){var t=[];if(e){if(0===e.length)return t;for(var a=0;a<=e.length-1;a++)t.push(e[a]._id);return t}return t}function us(e,t){if("undefined"===typeof e||0===e.length)return"";var a=e.name,s=e.contactNumber;if(a&&"name"===t){var n=e.name;return n.firstName+" "+n.lastName}return s?"tel"===t?s:void 0:""}a(410);var bs=a(544);function hs(e){var t=Object(l.b)(),a=(Object(l.c)((function(e){return e.auth})),Object(s.useState)("")),n=Object(j.a)(a,2),c=(n[0],n[1]),i=Object(s.useState)(0),r=Object(j.a)(i,2),o=(r[0],r[1]),d=Object(s.useState)(0),u=Object(j.a)(d,2),b=(u[0],u[1]),h=Object(s.useState)(0),m=Object(j.a)(h,2),O=(m[0],m[1]);return Object(x.jsx)(bs.a,{maxWidth:"sm",children:Object(x.jsxs)(Lt.a,{sx:{bgcolor:"#cfe8fc",height:"100vh"},children:[Object(x.jsx)("br",{}),Object(x.jsxs)("div",{class:"col-10 mx-auto banner text-center",children:[Object(x.jsx)("h3",{class:"text-capitalize",children:Object(x.jsx)("strong",{class:"banner-title",children:"Want to Add new Ward?"})}),Object(x.jsxs)(Ve.a,{className:"form",onSubmit:function(e){e.preventDefault();t(function(e){return function(t){return console.log(e),t(q({url:ct+"ward",method:"post",data:e,onStart:at,onSuccess:nt.type,onError:st}))}}())},children:[Object(x.jsxs)(Ve.a.Row,{children:[Object(x.jsxs)(Ve.a.Group,{as:v.a,controlId:"ward_name",children:[Object(x.jsx)(Ve.a.Label,{class:"float-left",className:"form-label",children:Object(x.jsx)("strong",{children:"WARD NAME:"})}),Object(x.jsx)(Ve.a.Control,{type:"text",id:"ward_name",onChange:function(e){return c(e.target.value)},placeholder:"Enter Ward Name",required:!0})]}),Object(x.jsxs)(Ve.a.Group,{as:v.a,controlId:"total_beds",children:[Object(x.jsx)(Ve.a.Label,{class:"float-left",className:"form-label",children:Object(x.jsx)("strong",{children:"TOTAL BEDS:"})}),Object(x.jsx)(Ve.a.Control,{type:"number",id:"total_beds",onChange:function(e){return o(e.target.value)},placeholder:"Enter Total Number of Beds",required:!0})]}),Object(x.jsxs)(Ve.a.Group,{as:v.a,controlId:"admitted_patients",children:[Object(x.jsx)(Ve.a.Label,{class:"float-left",className:"form-label",children:Object(x.jsx)("strong",{children:"TOTAL ADMITTED PATIENTS:"})}),Object(x.jsx)(Ve.a.Control,{type:"number",id:"total_beds",onChange:function(e){return b(e.target.value)},placeholder:"Enter Total Number of Beds",required:!0})]}),Object(x.jsxs)(Ve.a.Group,{as:v.a,controlId:"empty_beds",children:[Object(x.jsx)(Ve.a.Label,{class:"float-left",className:"form-label",children:Object(x.jsx)("strong",{children:"EMPTY BEDS:"})}),Object(x.jsx)(Ve.a.Control,{type:"number",id:"empty_beds",onChange:function(e){return O(e.target.value)},placeholder:"Enter Number of Empty Beds",required:!0})]})]}),Object(x.jsx)("br",{}),Object(x.jsx)(ae.a,{variant:"primary",type:"submit",children:"Submit"})]})]})]})})}a(411),a(412),a(413);var ms=S.a.create({baseURL:"http://localhost:8000/api",headers:{"Content-type":"application/json"}}),Os={getAll:function(){return ms.get("/hospital/wards")},get:function(e){return ms.get("/hospital/wards/".concat(e))},create:function(e){return ms.post("/hospital/wards",e)},update:function(e,t){return ms.put("/hospital/wards/".concat(e),t)},remove:function(e){return ms.delete("/hospital/wards/".concat(e))},removeAll:function(){return ms.delete("/hospital/wards")},findByTitle:function(e){return ms.get("/hospital/wards?ward_name=".concat(e))}},xs=function(e){var t=Object(s.useState)({id:null,ward_name:"",description:"",total_beds:""}),a=Object(j.a)(t,2),n=a[0],c=a[1],i=Object(s.useState)(""),l=Object(j.a)(i,2),o=l[0],d=l[1];Object(s.useEffect)((function(){var t;t=e.match.params.id,Os.get(t).then((function(e){c(e.data),console.log(e.data)})).catch((function(e){console.log(e)}))}),[e.match.params.id]);var u=function(e){var t=e.target,a=t.name,s=t.value;c(Object(na.a)(Object(na.a)({},n),{},Object(sa.a)({},a,s)))};return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{children:Object(x.jsxs)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:[Object(x.jsx)("a",{className:"navbar-brand",children:"Wards"}),Object(x.jsxs)("div",{className:"navbar-nav mr-auto",children:[Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(r.Link,{to:"/hospital/wards",className:"nav-link",children:"Wards"})}),Object(x.jsx)("li",{className:"nav-item",children:Object(x.jsx)(r.Link,{to:"/hospital/add_wards",className:"nav-link",children:"Add Wards"})})]})]})}),Object(x.jsx)("br",{}),Object(x.jsx)("div",{children:n?Object(x.jsxs)("div",{className:"edit-form",children:[Object(x.jsx)("div",{class:"container-sm border",children:Object(x.jsx)("div",{class:"row max-height justify-content-center align-items-center",children:Object(x.jsxs)("div",{class:"col-10 mx-auto banner text-center",children:[Object(x.jsx)("h3",{class:"text-capitalize",children:Object(x.jsx)("strong",{class:"banner-title",children:"Edit Ward Details ?"})}),Object(x.jsx)("div",{class:"card-body register-card-body"}),Object(x.jsxs)("form",{children:[Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{class:"float-left",htmlFor:"title",children:"Ward Name:"}),Object(x.jsx)("input",{type:"text",className:"form-control",id:"ward_name",name:"ward_name",value:n.ward_name,onChange:u})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{class:"float-left",htmlFor:"description",children:"Description:"}),Object(x.jsx)("input",{type:"text",className:"form-control",id:"description",name:"description",value:n.description,onChange:u})]}),Object(x.jsxs)("div",{className:"form-group",children:[Object(x.jsx)("label",{class:"float-left",htmlFor:"total_beds",children:"Total no of beds:"}),Object(x.jsx)("input",{type:"number",className:"form-control",id:"total_beds",name:"total_beds",value:n.total_beds,onChange:u})]})]}),Object(x.jsxs)("div",{class:"btn-group",children:[Object(x.jsx)("button",{type:"submit",class:"btn btn-success",onClick:function(){Os.update(n.id,n).then((function(e){console.log(e.data),d("The ward was updated successfully!"),alert("Updated: "+undefined.state)})).catch((function(e){console.log(e)}))},children:"Update"})," "]}),Object(x.jsx)("div",{class:"btn-group",children:Object(x.jsx)("button",{type:"button",class:"btn btn-danger",onClick:function(){Os.remove(n.id).then((function(t){console.log(t.data),e.history.push("/hospital/wards")})).catch((function(e){console.log(e)}))},children:"Delete"})})]})})}),Object(x.jsx)("p",{children:o})]}):Object(x.jsxs)("div",{children:[Object(x.jsx)("br",{}),Object(x.jsx)("p",{children:"Please click on a Ward..."})]})})]})},fs=a(77),ps=a.n(fs);a(443);function vs(){var e=Object(l.b)(),t=Object(l.c)((function(e){return e.auth})),a=t.data.user,n=a.admin,c=(a.user,n.hospital.wards),i=Object(s.useState)(!1),r=Object(j.a)(i,2),o=r[0],d=r[1],u=Object(s.useState)(!1),b=Object(j.a)(u,2),h=b[0],m=b[1],O=Object(s.useState)(!1),f=Object(j.a)(O,2),p=f[0],v=f[1],g=(c.length,function(e){var t=e.pagination,a=t.activePage,s=t.itemsPerPage,n=(a-1)*s,i=n+s,r=Array.from(c);return Promise.resolve(r.slice(n,i))}),y=function(e){return Promise.resolve(c.length)};function N(t){var a={name:t.name,totalBeds:t.totalBeds};return t.totalBeds<t.admittedPatients?e(Rt({message:"No of Beds cannot be lass than admitted patients",type:"error"})):(e(function(e,t){return function(a){return console.log(e),a(q({url:$a+"/ward/".concat(t),method:"patch",data:e,onSuccess:Ma.type}))}}(a,t._id)),m(!0)),Promise.resolve(t)}function w(t){var a={name:t.name,totalBeds:t.totalBeds};return e(function(e){return function(t){return console.log(e),t(q({url:"/api/v1/hospital/ward",method:"post",data:e,onStart:Ga,onSuccess:Ua.type,onError:Wa}))}}(a)),d(!0),Promise.resolve(t)}return Object(s.useEffect)((function(){t.wardAdded&&o&&(d(!1),e(Rt({message:"Ward Addes Successfully, Please Refresh Page...",type:"info"}))),t.wardUpdated&&h&&(m(!1),e(Rt({message:"Ward Updated Successfully, Please Refresh Page...",type:"info"}))),t.wardDelete&&p&&(v(!1),e(Rt({message:"Ward Deleted Successfully, Please Refresh Page...",type:"info"})))}),[t]),Object(x.jsx)("div",{style:{margin:"auto",width:"max-content"},children:Object(x.jsxs)(ps.a,{caption:"WARDS",fetchItems:function(e){return g(e)},children:[Object(x.jsxs)(fs.Fields,{children:[Object(x.jsx)(fs.Field,{name:"name",label:"WARD NAME",placeholder:"Enter Ward Name"}),"5",Object(x.jsx)(fs.Field,{name:"totalBeds",type:"number",label:"TOTAL BEDS",placeholder:"Enter Total number of Beds"})]}),Object(x.jsx)(fs.CreateForm,{Ward:!0,Name:"Ward Creation",message:"Create a new ward!",trigger:"ADD NEW WARDS",onSubmit:function(e){return w(e)},submitText:"CREATE",validate:function(e){var t={};return e.name||(t.name="Please, provide ward's Ward Name"),t}}),Object(x.jsx)(fs.UpdateForm,{title:"Ward Update Process",message:"Update ward",trigger:"UPDATE",onSubmit:function(e){return N(e)},submitText:"Update",validate:function(e){var t={};return e.name||(t.name="Please, provide ward's Ward Name"),t}}),Object(x.jsx)(fs.DeleteForm,{title:"Ward Delete Process",message:"Are you sure you want to delete the Ward?",trigger:"DELETE",onSubmit:function(t){return function(t){return t.name,t.totalBeds,t.admittedPatients.length>0&&e(Rt({message:"Invalid Action, Cannot delete patient admitted ward",type:"error"})),Promise.resolve(t)}(t)},submitText:"Delete",validate:function(e){return{}}}),Object(x.jsx)(fs.Pagination,{itemsPerPage:3,fetchTotalOfItems:function(e){return y(e)}})]})})}function gs(e){var t=Object(s.useState)(""),a=Object(j.a)(t,2),n=a[0],c=a[1],i=Object(s.useState)(""),o=Object(j.a)(i,2),d=o[0],u=o[1],b=Object(l.b)(),h=Object(l.c)(Za),m=Object(l.c)((function(e){return e.auth.data}));return Object(s.useEffect)((function(){!0===h&&(b(Rt({message:"Logged in Success...",type:"info"})),m.user.user.role,window.location="/hospital/dashboard","patient"===m.user.user.role&&(window.location="/hospital/patientProfile/".concat(m.user.user._id)),"admin"===m.user.user.role&&(window.location="/healthMinistry/dashboard"))})),Object(x.jsx)("div",{children:Object(x.jsxs)(Ve.a,{className:"form",onSubmit:function(e){var t={email:n,password:d};e.preventDefault(),b(function(e){return function(t){return t(q({url:"/api/v1/users/login",onStart:qa.type,onError:Ha.type,onSuccess:za.type,method:"post",data:e}))}}(t))},children:[Object(x.jsx)("div",{children:Object(x.jsx)("h1",{children:Object(x.jsx)("strong",{class:"banner-title",children:"SIGN IN"})})}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"email",children:"Email address:"}),Object(x.jsx)("input",{type:"email",id:"email",placeholder:"Enter email",required:!0,onChange:function(e){return c(e.target.value)}})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{htmlFor:"password",children:"Password:"}),Object(x.jsx)("input",{type:"password",id:"password",placeholder:"Enter password",required:!0,onChange:function(e){return u(e.target.value)}})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("label",{}),Object(x.jsx)(ae.a,{className:"primary",type:"submit",children:"Sign In"})]}),Object(x.jsx)("div",{children:Object(x.jsx)(r.Link,{to:{pathname:"/forgotPassword"},children:"Forgot Password"})})]})})}var ys=function(e){e.history;var t=Object(l.b)();return Object(s.useEffect)((function(){t(Xa()),window.location="/"})),null},Ns=a(516),ws=a(522),Cs=a(526),Ss=a(525),Ps=a(519),Is=a(523),As=a(524),Rs=a(518),Ls=a(529),Es=a(532),ks=a(520),Ds=(a(444),Object(Ns.a)({table:{minWidth:650}}));function Ts(){var e=n.a.useState(0),t=Object(j.a)(e,2),a=t[0],c=t[1],i=n.a.useState(5),o=Object(j.a)(i,2),d=o[0],u=o[1],b=Object(l.b)(),h=(Object(l.c)((function(e){return e.auth})),Object(l.c)(dt)),m=(Object(l.c)(lt),Object(s.useState)(h)),O=Object(j.a)(m,2),f=O[0],p=(O[1],Object(s.useState)("")),v=Object(j.a)(p,2),g=v[0],y=v[1],N=Ds();return Object(s.useEffect)((function(){b(rt())}),[b,h]),Object(x.jsxs)(Rs.a,{sx:{width:"100%",overflow:"hidden"},children:[Object(x.jsxs)(Ps.a,{sx:{maxHeight:600},children:[Object(x.jsx)(r.Link,{to:"/healthMinistry/addHospital",children:Object(x.jsxs)("button",{className:"wardAddButton",children:[Object(x.jsx)(ks.a,{}),"Add New Hospital"]})}),Object(x.jsx)(Es.a,{id:"search",label:"Search ................",variant:"filled",type:"text",onChange:function(e){y(e.target.value)}}),Object(x.jsxs)(ws.a,{className:N.table,"aria-label":"simple table",children:[Object(x.jsx)(Is.a,{children:Object(x.jsxs)(As.a,{children:[Object(x.jsx)(Ss.a,{align:"left",children:"NAME"}),Object(x.jsx)(Ss.a,{align:"left",children:"CONTACT"}),Object(x.jsx)(Ss.a,{align:"left",children:"DISTRICT"}),Object(x.jsx)(Ss.a,{align:"left",children:"CITY"}),Object(x.jsx)(Ss.a,{align:"left",children:"PROVINCE"}),Object(x.jsx)(Ss.a,{align:"left",children:"ACTION"})]})}),Object(x.jsx)(Cs.a,{children:f.filter((function(e){return""==g||e.address.district.toLowerCase().includes(g.toLowerCase())||e.address.province.toLowerCase().includes(g.toLowerCase())||e.name.toLowerCase().includes(g.toLowerCase())||e.address.city.toLowerCase().includes(g.toLowerCase())?e:void 0})).slice(a*d,a*d+d).map((function(e){return Object(x.jsxs)(As.a,{children:[Object(x.jsx)(Ss.a,{align:"left",children:e.name}),Object(x.jsxs)(Ss.a,{align:"left",children:["0",e.Contact[0]]}),Object(x.jsx)(Ss.a,{align:"left",children:e.address.district}),Object(x.jsx)(Ss.a,{align:"left",children:e.address.city}),Object(x.jsx)(Ss.a,{align:"left",children:e.address.province}),Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(Ss.a,{align:"left",children:Object(x.jsx)(r.Link,{to:"addHospitalAdmin/"+e._id,children:Object(x.jsxs)("button",{className:"wardListEdit","aria-label":"edit",children:[Object(x.jsx)(ks.a,{}),"Add Hospital Admin"]})})})})]},e._id)}))})]})]}),Object(x.jsx)(Ls.a,{rowsPerPageOptions:[5,10,20],component:"div",count:f.length,rowsPerPage:d,page:a,onPageChange:function(e,t){c(t)},onRowsPerPageChange:function(e){u(+e.target.value),c(0)}})]})}var _s=a(527),Fs=(a(446),Object(Ns.a)({table:{minWidth:650}}));function qs(){var e=Object(l.b)(),t=Object(l.c)(Kt),a=(Object(l.c)(Zt),Object(s.useState)(t)),n=Object(j.a)(a,2),c=n[0],i=n[1],o=Fs();return Object(s.useEffect)((function(){e((function(e,t){var a=t().entities.user.lastFetch;if(!(W()().diff(W()(a),"minutes")<$t))return e(q({url:"/api/v1/users",onStart:_t.type,onSuccess:qt.type,onError:Ft.type}))}))}),[e,t]),Object(x.jsxs)(Ps.a,{component:Rs.a,children:[Object(x.jsx)(r.Link,{to:"/hospital/addHospitalStaff",children:Object(x.jsxs)("button",{className:"staffAddButton",children:[Object(x.jsx)(ks.a,{})," Add New Staff"]})}),Object(x.jsxs)(ws.a,{className:o.table,"aria-label":"simple table",children:[Object(x.jsx)(Is.a,{children:Object(x.jsxs)(As.a,{children:[Object(x.jsx)(Ss.a,{align:"left",children:"First Name"}),Object(x.jsx)(Ss.a,{align:"left",children:"Last name"}),Object(x.jsx)(Ss.a,{align:"left",children:"Email"}),Object(x.jsx)(Ss.a,{align:"left",children:"Actions"})]})}),Object(x.jsx)(Cs.a,{children:c.filter((function(e){return"hospital user"===e.role})).map((function(e){return Object(x.jsxs)(As.a,{children:[Object(x.jsx)(Ss.a,{align:"left",children:e.name.firstName}),Object(x.jsx)(Ss.a,{align:"left",children:e.name.lastName}),Object(x.jsx)(Ss.a,{align:"left",children:e.email}),Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(Ss.a,{align:"left",children:Object(x.jsx)(_s.a,{className:"staffListDelete",onclick:function(){return e=c.staff_id,void i(c.filter((function(t){return t.staff_id!==e})));var e}})})})]},e._id)}))})]})]})}var Hs=function(){var e=Object(l.b)(),t=Object(o.k)(),a=Object(l.c)((function(e){return e.auth})),n=Object(s.useState)(""),c=Object(j.a)(n,2),i=(c[0],c[1]),r=Object(l.c)(dt),d=Object(l.c)(lt),u=Object(s.useState)(r),h=Object(j.a)(u,2),m=h[0],O=h[1],f=Object(s.useState)([]),v=Object(j.a)(f,2),g=v[0],y=v[1];console.log(g);var N=Object(s.useState)(!1),w=Object(j.a)(N,2),C=w[0],S=w[1];Object(s.useEffect)((function(){a.loggedIn||(window.location="/"),i(a.data.user.role),e(Pa()),O(r.map((function(e){return{select:!1,_id:e._id,name:e.name,newCases:50,deaths:0,recover:22}})))}),[e]);return Object(x.jsxs)(x.Fragment,{children:[a.loggedIn&&d&&Object(x.jsx)(_,{}),a.loggedIn?Object(x.jsxs)(b.a,{children:[Object(x.jsx)("h2",{style:{textAlign:"center",marginBottom:"40px",fontWeight:"700"},children:"APROVE UPDATED DETAILS"}),0===m.length?Object(x.jsx)(D.a,{style:{backgroundColor:"#fca8a4",color:"#b73333",opacity:"0.5",padding:"10px"},children:"No data"}):Object(x.jsxs)("div",{children:[Object(x.jsx)(p.a,{className:"ml-3 mb-2",children:Object(x.jsx)(ae.a,{value:g,disabled:0===g.length,onClick:function(){},className:"btn btn-primary w-25 mr-2",children:"Confirm Selected"})}),Object(x.jsxs)(ce.a,{striped:!0,bordered:!0,hover:!0,variant:"light",children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:Object(x.jsx)("input",{type:"checkBox",onChange:function(e){var t,a=e.target.checked;O(m.map((function(e){return e.select=a,e}))),!0===(t=a)?(S(t),y(r)):(S(t),y([]))},checked:C})}),Object(x.jsx)("th",{children:"Name"}),Object(x.jsx)("th",{children:"Total Cases"}),Object(x.jsx)("th",{children:"Deaths"}),Object(x.jsx)("th",{children:"Recovery"}),Object(x.jsx)("th",{children:"Actions"})]})}),Object(x.jsx)("tbody",{children:m.map((function(e){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:Object(x.jsx)("input",{type:"checkBox",onChange:function(t){var a=t.target.checked;!function(e,t){if(!1===e&&g.length===r.length&&S(!1),!0===e&&g.length===r.length-1&&S(!0),!0===e){var a=Object(ca.a)(g),s=r.filter((function(e){return e._id===t._id}));a.push(s[0]),y(a)}else y(g.filter((function(e){return e._id!==t._id})))}(a,e),O(m.map((function(t){return t._id==e._id&&(t.select=a),t})))},checked:e.select})}),Object(x.jsx)("td",{children:e.name}),Object(x.jsx)("td",{className:"text-warning font-weight-bold",children:e.newCases}),Object(x.jsx)("td",{className:"text-danger font-weight-bold",children:e.deaths}),Object(x.jsx)("td",{className:"text-success font-weight-bold",children:e.recover}),Object(x.jsx)("td",{children:Object(x.jsx)(p.a,{children:Object(x.jsx)(ae.a,{value:e._id,onClick:function(){e._id},className:"btn btn-primary mr-2 ml-2 text-center",style:{width:"80%"},children:"Confirm"})})})]})}))})]})]})]}):t.goBack()]})},zs=function(e){var t=e.history,a=Object(l.b)(),n=Object(l.c)(_e).list,c=Object(l.c)(ze),i=Object(s.useState)(!1),r=Object(j.a)(i,2),o=r[0],d=r[1],u=Object(l.c)((function(e){return e.auth})),h=u.data.user,m=h.admin,O=(h.user,m.hospital.wards),f=Object(s.useState)(""),v=Object(j.a)(f,2),g=v[0],y=v[1],N=Object(s.useState)(),w=Object(j.a)(N,2),C=w[0],S=w[1];console.log(C);var P=Object(s.useState)(O[0].name),I=Object(j.a)(P,2),A=I[0],R=I[1],L=Object(s.useState)(!1),E=Object(j.a)(L,2),k=E[0],T=E[1],_=Object(s.useState)(),F=Object(j.a)(_,2),q=F[0],H=F[1],z=function(){var e=function(e,t,a){return a?e.filter((function(e){return Bs(e,"nic")===t.toString()&&Ms(e)<18})):e.filter((function(e){return Bs(e,"nic")===t.toString()&&Ms(e)>18}))}(n,g,k);S(e),H(e)},B=function(){if(C.length>1)a(Rt({message:"Please select only one patient",type:"error"}));else if(C[0]){var e={patient:C[0]._id,ward:Gs(O,A)};a(Me(e)),d(!0),console.log(e)}else{var t={patient:C._id,ward:Gs(O,A)};a(Me(t)),d(!0),console.log(t)}};return Object(s.useEffect)((function(){u.loggedIn||t.push("/"),c.medicalHistory&&o&&(d(!1),a(Rt({message:"Patient admitted successfully",type:"info"}))),a(De())}),[a,c,g]),Object(x.jsxs)(b.a,{children:[Object(x.jsx)("p",{className:"m-3",children:"Check Whether Patient is Already Registered in the system"}),Object(x.jsxs)(p.a,{children:[Object(x.jsx)("div",{style:{width:"80%"},children:Object(x.jsx)(se.a,{id:"search-bar",style:{padding:"0 0 10px 0",color:"blue"},children:Object(x.jsx)(ne.a,{className:"textBox",placeholder:"search patient by using name or NIC...","aria-label":"searchPatient","aria-describedby":"basic-addon2",size:"lg",value:g,onChange:function(e){return y(e.target.value)}})})}),Object(x.jsx)("div",{style:{width:"15%",padding:"5px 10px"},children:Object(x.jsx)(ae.a,{className:"text-center",onClick:function(){return z()},children:"Search"})})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("input",{type:"checkbox",style:{width:"5%",marginTop:"5px",marginLeft:"50px"},onChange:function(e){var t=e.target.checked;T(t)}}),Object(x.jsx)(Ve.a.Label,{className:"form-label w-75",children:"IF Patient is kid add select in check box"})]}),q&&0!==q.length&&Object(x.jsxs)("div",{children:[1===q.length&&Object(x.jsxs)(D.a,{style:{backgroundColor:"#0cce39",color:"#000f05",opacity:"0.5",padding:"10px",width:"80%"},children:[C[0].nic.nicno," is already registered patient"]}),q.length>1&&Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"There are more than one patient registered under this NIC number, Please select correct one"}),Object(x.jsx)(D.a,{style:{backgroundColor:"#0cce39",color:"#000f05",opacity:"0.5",padding:"10px",width:"80%"},children:q.map((function(e){return Object(x.jsx)(ae.a,{className:"btn btn-light",style:{width:"80%",borderRadius:"0px"},onClick:function(){return S(e)},children:e.user.name.firstName+" "+e.user.name.lastName})}))})]}),Object(x.jsx)(Ve.a.Group,{className:"mt-2 w-25",children:Object(x.jsx)(Ve.a.Control,{onChange:function(e){"Select ward"!==e.target.value&&R(e.target.value)},as:"select",children:O.map((function(e,t){return Object(x.jsx)("option",{selected:0===t?"slected":null,children:"".concat(e.name)})}))})}),Object(x.jsxs)("p",{children:[A," is selected"]}),Object(x.jsx)(ae.a,{className:"text-center my-2",onClick:function(){return B()},children:"Admit Patient"})]}),C&&0===C.length&&Object(x.jsxs)("div",{children:[Object(x.jsx)(D.a,{style:{backgroundColor:"#fca8a4",color:"#b73333",opacity:"0.5",padding:"10px",width:"80%"},children:"Not Found please register patient"}),Object(x.jsx)(ae.a,{className:"text-center my-2",onClick:function(){return t.push("/hospital/addPatient")},children:"Register New Patient"})]})]})};function Bs(e,t){if("undefined"===typeof e||0===e.length)return"";var a=e.nic;return a?"nic"===t?a.nicno.toString():void 0:""}function Ms(e){var t=null;if("undefined"===typeof e||0===e.length)return t;var a=e.user.birthday.split("/")[0];return t=(new Date).getFullYear()-parseInt(a),console.log(t),t}function Gs(e,t){return e.filter((function(e){return e.name===t}))[0]._id}function Ws(e,t){if("undefined"===typeof e||0===e.length)return"";if("name"===t){var a=e.name;return a.firstName+" "+a.lastName}return"nic"===t?e.nic.nicno:"tel"===t?e.contactNumber:void 0}var Us=function(e){var t=e.history,a=Object(l.b)(),n=Object(l.c)((function(e){return e.auth})),c=Object(l.c)(Ra);console.log(c);var i=Object(l.c)(Ia),r=Object(s.useState)(c),o=Object(j.a)(r,2),d=o[0],u=o[1],h=Object(s.useState)(1),m=Object(j.a)(h,2),O=m[0],f=m[1],p=Object(s.useState)(c),v=Object(j.a)(p,2),g=v[0],y=v[1],N=Object(s.useState)(""),w=Object(j.a)(N,2),C=w[0],S=w[1],P=["select status","active","recovered","death"],I=Object(s.useState)(""),A=Object(j.a)(I,2),R=A[0],L=A[1],E=function(e){console.log(R),""===R||"select status"===R?alert("Please select valid status"):a(function(e,t){return function(a){return console.log(e,t),a(q({url:Ca+"pcr/".concat(e,"/changestatus"),method:"patch",data:{status:t},onSuccess:ga.type}))}}(e,R))};return Object(s.useEffect)((function(){n.loggedIn||t.push("/"),a(Pa());var e=function(e,t){if("undefined"===typeof e||0===e.length)return{};return e.filter((function(e){return Ws(e,"name").toLowerCase().includes(t)||function(e){var t=e.nic;if(t){return t.nicno.toString()}return""}(e).includes(t.toString())}))}(c,C);u(e),y(de(e,O,5))}),[a,C,c]),Object(x.jsxs)(x.Fragment,{children:[("undefined"===typeof c||0==c.length)&&i&&Object(x.jsx)(_,{}),Object(x.jsxs)(b.a,{children:[Object(x.jsx)("h3",{style:{textAlign:"center",marginBottom:"40px",fontWeight:"700"},children:"PCR DETAILS"}),Object(x.jsx)(ae.a,{className:"btn btn-success",style:{float:"right",padding:"10px"},onClick:function(){return t.push("/hospital/addPcrResults")},children:"+ add pcr result"}),Object(x.jsx)(se.a,{id:"search-bar",style:{padding:"0px 200px 20px 200px",color:"blue"},children:Object(x.jsx)(ne.a,{className:"textBox",placeholder:"search pcr by using name or NIC...","aria-label":"searchPatient","aria-describedby":"basic-addon2",size:"lg",value:C,onChange:function(e){return S(e.target.value)}})}),0===c.length?Object(x.jsx)("h1",{children:"No data"}):Object(x.jsxs)(ce.a,{striped:!0,bordered:!0,hover:!0,variant:"light",children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Name"}),Object(x.jsx)("th",{children:"NIC"}),Object(x.jsx)("th",{children:"Tel"}),Object(x.jsx)("th",{children:"Result"}),Object(x.jsx)("th",{children:"Status"}),Object(x.jsx)("th",{children:"Action"})]})}),Object(x.jsx)("tbody",{children:g.map((function(e){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:Ws(e,"name")}),Object(x.jsx)("td",{children:Ws(e,"nic")}),Object(x.jsx)("td",{children:e.contactNumber}),Object(x.jsx)("td",{children:e.result}),Object(x.jsxs)("td",{children:[Object(x.jsx)(Ve.a.Label,{children:e.status||"No status"}),Object(x.jsx)(Ve.a.Group,{children:Object(x.jsx)(Ve.a.Control,{onChange:function(e){L(e.target.value)},as:"select",children:P.map((function(e,t){return Object(x.jsx)("option",{selected:0===t?"slected":null,children:"".concat(e)})}))})})]}),Object(x.jsx)("td",{children:Object(x.jsx)(ae.a,{value:e._id,onClick:function(){return E(e._id)},className:"btn btn-primary",children:"Change"})})]})}))})]}),Object(x.jsx)(je,{itemsCount:d.length,pageSize:5,currentPage:O,onPageChange:function(e){f(e),y(de(d,e,5))}})]})]})};function Vs(e,t){if("undefined"===typeof e||0===e.length)return"";var a=e.user;if(!a)return"";if("name"===t){var s=a.name;return s.firstName+" "+s.lastName}if("age"===t){var n=a.birthday;return(new Date).getFullYear()-n.split("-")[0]}if("tel"===t)return a.contactNo;if("address"===t){var c=a.address;return c.city+","+c.line1+","+c.line2+","+c.province}}var $s=function(e){var t=e.history,a=Object(l.b)(),n=Object(l.c)((function(e){return e.auth})),c=Object(l.c)(qe);console.log(c);var i=Object(l.c)(He),r=Object(s.useState)(c),o=Object(j.a)(r,2),d=o[0],u=o[1],h=Object(s.useState)(1),m=Object(j.a)(h,2),O=m[0],f=m[1],p=Object(s.useState)(c),v=Object(j.a)(p,2),g=v[0],y=v[1],N=Object(s.useState)(""),w=Object(j.a)(N,2),C=w[0],S=w[1];return Object(s.useEffect)((function(){n.loggedIn||t.push("/"),a((function(e,t){var a=t().entities.patients.admittedPatientsLastFetch;if(!(W()().diff(W()(a),"minutes")<ke))return e(q({url:"/api/v1/patients/hospital/admitted",onStart:Pe.type,onSuccess:Ce.type,onError:Se.type}))}));var e=function(e,t){if("undefined"===typeof e||0===e.length)return{};return e.filter((function(e){return Vs(e,"name").toLowerCase().includes(t)||function(e){var t=e.nic;if(t){return t.nicno.toString()}return""}(e).includes(t.toString())}))}(c,C);u(e),y(de(e,O,5))}),[C]),Object(x.jsxs)(x.Fragment,{children:[("undefined"===typeof c||0==c.length)&&i&&Object(x.jsx)(_,{}),Object(x.jsxs)(b.a,{children:[Object(x.jsx)("h3",{style:{textAlign:"center",marginBottom:"40px",fontWeight:"700"},children:"ADMITTED PATIENTS"}),Object(x.jsx)(ae.a,{className:"btn btn-success",style:{float:"right",padding:"10px"},onClick:function(){return t.push("/hospital/admitPatient")},children:"+ admit patient"}),Object(x.jsx)(se.a,{id:"search-bar",style:{padding:"0px 200px 20px 200px",color:"blue"},children:Object(x.jsx)(ne.a,{className:"textBox",placeholder:"search patient by using name or NIC...","aria-label":"searchPatient","aria-describedby":"basic-addon2",size:"lg",value:C,onChange:function(e){return S(e.target.value)}})}),0===c.length?Object(x.jsx)("h1",{children:"No data"}):Object(x.jsxs)(ce.a,{striped:!0,bordered:!0,hover:!0,variant:"light",children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"Name"}),Object(x.jsx)("th",{children:"Age"}),Object(x.jsx)("th",{children:"Tel"}),Object(x.jsx)("th",{children:"Address"}),Object(x.jsx)("th",{children:"Action"})]})}),Object(x.jsx)("tbody",{children:g.map((function(e){return Object(x.jsxs)("tr",{children:[Object(x.jsx)("td",{children:Vs(e,"name")}),Object(x.jsx)("td",{children:Vs(e,"age")}),Object(x.jsx)("td",{children:Vs(e,"tel")}),Object(x.jsx)("td",{children:Vs(e,"address")}),Object(x.jsx)("td",{children:Object(x.jsx)(ae.a,{value:e._id,onClick:function(){return t.push("/hospital/Profile/".concat(e._id))},className:"btn btn-primary",children:"Profile"})})]})}))})]}),Object(x.jsx)(je,{itemsCount:d.length,pageSize:5,currentPage:O,onPageChange:function(e){f(e),y(de(d,e,5))}})]})]})},Xs=function(){var e=Object(l.b)(),t=Object(l.c)(Jt),a=Object(s.useState)(!1),n=Object(j.a)(a,2),c=n[0],i=n[1],r=Object(s.useState)({email:ra.c().required("email is required...").matches(/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/i,"Invalid Email. EX :- john@gmail.com")}),o=Object(j.a)(r,2),d=o[0],u=(o[1],Object(s.useState)({email:""})),h=Object(j.a)(u,2),m=h[0];h[1];return Object(s.useEffect)((function(){t.isEmailSent&&c&&(i(!1),e(Rt({message:"Email sent Successfully...",type:"info"})))}),[t]),Object(x.jsx)(b.a,{className:" formContainer mt-3",children:Object(x.jsx)(ia.a,{validationSchema:ra.a().shape(d),onSubmit:function(t){var a,s=t.email;e((a={email:s},function(e){return console.log(a),e(q({url:"/api/v1/users/forgotpassword",method:"post",data:a,onSuccess:Mt,onError:Gt}))})),i(!0)},initialValues:m,children:function(e){var t=e.handleSubmit,a=e.handleChange,s=(e.handleBlur,e.values),n=e.touched,c=(e.isValid,e.dirty,e.errors);return Object(x.jsxs)(Ve.a,{noValidate:!0,onSubmit:t,children:[Object(x.jsx)("h3",{style:{textAlign:"center",fontWeight:"700"},children:"FORGOT PASSWORD"}),Object(x.jsx)("div",{className:"vs-row top-content",style:{display:"flex",width:"100%"},children:Object(x.jsx)("div",{className:"vs-col vs-xs- vs-sm-12 vs-lg-6",style:{margin:"0%",width:"100%",position:"relative"},children:Object(x.jsx)("div",{className:"set-animation from-left animate",children:Object(x.jsxs)(Ve.a.Group,{controlId:"firstName",className:"m-2",style:{width:"100%"},children:[Object(x.jsx)(Ve.a.Label,{className:"form-label m-2",children:"Email"}),Object(x.jsx)(Ve.a.Control,{className:"textBox",type:"email",name:"email",value:s.email,onChange:a,placeholder:"Email",isValid:n.email&&!c.email,isInvalid:!!c.email,size:"lg",autoComplete:"disabled"}),Object(x.jsx)(ne.a.Feedback,{type:"invalid",children:c.email})]})})})}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("div",{class:"col-md-12 text-center",children:Object(x.jsx)(ae.a,{type:"submit",className:"mb-3",style:{float:"center"},children:"Submit"})})]})}})})},Zs=function(e){var t=e.match,a=Object(l.c)((function(e){return e.auth})),n=Object(l.b)(),c=t.params.token,i=Object(s.useState)(!1),r=Object(j.a)(i,2),o=r[0],d=r[1],u=Object(l.c)(Qt),h=Object(s.useState)({password:ra.c().required("password is required...").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{6,}$/,"Password should atleast be of 6 characters. Should include atleast one simple letter, capital letter, special character and number"),confirmPassword:ra.c().required("Please confirm your password").oneOf([Object(ra.b)("password")],"Passwords do not match")}),m=Object(j.a)(h,2),O=m[0],f=(m[1],Object(s.useState)({password:"",confirmPassword:""})),p=Object(j.a)(f,2),v=p[0];p[1];return Object(s.useEffect)((function(){u.isPasswordReset&&o&&(d(!1),n(Rt({message:"Password Reset Successfully...",type:"info"})),a.loggedIn?(n(Xa()),window.location="/signin"):window.location="/signin")}),[u]),Object(x.jsx)(b.a,{className:" formContainer mt-3",children:Object(x.jsx)(ia.a,{validationSchema:ra.a().shape(O),onSubmit:function(e){var t=e.password,a=e.confirmPassword;n(function(e,t){return function(a){return console.log(e),a(q({url:Vt+"users/resetpassword/".concat(t),method:"patch",data:e,onSuccess:Wt,onError:Ut}))}}({password:t,passwordConfirm:a},c)),d(!0)},initialValues:v,children:function(e){var t=e.handleSubmit,a=e.handleChange,s=(e.handleBlur,e.values),n=e.touched,c=(e.isValid,e.dirty,e.errors);return Object(x.jsxs)(Ve.a,{noValidate:!0,onSubmit:t,children:[Object(x.jsx)("h3",{style:{textAlign:"center",fontWeight:"700"},children:"ADD NEW PASSWORD"}),Object(x.jsxs)("div",{className:"vs-row top-content",style:{display:"flex",width:"100%"},children:[Object(x.jsx)("div",{className:"vs-col vs-xs- vs-sm-12 vs-lg-6",style:{margin:"0%",width:"100%",position:"relative"},children:Object(x.jsx)("div",{className:"set-animation from-left animate",children:Object(x.jsxs)(Ve.a.Group,{controlId:"password",className:"m-2",style:{width:"100%"},children:[Object(x.jsx)(Ve.a.Label,{className:"form-label m-2",children:"Password"}),Object(x.jsx)(Ve.a.Control,{className:"textBox",type:"password",name:"password",value:s.password,onChange:a,placeholder:"password",isValid:n.password&&!c.password,isInvalid:!!c.password,size:"lg",autoComplete:"disabled"}),Object(x.jsx)(ne.a.Feedback,{type:"invalid",children:c.password})]})})}),Object(x.jsx)("div",{className:"vs-col vs-xs- vs-sm-12 vs-lg-6",style:{margin:"0%",width:"100%",position:"relative"},children:Object(x.jsx)("div",{className:"set-animation from-left animate",children:Object(x.jsxs)(Ve.a.Group,{controlId:"confirmPassword",className:"m-2",style:{width:"100%"},children:[Object(x.jsx)(Ve.a.Label,{className:"form-label m-2",children:"Confirm Password"}),Object(x.jsx)(Ve.a.Control,{className:"textBox",type:"password",name:"confirmPassword",value:s.confirmPassword,onChange:a,placeholder:"confirm password",isValid:n.confirmPassword&&!c.confirmPassword,isInvalid:!!c.confirmPassword,size:"lg",autoComplete:"disabled"}),Object(x.jsx)(ne.a.Feedback,{type:"invalid",children:c.confirmPassword})]})})})]}),Object(x.jsx)("br",{}),Object(x.jsx)("br",{}),Object(x.jsx)("div",{class:"col-md-12 text-center",children:Object(x.jsx)(ae.a,{type:"submit",className:"mb-3",style:{float:"center"},children:"Submit"})})]})}})})},Ys=function(e){var t=e.match,a=Object(l.c)((function(e){return e.auth})),n=Object(l.b)(),c=(t.params.token,Object(s.useState)(!1)),i=Object(j.a)(c,2),r=i[0],o=i[1],d=Object(l.c)(Qt),u=Object(s.useState)({currentPassword:ra.c().required("current password is required..."),password:ra.c().required("password is required...").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{6,}$/,"Password should atleast be of 6 characters. Should include atleast one simple letter, capital letter, special character and number"),confirmPassword:ra.c().required("Please confirm your password").oneOf([Object(ra.b)("password")],"Passwords do not match")}),h=Object(j.a)(u,2),m=h[0],O=(h[1],Object(s.useState)({currentPassword:"",password:"",confirmPassword:""})),f=Object(j.a)(O,2),p=f[0];f[1];return Object(s.useEffect)((function(){d.isPasswordReset&&r&&(o(!1),n(Rt({message:"Password Reset Successfully...",type:"info"})),a.loggedIn?(n(Xa()),window.location="/signin"):window.location="/signin")}),[d]),Object(x.jsx)(b.a,{className:" formContainer mt-3",children:Object(x.jsx)(ia.a,{validationSchema:ra.a().shape(m),onSubmit:function(e){var t,a=e.currentPassword,s=e.password,c=e.confirmPassword;n((t={passwordCurrent:a,password:s,passwordConfirm:c},function(e){return console.log(t),e(q({url:"/api/v1/users/updatepassword",method:"patch",data:t,onSuccess:Wt,onError:Ut}))})),o(!0)},initialValues:p,children:function(e){var t=e.handleSubmit,a=e.handleChange,s=(e.handleBlur,e.values),n=e.touched,c=(e.isValid,e.dirty,e.errors);return Object(x.jsxs)(Ve.a,{noValidate:!0,onSubmit:t,children:[Object(x.jsx)("h3",{style:{textAlign:"center",fontWeight:"700"},children:"CHANGE PASSWORD"}),Object(x.jsxs)("div",{className:"vs-row top-content",style:{display:"flex",width:"100%"},children:[Object(x.jsx)("div",{className:"vs-col vs-xs- vs-sm-12 vs-lg-12",style:{margin:"0%",width:"100%",position:"relative"},children:Object(x.jsx)("div",{className:"set-animation from-left animate",children:Object(x.jsxs)(Ve.a.Group,{controlId:"currentpassword",className:"m-2",style:{width:"100%"},children:[Object(x.jsx)(Ve.a.Label,{className:"form-label m-2",children:"Current Password"}),Object(x.jsx)(Ve.a.Control,{className:"textBox",type:"password",name:"currentPassword",value:s.currentPassword,onChange:a,placeholder:"current password",isValid:n.currentPassword&&!c.currentPassword,isInvalid:!!c.currentPassword,size:"lg",autoComplete:"disabled"}),Object(x.jsx)(ne.a.Feedback,{type:"invalid",children:c.currentPassword})]})})}),Object(x.jsx)("div",{className:"vs-col vs-xs- vs-sm-12 vs-lg-12",style:{margin:"0%",width:"100%",position:"relative"},children:Object(x.jsx)("div",{className:"set-animation from-left animate",children:Object(x.jsxs)(Ve.a.Group,{controlId:"password",className:"m-2",style:{width:"100%"},children:[Object(x.jsx)(Ve.a.Label,{className:"form-label m-2",children:"Password"}),Object(x.jsx)(Ve.a.Control,{className:"textBox",type:"password",name:"password",value:s.password,onChange:a,placeholder:"password",isValid:n.password&&!c.password,isInvalid:!!c.password,size:"lg",autoComplete:"disabled"}),Object(x.jsx)(ne.a.Feedback,{type:"invalid",children:c.password})]})})})]}),Object(x.jsx)("div",{className:"vs-col vs-xs- vs-sm-12 vs-lg-12",style:{margin:"0%",width:"100%",position:"relative"},children:Object(x.jsx)("div",{className:"vs-row top-content",style:{display:"flex",width:"100%"},children:Object(x.jsx)("div",{className:"set-animation from-left animate",children:Object(x.jsxs)(Ve.a.Group,{controlId:"confirmPassword",className:"m-2",style:{width:"100%"},children:[Object(x.jsx)(Ve.a.Label,{className:"form-label m-2",children:"Confirm Password"}),Object(x.jsx)(Ve.a.Control,{className:"textBox",type:"password",name:"confirmPassword",value:s.confirmPassword,onChange:a,placeholder:"confirm password",isValid:n.confirmPassword&&!c.confirmPassword,isInvalid:!!c.confirmPassword,size:"lg",autoComplete:"disabled"}),Object(x.jsx)(ne.a.Feedback,{type:"invalid",children:c.confirmPassword})]})})})}),Object(x.jsx)("div",{className:"vs-row top-content",style:{display:"flex",width:"100%"},children:Object(x.jsx)("div",{class:"col-md-12 text-center",children:Object(x.jsx)(ae.a,{type:"submit",className:"mb-3",style:{float:"center"},children:"Submit"})})})]})}})})},Ks=function(){var e=Object(o.l)(),t=e.state.pcr;return console.log(e.state.pcr),Object(x.jsx)(b.a,{className:" formContainer mt-3",children:t.length>0?Object(x.jsx)("div",{className:"vs-row top-content",style:{display:"flex",width:"100%"},children:t.map((function(e){return Object(x.jsx)("div",{className:"vs-col vs-xs- vs-sm-12 vs-lg-6",style:{margin:"0%",width:"100%",position:"relative"},children:Object(x.jsx)("div",{className:"set-animation from-left animate",children:Object(x.jsx)(D.a,{className:"m-2",bg:"#ffffff",text:"black",style:{width:"100%"},children:Object(x.jsxs)("ul",{className:"profile-info-list mt-2",children:[Object(x.jsx)("li",{className:"title ",children:"PCR Test"}),Object(x.jsxs)("li",{children:[Object(x.jsx)("div",{className:"field",children:"Name:"}),Object(x.jsx)("div",{className:"value",children:e.name.firstName+" "+e.name.lastName})]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("div",{className:"field",children:"Contact Number:"}),Object(x.jsx)("div",{className:"value",children:e.contactNumber})]}),Object(x.jsxs)("li",{children:[Object(x.jsx)("div",{className:"field",children:"Result:"}),Object(x.jsx)("div",{className:"value",children:e.result})]})]})})})})}))}):Object(x.jsx)("h1",{children:"No Data"})})},Js=function(){return Object(x.jsxs)(r.BrowserRouter,{children:[Object(x.jsx)(f,{}),Object(x.jsxs)("main",{className:"py-3",children:[Object(x.jsx)(d.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(x.jsxs)("switch",{children:[Object(x.jsx)(o.d,{path:"/signin",component:gs}),Object(x.jsx)(o.d,{path:"/hospital/dashboard",component:te}),Object(x.jsx)(o.d,{path:"/hospital/patients",component:Ue}),Object(x.jsx)(o.d,{path:"/hospital/patientProfile/:id",component:vt}),Object(x.jsx)(o.d,{path:"/healthMinistry/dashboard",component:At}),Object(x.jsx)(o.d,{path:"/healthMinistry/confirmData",component:Hs}),Object(x.jsx)(o.d,{path:"/healthMinistry/addHospital",component:Et}),Object(x.jsx)(o.d,{path:"/healthMinistry/addHospitalAdmin/:id",component:ea}),Object(x.jsx)(o.d,{path:"/hospital/addHospitalStaff",component:aa}),Object(x.jsx)(o.d,{path:"/hospital/addPatient",component:ta}),Object(x.jsx)(o.d,{path:"/hospital/editCurrentDetails/:id",component:la}),Object(x.jsx)(o.d,{path:"/hospital/acceptanceWaiting",component:da}),Object(x.jsx)(o.d,{path:"/hospital/addPcrResults",component:Da}),Object(x.jsx)(o.d,{path:"/hospital/editProfile/:id",component:Ya}),Object(x.jsx)(o.d,{path:"/hospital/profile/:id",component:is}),Object(x.jsx)(o.d,{path:"/hospital/aprovePcrResults",component:ds}),Object(x.jsx)(o.d,{path:"/hospital/admitPatient",component:zs}),Object(x.jsx)(o.d,{path:"/logout",component:ys}),Object(x.jsx)(o.d,{path:"/",component:X,exact:!0}),Object(x.jsx)(o.d,{path:"/hospital/wards/:id",component:xs}),Object(x.jsx)(o.d,{path:"/hospital/addWard",component:hs}),Object(x.jsx)(o.d,{path:"/hospital/wards",component:vs}),Object(x.jsx)(o.d,{path:"/healthMinistry/hospital",component:Ts}),Object(x.jsx)(o.d,{path:"/hospital/staffs",component:qs}),Object(x.jsx)(o.d,{path:"/hospital/searchPCR",component:Us}),Object(x.jsx)(o.d,{path:"/hospital/admittedPatients",component:$s}),Object(x.jsx)(o.d,{path:"/forgotPassword",component:Xs}),Object(x.jsx)(o.d,{path:"/resetpassword/:token",component:Zs}),Object(x.jsx)(o.d,{path:"/resetpasswordloggedin",component:Ys}),Object(x.jsx)(o.d,{path:"/hospital/PcrView",component:Ks})]})]}),Object(x.jsx)(g,{})]})},Qs=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,553)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),s(e),n(e),c(e),i(e)}))},en=a(51),tn=Object(en.b)({patients:be,pcr:ua,hospital:Xe,user:Dt,dashboard:V}),an=Object(en.b)({entities:tn,auth:_a}),sn=function(e){return function(e){return function(t){if(t.type!==Rt.type)return e(t);d.b[t.payload.type](t.payload.message)}}},nn=function(e){var t=e.dispatch;return function(e){return function(){var a=Object(w.a)(N.a.mark((function a(s){var n,c,i,r,l,o,d,j,u,b,h;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(S.a.defaults.withCredentials=!0,s.type===q.type){a.next=3;break}return a.abrupt("return",e(s));case 3:return n=s.payload,c=n.url,i=n.method,r=n.data,l=n.config,o=n.onStart,d=n.onSuccess,j=n.onError,o&&t({type:o}),e(s),a.prev=6,a.next=9,S.a.request({baseURL:M.API_URL,url:c,method:i,data:r,config:l});case 9:u=a.sent,t(H(u.data)),d&&t({type:d,payload:u.data}),a.next=21;break;case 14:a.prev=14,a.t0=a.catch(6),b=a.t0.response,h=b?b.data.message:a.t0.message,t(z({message:h})),t(Rt({message:h,type:"error"})),j&&t({type:j,payload:h});case 21:case"end":return a.stop()}}),a,null,[[6,14]])})));return function(e){return a.apply(this,arguments)}}()}},cn=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}},rn=Object(F.a)({reducer:an,middleware:[].concat(Object(ca.a)(Object(F.d)()),[sn,nn]),preloadedState:cn()});rn.subscribe((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(a){}}({auth:rn.getState().auth,entities:{patients:rn.getState().entities.patients,pcr:rn.getState().entities.pcr,hospital:rn.getState().entities.hospital,dashboard:rn.getState().entities.dashboard}})})),i.a.render(Object(x.jsx)(r.BrowserRouter,{children:Object(x.jsx)(l.a,{store:rn,children:Object(x.jsx)(Js,{})})}),document.getElementById("root")),Qs()},56:function(e){e.exports=JSON.parse('{"API_URL":"http://localhost:8000","REFRESH_TIME":1}')}},[[447,1,2]]]);
//# sourceMappingURL=main.1554df4e.chunk.js.map