{"version":3,"sources":["components/Header.jsx","components/Footer.jsx","components/LineGraph.jsx","components/common/FigureOne.jsx","components/common/FigureTwo.jsx","components/Loader.jsx","store/apiActions.js","store/entities/dashboard.js","screens/HomeScreen.jsx","components/hospitalComponents/FigureOne.jsx","components/hospitalComponents/FigureTwo.jsx","components/PieChart.jsx","components/BarChart.jsx","screens/hospital/Dashboard.jsx","components/common/CommonListGroup.jsx","utils/paginate.js","components/Pagination.jsx","store/entities/patients.js","screens/hospital/Patients.jsx","store/entities/hospitals.js","components/patientProfile/PersonalInfo.jsx","components/patientProfile/CurrentInfo.jsx","components/patientProfile/History.jsx","screens/hospital/PatientProfile.jsx","components/healthMinistryComponents/FigureOne.jsx","components/healthMinistryComponents/FigureTwo.jsx","components/HorizontalBarChart.jsx","screens/healthMinistry/AdminDashBoard.jsx","store/toastActions.js","screens/healthMinistry/AddHospital.jsx","store/entities/users.js","screens/healthMinistry/AddHospitalAdmin.jsx","screens/hospital/AddPatient.jsx","screens/hospital/staffs/AddHospitalStaff.jsx","screens/hospital/EditCurrentDetails.jsx","screens/hospital/AcceptanceWaiting.jsx","store/entities/pcr.js","screens/hospital/AddPcrResults.jsx","store/auth.js","screens/hospital/EditProfile.jsx","components/popUp/PopUp.jsx","components/patientProfile/Actions.jsx","components/dialog/Dialog.jsx","screens/hospital/Profile.jsx","screens/hospital/AprovePcrResults.jsx","screens/hospital/wards/AddWard.jsx","http-common.jsx","services/WardService.jsx","screens/hospital/wards/Ward.jsx","screens/hospital/wards/WardsList.jsx","screens/SigninScreen.jsx","components/Logout.jsx","screens/healthMinistry/Hospitals.jsx","screens/hospital/staffs/StaffsList.jsx","screens/healthMinistry/ConfirmData.jsx","screens/hospital/AdmitPatient.jsx","screens/hospital/SerchPCR.jsx","screens/hospital/AdmittedPatients.jsx","screens/ForgotPassword.jsx","screens/ResetPassword.jsx","screens/resetPasswordLoggedIn.jsx","screens/hospital/PcrView.jsx","App.js","reportWebVitals.js","store/entities/entities.js","store/reducer.js","store/middleware/toast.js","store/middleware/api.js","store/localStorage.js","index.js","store/configureStore.js"],"names":["Header","userDetails","useSelector","state","auth","token","loggedIn","user","data","console","log","useState","userType","setUsertype","useEffect","role","Navbar","className","Container","Brand","class","Toggle","Collapse","id","Nav","to","Link","Dropdown","Menu","Item","Footer","Row","Col","LineGraph","myProp1","myProp2","myProp3","series","name","myProp4","options","dataLabels","enabled","stroke","curve","xaxis","type","categories","tooltip","x","format","colors","style","backgroundColor","textAlign","height","FigureOne","details","justifyContent","margin","display","fontSize","color","formatNumber","inputNumber","formetedNumber","Number","toFixed","replace","splitArray","split","length","FigureTwo","Loader","Spinner","animation","width","marginTop","apiCallBegan","createAction","apiCallSuccess","apiCallFailed","slice","createSlice","initialState","list","loading","lastFetch","reducers","actions","HomeScreen","publicDashboardRequested","publicDashboardSuccess","publicDashboardFailed","healthMinistryDashboardRequested","healthMinistryDashboardSuccess","healthMinistryDashboardFailed","hospitalDashboardRequested","hospitalDashboardSuccess","hospitalDashboardFailed","configData","REFRESH_TIME","createSelector","entities","hospitalloading","dashboard","dispatch","useDispatch","getData","a","axios","request","url","method","response","overall","setOverall","dates","setDates","cases","setCases","deaths","setDeaths","recovered","setRecovered","setLoading","fetchOverall","get","fetchGraph","data2","Object","keys","values","position","Card","overallData","recoveredData","deathData","float","activeData","staffData","transferedData","PieChart","labels","legend","BarGraph","Dashboard","figureOne","setFigureOne","figureTwo","setFigureTwo","test","active","death","date","valuesSet_2","BarChart","CommonListGroup","defaultSelected","selected","onSelect","ListGroup","horizontal","onClick","action","map","l","paginate","items","pageNumber","pageSize","startIndex","_","take","value","Pagination","itemsCount","currentPage","onPageChange","pagesCount","Math","ceil","pages","range","page","admittedPatients","waiting","waitingLoading","waitingLAstFetch","admittedPatientsLoading","admittedPatientsLastFetch","patientAdded","medicalHistory","patientsRegisterRequested","patients","registerSuccessful","registering","patientsRegisterRequestFailed","patientsRegisterRequestSucceeded","push","payload","patientsRequested","patientsRequestFailed","patientsReceived","Date","now","admittedPatientsRequested","admittedPatientsRequestFailed","admittedPatientsReceived","waitingPatientsRequested","waitingPatientsRequestFailed","waitingPatientsReceived","patientSymptomsUpdated","patient","_id","patientIndex","findIndex","p","histories","historyIndex","symptoms","patientDrugsUpdated","drugDetails","patientTransferUpdated","patientUpdated","patientId","index","c","patientAdmitRequest","patientAdmitFailed","patientAdmitSuccess","selectedPatientTransferUpdated","patientDischarged","patientChangeWard","addmittedIndex","histories2","historyIndex2","patientURL","refreshTime","loadPatients","getState","moment","diff","onStart","onSuccess","onError","getAllWaitingPatients","getAllPatients","getPatientsLoadingStatus","getAllAdmittedPatients","getAdmittedPatientsLoadingStatus","getPatientAdmitState","updateTransferPatient","hospital","admitPatient","getFilteredPatients","filter","currentMedicalHistory","objectDestructure","firstName","lastName","birthday","getFullYear","contactNo","address","city","line1","line2","province","Patients","history","patientsLoading","passedCategory","useLocation","category","AllCategories","selectedCategory","setSelectedCategory","filtered","setFiltered","setCurrentPage","paginated","setPaginated","searchKeyword","setSearchKeyword","updatedFiltered","filterBy","toLowerCase","includes","nic","nicno","toString","getNic","getFilteredSearchedPatients","marginBottom","fontWeight","Button","padding","InputGroup","FormControl","placeholder","size","onChange","e","target","Table","striped","bordered","hover","variant","hospitalAdded","wardAdded","hospitalCreateRequested","hospitalCreateRequestFailed","hospitalCreateRequestSucceeded","newHospital","wardCreateRequested","wardCreateRequestFailed","wardCreateRequestSucceeded","hospitalRequested","hospitalRequestFailed","hospitalReceived","hospitals","hospitalUpdated","wardUpdated","wardId","wardDelete","hospitalURL","loadHospitals","getHospitalLoadingStatus","getHospitalAddedStatus","getAllHospitals","PersonalInfo","currentHospital","userHospital","bg","text","window","location","district","CurrentInfo","wards","pcr","overflow","overflowX","getHospitalName","admittedDate","getCurrentWardName","ward","description","q","dischargeDate","changed","hospitalId","History","patientHistory","filteredHistory","PatientProfile","match","params","setPatients","startDate","setStartDate","endDate","setEndDate","setFilteredHistory","changeHistory","findHistory","setfindHistory","searchHistory","medicalHistories","start_date","end_date","getMedicalHistories","fetchPatient","marginLeft","marginRight","Form","Group","as","controlId","Label","Control","required","Feedback","opacity","disabled","minHeight","border","borderRadius","filteredhistory","totalActiveCases","totalDeaths","totalRecovered","nohospital","totalBeds","freeBeds","HorizontalBarGraph","districts","getTopTen","positiveCases","plotOptions","bar","chart","setChart","setDistrict","districtValues","setDistrictValues","firstValue","secondValue","HorizontalBarChart","toastAction","AddHospital","props","hospitalAddedStatus","setName","contact","setContact","setCity","setProvince","userState","setUserState","message","href","Box","sx","bgcolor","onSubmit","preventDefault","Contact","validateName","alert","validateContact","validateCity","addHospital","sm","userAdded","isEmailSent","isPasswordReset","userCreateRequested","userCreateRequestFailed","userCreateRequestSucceeded","userRequested","userRequestFailed","userReceived","users","sendMAilSuccess","sendMailFailed","resetPasswordSuccess","status","resetPasswordFailed","userURL","addUser","getUserLoadingStatus","userloading","getUserAddedStatus","getAllUsers","getEmailSentState","getPasswordResetState","AddHospitalAdmin","current","toISOString","userAddedStatus","setFirstName","setLastName","email","setEmail","setBirthday","setLine1","setLine2","password","setPassword","passwordConfirm","setPasswordConfirm","fluid","parseInt","pathname","validateFirstName","validateLastName","validateEmail","validatePassword","max","AddPatient","setNicno","person","regex","regex2","validateNIC","AddHospitalStaff","requiredg","EditCurrentDetails","medicalHistoryId","symptom0","Yup","drug0","schema","setSchema","initialValues","setInitialValues","setSymptoms","drugs","setDrugs","formElements","updateSymptoms","setUpdateSymptoms","UpdateSymptoms","sym","i","v","updateDrugs","setUpdateDrugs","UpdateDrugs","updateSymptom","symList","updateSymptomsInDB","updateDrug","drugList","updateDrugsInDB","validationSchema","shape","handleSubmit","handleChange","handleBlur","touched","errors","isValid","dirty","noValidate","va","updated","newSymptoms","isInvalid","newSymptom","newSchema","newInitialValues","handleSymptomsAdded","splice","handleSymptomsDeleted","newDrugs","newDrug","handleDrugsAdded","handleDrugsDeleted","AcceptanceWaiting","useHistory","setUserType","patientsList","patientState","setPatientState","setSelected","allSelected","setAllSelected","select","age","Aproval","decision","transferDetails","transferState","AproveSelected","dicision","selectedPatients","check","checked","selectedList","handleSelected","goBack","toConfirm","toConfirmLoading","toConfirmLastFetch","pcrAdded","pcrCreateRequested","pcrCreateRequestFailed","pcrCreateRequestSucceeded","pcrRequested","pcrRequestFailed","pcrReceived","tests","pcrStatusChange","result","toConfirmPcrRequested","toConfirmPcrRequestFailed","toConfirmPcrReceived","pcrAprovalUpdated","ids","pcrURL","loadPcrs","getPcrLoadingStatus","getPcrAddedStatus","getAllPcrs","getToConfirmPcrLoadingStatus","getToConfirmPcrs","updatePcrAproval","AddPcrResults","pcrState","setPcrState","matches","selectedResult","setSelectedResult","first_name","last_name","Tel_number","NIC_number","birth_year","min","NIClength","SetNIClength","year","Result","contactNumber","birthYear","autoComplete","maxLength","minLength","logging","userLoginRequested","userLoginFailed","error","userLoginSucceeded","userLoggedOut","authDataUpdated","admin","newWardList","userUpdated","logout","getLoggedInStatus","userData","EditProfile","currentDistrict","birthDay","dateFormat","districtId","districtList","getDistrict","patientDistrict","updateUser","Actions","popUpHandler","currentWardId","currentHospitalId","tranferSt","hospitalName","setTransferHospital","wardName","setWardName","transferPatient","TransferState","getHospitalId","hospitalUpdate","changeWard","getWardId","wardUpdate","borderColor","AlertDialog","dialogSet","closePopUp","dischargeHandler","Dialog","open","onClose","DialogTitle","DialogContent","DialogActions","Profile","wardsDetails","userHospital_id","getPatientById","currentHospital_id","getCurrentHospitalId","popup","setPopUp","pcrTest","getWardName","AprovePcrResults","pcrList","getOnlyIds","telephone","updateAprove","AddWard","setTotalBeds","setAdmittedPatients","setEmptyBeds","maxWidth","addWard","create","baseURL","headers","WardService","getAll","http","post","update","put","remove","delete","removeAll","findByTitle","ward_name","Ward","total_beds","currentWard","setCurrentWard","setMessage","WardDataService","then","catch","handleInputChange","event","htmlFor","WardsList","wardAddState","setWardAddState","wardUpdateState","setWardUpdateState","wardDeleteState","setWardDeleteState","service","pagination","activePage","itemsPerPage","start","end","Array","from","Promise","resolve","updateCurrentWard","wardDetails","updateWard","addNewWard","caption","fetchItems","label","Name","trigger","submitText","validate","title","deleteCurrentWard","fetchTotalOfItems","SigninScreen","login","Logout","useStyles","makeStyles","table","minWidth","Hospitals","React","setPage","rowsPerPage","setRowsPerPage","searchKey","setSearchKey","classes","Paper","TableContainer","maxHeight","AddCircleOutline","TextField","TableHead","TableRow","TableCell","align","TableBody","row","TablePagination","rowsPerPageOptions","component","count","newPage","onRowsPerPageChange","StaffList","setData","DeleteOutline","onclick","staff_id","item","ConfirmData","hospitalsLoading","hospitalState","setHospitalState","hospitalDetail","newCases","recover","AdmitPatient","patientAdmitSate","submitState","setSubmitSate","patientName","setPatientName","setWard","isKid","setIsKid","selectedPatient","serachPatient","filteredPatient","getAge","patientDetails","onlyYear","SearchPCR","pcrLoading","patientStatus","setStatus","changePatientStatus","changeStatus","updatedSearchFiltered","AdmittedPatients","ForgotPassword","emailSentState","setSubmitState","ResetPassword","resetPasswordState","confirmPassword","oneOf","ref","resetPassword","ResetPasswordLoggedIn","currentPassword","passwordCurrent","PcrView","App","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","path","Patient","AdminDashboard","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","combineReducers","patientReducer","pcrReducer","hospitalReducer","userReducer","dashboardReducer","entitiesReducer","authReducer","toastGenerator","store","next","toast","api","defaults","withCredentials","config","API_URL","loadState","serializedState","localStorage","getItem","JSON","parse","err","configureStore","reducer","middleware","getDefaultMiddleware","preloadedState","subscribe","stringify","setItem","saveState","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1554df4e.chunk.js","sourcesContent":["import React, {useEffect, useState} from 'react'\r\nimport { Navbar, Nav, Container, NavDropdown, Dropdown} from 'react-bootstrap'\r\nimport { LinkContainer,Link } from 'react-router-bootstrap';\r\nimport {  useSelector } from 'react-redux';\r\n\r\nfunction Header() {\r\n    const userDetails = useSelector(state => state.auth);\r\n    const usertoken = userDetails.token\r\n    let auth = \"\";\r\n    if(userDetails.loggedIn){\r\n        const { user } = userDetails.data.user\r\n        auth = user\r\n    }\r\n\r\n    console.log(userDetails)\r\n    const [userType, setUsertype] = useState('');\r\n\r\n    useEffect(() => {\r\n        if(userDetails.loggedIn){\r\n            setUsertype(auth.role)\r\n        }\r\n    },[userType]);\r\n\r\n    return (\r\n        <header>\r\n            <Navbar className=\"back\" >\r\n                <Container className='headerContainer'>\r\n                    <Navbar.Brand><h2 class=\"sitename\">Covid-19 Patient Tracker</h2></Navbar.Brand>\r\n                    <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n                    <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                    <Nav className=\"ml-auto\">\r\n                        \r\n                        {!userDetails.loggedIn && <LinkContainer to = '/signin'>\r\n                            <Nav.Link className = 'navbar-item'><span>Login</span></Nav.Link>\r\n                        </LinkContainer>}\r\n\r\n                        {userDetails.loggedIn && <LinkContainer to = '/logout'>\r\n                            <Nav.Link className = 'navbar-item'><span>Log Out</span></Nav.Link>\r\n                        </LinkContainer>}\r\n\r\n                        {userDetails.loggedIn && userType === 'patient' && <LinkContainer to = '/hospital/patientProfile'>\r\n                            <Nav.Link className = 'navbar-item'><span>Profile</span></Nav.Link>\r\n                        </LinkContainer>}\r\n\r\n                        {userDetails.loggedIn && userType === 'patient' && <LinkContainer to = {'/resetpasswordloggedin'}>\r\n                            <Nav.Link className = 'navbar-item'><span>Reset Password</span></Nav.Link>\r\n                        </LinkContainer>}\r\n\r\n                        \r\n                        {userDetails.loggedIn && userType === 'hospitalAdmin' && <Dropdown className=\"my-2 dropdown\">\r\n                        {/* {auth.loggedIn &&  <Dropdown className=\"my-2 dropdown\"> */}\r\n                        <Dropdown.Toggle   className='dropdown-toogle'>Hospital Admin</Dropdown.Toggle>\r\n\r\n                        <Dropdown.Menu  className='dropdown-menu'>\r\n                            <Dropdown.Item  ><LinkContainer className=\"dropdown-item\" to = '/hospital/dashboard'>\r\n                                    <Nav.Link ><span>Dashboard</span></Nav.Link>\r\n                            </LinkContainer></Dropdown.Item>\r\n\r\n                            <Dropdown.Item  ><LinkContainer className=\"dropdown-item\" to = {'/resetpasswordloggedin'}>\r\n                                    <Nav.Link ><span>Reset Password</span></Nav.Link>\r\n                            </LinkContainer></Dropdown.Item>\r\n\r\n                            <Dropdown.Item  ><LinkContainer className=\"dropdown-item\" to = '/hospital/admittedPatients'>\r\n                                    <Nav.Link ><span>Admitted Patients</span></Nav.Link>\r\n                            </LinkContainer></Dropdown.Item>\r\n\r\n                            <Dropdown.Item  ><LinkContainer className=\"dropdown-item\" to = '/hospital/patients'>\r\n                                    <Nav.Link ><span>Patients</span></Nav.Link>\r\n                            </LinkContainer></Dropdown.Item>\r\n\r\n                            <Dropdown.Item  ><LinkContainer className=\"dropdown-item\" to = '/hospital/addPcrResults'>\r\n                                    <Nav.Link ><span>Add PCR Results</span></Nav.Link>\r\n                            </LinkContainer></Dropdown.Item>\r\n\r\n                            <Dropdown.Item  ><LinkContainer className=\"dropdown-item\" to = '/hospital/aprovePcrResults'>\r\n                                    <Nav.Link ><span>Aprove PCR Results</span></Nav.Link>\r\n                            </LinkContainer></Dropdown.Item>\r\n\r\n                            <Dropdown.Item  ><LinkContainer className=\"dropdown-item\" to = '/hospital/searchPCR'>\r\n                                    <Nav.Link ><span>Search PCR</span></Nav.Link>\r\n                            </LinkContainer></Dropdown.Item>\r\n                            \r\n                            <Dropdown.Item  ><LinkContainer className=\"dropdown-item\" to = '/hospital/acceptanceWaiting'>\r\n                                    <Nav.Link ><span>Acceptance Waiting</span></Nav.Link>\r\n                            </LinkContainer></Dropdown.Item>\r\n\r\n                            <Dropdown.Item  ><LinkContainer className=\"dropdown-item\" to = '/hospital/wards'>\r\n                                    <Nav.Link ><span>Wards</span></Nav.Link>\r\n                            </LinkContainer></Dropdown.Item>\r\n\r\n                            <Dropdown.Item  ><LinkContainer className=\"dropdown-item\" to = '/hospital/addHospitalStaff'>\r\n                                    <Nav.Link ><span>Add Staffs</span></Nav.Link>\r\n                            </LinkContainer></Dropdown.Item>\r\n\r\n\r\n                        </Dropdown.Menu>\r\n                        </Dropdown>}\r\n\r\n                        {userDetails.loggedIn && userType === 'hospital user' && <Dropdown className=\"my-2 dropdown\">\r\n                        {/* {auth.loggedIn &&  <Dropdown className=\"my-2 dropdown\"> */}\r\n                        <Dropdown.Toggle   className='dropdown-toogle'>Hospital Staff</Dropdown.Toggle>\r\n\r\n                        <Dropdown.Menu  className='dropdown-menu'>\r\n                            <Dropdown.Item  ><LinkContainer className=\"dropdown-item\" to = '/hospital/patients'>\r\n                                    <Nav.Link ><span>Patients</span></Nav.Link>\r\n                            </LinkContainer></Dropdown.Item>\r\n\r\n                            <Dropdown.Item  ><LinkContainer className=\"dropdown-item\" to = {'/resetpasswordloggedin'}>\r\n                                    <Nav.Link ><span>Reset Password</span></Nav.Link>\r\n                            </LinkContainer></Dropdown.Item>\r\n                        \r\n\r\n                            <Dropdown.Item  ><LinkContainer className=\"dropdown-item\" to = '/hospital/addPcrResults'>\r\n                                    <Nav.Link ><span>Add PCR Results</span></Nav.Link>\r\n                            </LinkContainer></Dropdown.Item>\r\n\r\n                            <Dropdown.Item  ><LinkContainer className=\"dropdown-item\" to = '/hospital/searchPCR'>\r\n                                    <Nav.Link ><span>Search PCR</span></Nav.Link>\r\n                            </LinkContainer></Dropdown.Item>\r\n\r\n                            {/* <Dropdown.Item  ><LinkContainer className=\"dropdown-item\" to = '/hospital/wards'>\r\n                                    <Nav.Link ><span>Wards</span></Nav.Link>\r\n                            </LinkContainer></Dropdown.Item> */}\r\n{/* \r\n                            <Dropdown.Item  ><LinkContainer className=\"dropdown-item\" to = '/healthMinistry/hospital'>\r\n                                    <Nav.Link ><span>Hospitals</span></Nav.Link>\r\n                            </LinkContainer></Dropdown.Item> */}\r\n\r\n                            {/* <Dropdown.Item  ><LinkContainer className=\"dropdown-item\" to = '/hospital/staffs'>\r\n                                    <Nav.Link ><span>Staffs</span></Nav.Link>\r\n                            </LinkContainer></Dropdown.Item> */}\r\n\r\n\r\n                        </Dropdown.Menu>\r\n                        </Dropdown>}\r\n\r\n                        {userDetails.loggedIn && userType === 'admin' && <Dropdown className=\"my-2 dropdown\">\r\n                        {/* {auth.loggedIn &&  <Dropdown className=\"my-2 dropdown\"> */}\r\n                        <Dropdown.Toggle   className='dropdown-toogle'>Admin</Dropdown.Toggle>\r\n\r\n                        <Dropdown.Menu  className='dropdown-menu'>\r\n                            {/* <Dropdown.Item  ><LinkContainer className=\"dropdown-item\" to = '/hospital/patients'>\r\n                                    <Nav.Link ><span>Patients</span></Nav.Link>\r\n                            </LinkContainer></Dropdown.Item>\r\n                            \r\n                            <Dropdown.Item  ><LinkContainer className=\"dropdown-item\" to = '/hospital/acceptanceWaiting'>\r\n                                    <Nav.Link ><span>Acceptance Waiting</span></Nav.Link>\r\n                            </LinkContainer></Dropdown.Item>\r\n\r\n                            <Dropdown.Item  ><LinkContainer className=\"dropdown-item\" to = '/hospital/addPcrResults'>\r\n                                    <Nav.Link ><span>Add PCR Results</span></Nav.Link>\r\n                            </LinkContainer></Dropdown.Item>\r\n\r\n                            <Dropdown.Item  ><LinkContainer className=\"dropdown-item\" to = '/hospital/aprovePcrResults'>\r\n                                    <Nav.Link ><span>Aprove PCR Results</span></Nav.Link>\r\n                            </LinkContainer></Dropdown.Item> */}\r\n\r\n                            \r\n                        <Dropdown.Item  ><LinkContainer className=\"dropdown-item\" to = '/healthMinistry/dashboard'>\r\n                                    <Nav.Link ><span>Dasboard</span></Nav.Link>\r\n                            </LinkContainer></Dropdown.Item>\r\n\r\n                            <Dropdown.Item  ><LinkContainer className=\"dropdown-item\" to = {'/resetpasswordloggedin'}>\r\n                                    <Nav.Link ><span>Reset Password</span></Nav.Link>\r\n                            </LinkContainer></Dropdown.Item>\r\n\r\n                            <Dropdown.Item  ><LinkContainer className=\"dropdown-item\" to = '/healthMinistry/hospital'>\r\n                                    <Nav.Link ><span>Hospitals</span></Nav.Link>\r\n                            </LinkContainer></Dropdown.Item>\r\n\r\n                            <Dropdown.Item  ><LinkContainer className=\"dropdown-item\" to = '/healthMinistry/confirmData'>\r\n                                    <Nav.Link ><span>Confirm Data</span></Nav.Link>\r\n                            </LinkContainer></Dropdown.Item>\r\n\r\n\r\n                        </Dropdown.Menu>\r\n                        </Dropdown>}\r\n\r\n                    </Nav>\r\n                    </Navbar.Collapse>\r\n                </Container>\r\n                </Navbar>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import React from 'react'\r\nimport { Container, Row, Col } from 'react-bootstrap'\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <footer>\r\n           <Container>\r\n               <Row>\r\n                   <Col className='text-center py-1'>Copyright &copy; Covid-19 Patient Tracker</Col>\r\n               </Row>\r\n           </Container>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer\r\n","import React from 'react'\r\nimport ReactApexChart from \"react-apexcharts\";\r\n\r\n\r\nfunction LineGraph({myProp1, myProp2, myProp3, myProp4}) {\r\n  const series = [\r\n    {\r\n      name: \"Cases\",\r\n       data: myProp2,\r\n    },\r\n    {\r\n      name: \"Recovered\",\r\n      data: myProp4,\r\n    },\r\n    {\r\n      name: \"Deaths\",\r\n      data: myProp3,\r\n    },\r\n  ];\r\n  const options = {\r\n    dataLabels: {\r\n      enabled: false,\r\n    },\r\n    stroke: {\r\n      curve: \"smooth\",\r\n    },\r\n    xaxis: {\r\n      type: \"datetime\",\r\n      categories: myProp1,\r\n    },\r\n    tooltip: {\r\n      x: {\r\n        format: \"dd/MM/yy\",\r\n      },\r\n    },\r\n    colors: ['#226EFC','#7dca53','#ff8c84'],\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        backgroundColor: \"white\",\r\n        textAlign: \"center\",\r\n      }}\r\n    >\r\n      <ReactApexChart\r\n        options={options}\r\n        series={series}\r\n        type=\"area\"\r\n        height={370}\r\n      />\r\n      {/* <br />\r\n      <ReactApexChart\r\n        options={options}\r\n        series={series}\r\n        type=\"bar\"\r\n        height={350}\r\n      /> */}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LineGraph;\r\n\r\n","import React from 'react'\r\n\r\nconst FigureOne = ({ details }) => {\r\n    return (\r\n        <div>\r\n            <div style={{justifyContent:'center'}}>\r\n                <h4 style={{textAlign:'center',margin:'1%'}}>Total Figures</h4>\r\n            </div>\r\n            <div style={{margin:'1%',justifyContent:'center'}}>\r\n                <div className='figures-div' style={{display:'flex'}}>\r\n                    <div>\r\n                        <i className='fa fa-hospital-alt' style={{fontSize:'30px', color:'#6b85de',margin:'20px'}}></i>\r\n                    </div>\r\n                    <div>\r\n                        <h3 style={{fontSize:'14px'}}>Total Confirm Cases</h3>\r\n                        <h1 style={{color:'#6b85de'}}>{formatNumber(details['local_total_cases'])}</h1>\r\n                    </div>\r\n                </div>\r\n                <div className='figures-div' style={{display:'flex'}}>\r\n                    <div>\r\n                        <i className='fa fa-bed' style={{fontSize:'30px', color:'#ff8c84',margin:'20px'}}></i>\r\n                    </div>\r\n                    <div>\r\n                        <h3 style={{fontSize:'14px'}}>Deaths</h3>\r\n                        <h1 style={{color:'#ff8c84'}}>{formatNumber(details['local_deaths'])}</h1>\r\n                    </div>\r\n                </div>\r\n                <div className='figures-div' style={{display:'flex'}}>\r\n                    <div>\r\n                        <i className='fa fa-running' style={{fontSize:'30px', color:'#7dca53',margin:'20px'}}></i>\r\n                    </div>\r\n                    <div>\r\n                        <h3 style={{fontSize:'14px'}}>Total Recovered</h3>\r\n                        <h1 style={{color:'#7dca53'}}>{formatNumber(details['local_recovered'])}</h1>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FigureOne\r\n\r\nexport const formatNumber = inputNumber => {\r\n    let formetedNumber=(Number(inputNumber)).toFixed(2).replace(/\\d(?=(\\d{3})+\\.)/g, '$&,');\r\n    let splitArray=formetedNumber.split('.');\r\n    if(splitArray.length>1){\r\n      formetedNumber=splitArray[0];\r\n    }\r\n    return(formetedNumber);\r\n  };","import React from 'react'\r\n\r\nconst FigureTwo = ({ details }) => {\r\n    //console.log(details);\r\n    return (\r\n        <div>\r\n            <div style={{justifyContent:'center'}}>\r\n                <h4 style={{textAlign:'center',margin:'1%'}}>{/*details.update_date_time.split(\" \")[0]*/} Figures</h4>\r\n            </div>\r\n            <div style={{margin:'1%',justifyContent:'center'}}>\r\n                <div className='figures-div' style={{display:'flex'}}>\r\n                    <div>\r\n                        <i className='fa fa-hospital-alt' style={{fontSize:'30px', color:'#6b85de',margin:'20px'}}></i>\r\n                    </div>\r\n                    <div>\r\n                        <h3 style={{fontSize:'14px'}}>New Cases</h3>\r\n                        <h1 style={{color:'#6b85de'}}>{formatNumber(details['local_new_cases'])}</h1>   \r\n                    </div>\r\n                </div>\r\n                <div className='figures-div' style={{display:'flex'}}>\r\n                    <div>\r\n                        <i className='fa fa-bed' style={{fontSize:'30px', color:'#ff8c84',margin:'20px'}}></i>\r\n                    </div>\r\n                    <div>\r\n                        <h3 style={{fontSize:'14px'}}>Deaths</h3>\r\n                        <h1 style={{color:'#ff8c84'}}>{formatNumber(details['local_new_deaths'])}</h1>\r\n                    </div>\r\n                </div>\r\n                <div className='figures-div' style={{display:'flex'}}>\r\n                    <div>\r\n                        <i className='fa fa-procedures' style={{fontSize:'30px', color:'#fdb01a',margin:'20px'}}></i>\r\n                    </div>\r\n                    <div>\r\n                        <h3 style={{fontSize:'14px'}}>Receiving Treatment</h3>\r\n                        <h1 style={{color:'#fdb01a'}}>{formatNumber(details['local_total_number_of_individuals_in_hospitals'])}</h1>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FigureTwo\r\n\r\nexport const formatNumber = inputNumber => {\r\n\r\n    let formetedNumber=(Number(inputNumber)).toFixed(2).replace(/\\d(?=(\\d{3})+\\.)/g, '$&,');\r\n    let splitArray=formetedNumber.split('.');\r\n    if(splitArray.length>1){\r\n      formetedNumber=splitArray[0];\r\n    }\r\n    return(formetedNumber);\r\n  };","import React from 'react'\r\nimport {Spinner} from 'react-bootstrap'\r\n\r\nconst Loader = () => {\r\n    return (\r\n        <Spinner \r\n            animation='border' \r\n            role='status'\r\n            style={{\r\n                width:'100px', \r\n                height:'100px', \r\n                margin:'auto', \r\n                display:'block',\r\n                justifyContent:'center',\r\n                marginTop:'10%'\r\n            }}\r\n        >\r\n            <span className='sr-only'>Loading...</span>\r\n        </Spinner>\r\n    )\r\n}\r\n\r\nexport default Loader\r\n","import { createAction } from \"@reduxjs/toolkit\";\r\n\r\nexport const apiCallBegan = createAction(\"api/callBegan\");\r\nexport const apiCallSuccess = createAction(\"api/callSuccess\");\r\nexport const apiCallFailed = createAction(\"api/callFailed\");\r\n","import { createSlice} from '@reduxjs/toolkit'\r\nimport { apiCallBegan } from '../apiActions';\r\nimport { createSelector } from 'reselect';\r\nimport configData from '../../config.json';\r\nimport moment from 'moment';\r\n\r\nconst slice = createSlice({\r\n    name: \"dashboard\",\r\n    initialState: {\r\n        list: [],\r\n        loading: false,\r\n        lastFetch: null\r\n    },\r\n\r\n    reducers: {\r\n       \r\n    }\r\n});\r\n\r\nexport default slice.reducer;\r\n\r\nexport const {\r\n    publicDashboardRequested,\r\n    publicDashboardSuccess,\r\n    publicDashboardFailed,\r\n    healthMinistryDashboardRequested,\r\n    healthMinistryDashboardSuccess,\r\n    healthMinistryDashboardFailed,\r\n    hospitalDashboardRequested,\r\n    hospitalDashboardSuccess,\r\n    hospitalDashboardFailed,\r\n} =slice.actions;\r\n\r\nconst dashboardURL = \"/api/v1/\";\r\nconst refreshTime = configData.REFRESH_TIME;\r\n\r\nexport const loadPublicDashboard = () => (dispatch, getState) => {\r\n//    const { lastFetch } = getState().entities.hospital;\r\n\r\n//     const diffInMinutes = moment().diff(moment(lastFetch), \"minutes\");\r\n//     if (diffInMinutes < refreshTime) return;\r\n    \r\n    return dispatch(\r\n        apiCallBegan({\r\n            url: dashboardURL + 'dashboard/publicdashboard',\r\n            onStart: publicDashboardSuccess,\r\n            onSuccess: publicDashboardSuccess,\r\n            onError: publicDashboardFailed\r\n        })\r\n    );\r\n};\r\n\r\nexport const loadHealthMinistryDashboard = () => (dispatch) => {\r\n    // const { lastFetch } = getState().entities.hospital;\r\n \r\n     // const diffInMinutes = moment().diff(moment(lastFetch), \"minutes\");\r\n     // if (diffInMinutes < refreshTime) return;\r\n     \r\n     return dispatch(\r\n         apiCallBegan({\r\n             url: dashboardURL + 'dashboardRoutes',\r\n             onStart: healthMinistryDashboardSuccess.type,\r\n             onSuccess: healthMinistryDashboardSuccess.type,\r\n             onError: healthMinistryDashboardFailed.type\r\n         })\r\n     );\r\n };\r\n\r\n export const loadHospitalDashboard = () => (dispatch) => {\r\n    // const { lastFetch } = getState().entities.hospital;\r\n \r\n     // const diffInMinutes = moment().diff(moment(lastFetch), \"minutes\");\r\n     // if (diffInMinutes < refreshTime) return;\r\n     \r\n     return dispatch(\r\n         apiCallBegan({\r\n             url: dashboardURL + 'dashboardRoutes',\r\n             onStart: hospitalDashboardSuccess.type,\r\n             onSuccess: hospitalDashboardSuccess.type,\r\n             onError: hospitalDashboardFailed.type\r\n         })\r\n     );\r\n };\r\n\r\n\r\nexport const getHospitalLoadingStatus = createSelector(\r\n    state => state.entities.hospitalloading,\r\n    loading => loading\r\n);\r\n\r\nexport const getPublicDashboard = createSelector(\r\n    state => state.entities.dashboard,\r\n    dashboard => dashboard.list\r\n);\r\n\r\n\r\n\r\n","import React, {useState, useEffect} from 'react'\r\nimport axios from 'axios';\r\nimport LineGraph from '../components/LineGraph'\r\nimport FigureOne from '../components/common/FigureOne'\r\nimport FigureTwo from '../components/common/FigureTwo';\r\nimport { Card } from 'react-bootstrap'\r\nimport Loader from '../components/Loader'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { loadPublicDashboard, getPublicDashboard} from '../store/entities/dashboard';\r\n\r\n\r\nconst HomeScreen = () => {\r\n    const dispatch = useDispatch()\r\n\r\n   // const dashBoard = useSelector(getPublicDashboard)\r\n    // console.log(dashBoard);\r\n\r\n    const getData = async() => {\r\n        try{\r\n            const response = await axios.request({\r\n                url: 'http://localhost:8000/api/v1/dashboard/publicdashboard',\r\n                method: 'get',\r\n                data: {},\r\n            });\r\n            console.log(response);\r\n        }catch(e){\r\n            //dispatch(toastAction({ message: \"Getting data...\", type: 'error' }));\r\n            console.log('error')\r\n        }\r\n        \r\n    }\r\n\r\n\r\n    const [overall, setOverall] = useState([])\r\n    const [dates, setDates] =useState([])\r\n    const [cases, setCases] =useState([])\r\n    const [deaths, setDeaths] =useState([])\r\n    const [recovered, setRecovered] =useState([])\r\n    var [loading, setLoading ]= useState(true)\r\n\r\n    console.log('1.....................')\r\n\r\n    useEffect(() => {\r\n       // dispatch(loadPatients())\r\n        const fetchOverall = async () => {\r\n            console.log('2.....................')\r\n            const {data} = await axios.get('https://www.hpb.health.gov.lk/api/get-current-statistical')\r\n            setOverall(data.data)\r\n        }\r\n\r\n        const fetchGraph = async () => {\r\n            console.log('3.....................')\r\n            const {data} = await axios.get('https://disease.sh/v3/covid-19/historical/Sri%20Lanka?lastdays=365')\r\n            const data2 = data\r\n            setDates(Object.keys(data2['timeline']['cases']))\r\n            setCases(Object.values(data2['timeline']['cases']))\r\n            setDeaths(Object.values(data2['timeline']['deaths']))\r\n            setRecovered(Object.values(data2['timeline']['recovered']))\r\n            setLoading(false)\r\n        }\r\n\r\n        fetchOverall()\r\n        fetchGraph()\r\n\r\n        console.log(\"4..........................\")\r\n\r\n       // dispatch(loadPublicDashboard());\r\n        getData()\r\n\r\n    },[dispatch])\r\n\r\n    return(\r\n        <>\r\n\r\n        { loading ? (<Loader></Loader>) : \r\n            <div className=\"vs-row top-content\" style={{display:'flex', width:'100%'}}>\r\n                     <div className=\"vs-col vs-xs- vs-sm-12 vs-lg-3\"style={{margin:'0%',width:'100%', position:'relative'}}>\r\n                         <div className=\"set-animation from-left animate\">\r\n                            <Card className='m-2 con-vs-card text-center'>\r\n                                <FigureOne details={overall}></FigureOne>\r\n                            </Card>\r\n                         </div>\r\n\r\n                     </div>\r\n\r\n                     {/* <div className=\"vs-col chart-wrap vs-xs- vs-sm-12 vs-lg-6 \" style={{margin:'0%',width:'100%', position:'relative'}}>\r\n                        <div className=\"set-animation from-left animate\">\r\n                            <Card className='m-2 con-vs-card text-center' style={{height:'100%'}}>\r\n                                <div >\r\n                                    <h3 style={{textAlign:'center', margin:'2%'}}>Total, Recovered and Deaths (SL)</h3>\r\n                                </div>\r\n                                <div  style={{position:'relative' ,margin:'2%'}}>\r\n                                    <LineGraph myProp1={dates} myProp2={cases} myProp3={deaths} myProp4={recovered}></LineGraph> \r\n                                </div> \r\n                            </Card>\r\n                        </div>\r\n                     </div> */}\r\n                    <Card className=\"vs-col vs-xs vs-sm-12 vs-lg-6 mt-2 mb-2\" style={{margin:'0%',width:'100%'}}>\r\n                         <div>\r\n                             <h3 style={{textAlign:'center', margin:'2%'}}>Total, Recovered and Deaths (SL)</h3>\r\n                         </div>\r\n                         <div style={{position:'relative' ,margin:'2%'}}>\r\n                              <LineGraph myProp1={dates} myProp2={cases} myProp3={deaths} myProp4={recovered}></LineGraph> \r\n                         </div> \r\n                    </Card>\r\n        \r\n                     <div className=\"vs-col vs-xs- vs-sm-12 vs-lg-3\" style={{margin:'0%',width:'100%', position:'relative'}}>\r\n                        <div className=\"set-animation from-left animate\">\r\n                            <Card className='m-2 con-vs-card text-center'>\r\n                                <FigureTwo details={overall}></FigureTwo>\r\n                            </Card>\r\n                         </div>\r\n                     </div>\r\n            </div>}\r\n        </>\r\n        \r\n        )\r\n}\r\n\r\nexport default HomeScreen\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst FigureOne = ({values}) => {\r\n    const { overallData, recoveredData, deathData} = values\r\n    return (\r\n        <div>\r\n            <div style={{justifyContent:'center'}}>\r\n                <h4 style={{textAlign:'center',margin:'1%'}}>Hospital Figures</h4>\r\n            </div>\r\n            <div style={{margin:'1%',justifyContent:'center'}}>\r\n                <div className='figures-div' style={{display:'flex'}}>\r\n                    <div>\r\n                        <i className='fa fa-hospital-alt' style={{fontSize:'30px', color:'#6b85de',margin:'20px'}}></i>\r\n                        {/* <Link to={{ pathname :\"/hospital/patients\" ,  category : \"All\" }}>\r\n                            <i className='fa fa-hospital-alt' style={{fontSize:'30px', color:'#6b85de',margin:'20px'}}></i>\r\n                        </Link> */}\r\n                    </div>\r\n                    <div>\r\n                        <h3 style={{fontSize:'14px'}}>Total Covid Patient</h3>\r\n                        {/* <Link to={{ pathname :\"/hospital/patients\" ,  category : \"All\" }}>\r\n                            <h3 style={{fontSize:'14px', color:'#444444'}}>Total Covid Patient</h3>\r\n                        </Link> */}\r\n                        <h1 style={{color:'#6b85de', float:'left'}}>{formatNumber(overallData)}</h1>\r\n                    </div>\r\n                </div>\r\n                <div className='figures-div' style={{display:'flex'}}>\r\n                    <div>\r\n                        <i className='fa fa-bed' style={{fontSize:'30px', color:'#ff8c84',margin:'20px'}}></i>\r\n                        {/* <Link to={{ pathname :\"/hospital/patients\" ,  category : \"Deaths\" }}>\r\n                            <i className='fa fa-bed' style={{fontSize:'30px', color:'#ff8c84',margin:'20px'}}></i> \r\n                        </Link> */}\r\n                    </div>\r\n                    <div>\r\n                        {/* <Link to={{ pathname :\"/hospital/patients\" ,  category : \"Deaths\" }}> */}\r\n                            <h3 style={{fontSize:'14px', color:'#444444'}}>Deaths</h3>\r\n                        {/* </Link> */}\r\n                        <h1 style={{color:'#ff8c84', float:'left'}}>{formatNumber(deathData)}</h1>\r\n                    </div>\r\n                </div>\r\n                <div className='figures-div' style={{display:'flex'}}>\r\n                    <div>\r\n                        {/* <Link to={{ pathname :\"/hospital/patients\" ,  category : \"Recovered\" }}> */}\r\n                            <i className='fa fa-running' style={{fontSize:'40px', color:'#7dca53',margin:'20px'}}></i>\r\n                        {/* </Link> */}\r\n                    </div>\r\n                    <div>\r\n                        {/* <Link to={{ pathname :\"/hospital/patients\" ,  category : \"Recovered\" }}> */}\r\n                            <h3 style={{fontSize:'14px', color:'#444444'}}>Recovered</h3>\r\n                        {/* </Link> */}\r\n                        <h1 style={{color:'#7dca53', float:'left'}}>{formatNumber(recoveredData)}</h1>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FigureOne\r\n\r\nexport const formatNumber = inputNumber => {\r\n    let formetedNumber=(Number(inputNumber)).toFixed(2).replace(/\\d(?=(\\d{3})+\\.)/g, '$&,');\r\n    let splitArray=formetedNumber.split('.');\r\n    if(splitArray.length>1){\r\n      formetedNumber=splitArray[0];\r\n    }\r\n    return(formetedNumber);\r\n  };","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst FigureTwo = ({values}) => {\r\n    const {activeData, staffData, transferedData} = values\r\n    return (\r\n        <div>\r\n            <div style={{justifyContent:'center'}}>\r\n                <h4 style={{textAlign:'center',margin:'1%'}}>Hospital Figures</h4>\r\n            </div>\r\n            <div style={{margin:'1%',justifyContent:'center'}}>\r\n                <div className='figures-div' style={{display:'flex'}}>\r\n                    <div>\r\n                        {/* <Link to={{ pathname :\"/hospital/patients\" ,  category : \"Transffered\" }}> */}\r\n                            <i className='fa fa-hospital-alt' style={{fontSize:'30px', color:'#6b85de',margin:'20px'}}></i>\r\n                        {/* </Link> */}\r\n                    </div>\r\n                    <div>\r\n                        {/* <Link to={{ pathname :\"/hospital/patients\" ,  category : \"Transffered\" }}> */}\r\n                            <h3 style={{fontSize:'14px', color:'#444444'}}>Transfered Patients</h3>\r\n                        {/* </Link> */}\r\n                        <h1 style={{color:'#6b85de', float:'left'}}>{formatNumber(transferedData)}</h1>   \r\n                    </div>\r\n                </div>\r\n                <div className='figures-div' style={{display:'flex'}}>\r\n                    <div>\r\n                        <i className=\"fa fa-plus-square\" aria-hidden=\"true\" style={{fontSize:'40px', color:'#ff8c84',margin:'20px'}}></i>\r\n                    </div>\r\n                    <div>\r\n                        <h3 style={{fontSize:'14px'}}>Total Staff Members</h3>\r\n                        <h1 style={{color:'#ff8c84', float:'left'}}>{formatNumber(staffData)}</h1>\r\n                    </div>\r\n                </div>\r\n                <div className='figures-div' style={{display:'flex'}}>\r\n                    <div>\r\n                        {/* <Link to={{ pathname :\"/hospital/patients\" ,  category : \"Active\" }}> */}\r\n                            <i className='fa fa-procedures' style={{fontSize:'30px', color:'#fdb01a',margin:'20px'}}></i>\r\n                        {/* </Link> */}\r\n                    </div>\r\n                    <div>\r\n                        {/* <Link to={{ pathname :\"/hospital/patients\" ,  category : \"Active\" }}> */}\r\n                            <h3 style={{fontSize:'14px', color:'#444444'}}>Receiving Treatment</h3>\r\n                        {/* </Link> */}\r\n                        <h1 style={{color:'#fdb01a', float:'left'}}>{formatNumber(activeData)}</h1>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FigureTwo\r\n\r\nexport const formatNumber = inputNumber => {\r\n    let formetedNumber=(Number(inputNumber)).toFixed(2).replace(/\\d(?=(\\d{3})+\\.)/g, '$&,');\r\n    let splitArray=formetedNumber.split('.');\r\n    if(splitArray.length>1){\r\n      formetedNumber=splitArray[0];\r\n    }\r\n    return(formetedNumber);\r\n  };","import React, { Component } from 'react';\r\nimport Chart from 'react-apexcharts'\r\nimport ReactApexChart from \"react-apexcharts\";\r\n\r\nconst PieChart = ({values}) => {\r\n  console.log(values)\r\n  const firstValue = 50;\r\n  const secondValue = 50;\r\n // const { firstValue, secondValue} = values\r\n    const series = [firstValue,secondValue];\r\n    const options = {\r\n        labels: ['Total Beds Assign','Free Beds'],\r\n        colors: ['#226EFC','#7dca53'],\r\n        legend: {\r\n            position: 'bottom',\r\n        }\r\n    };\r\n\r\n    return (\r\n      <>\r\n        {firstValue  && secondValue ? \r\n        <div\r\n          style={{\r\n            backgroundColor: \"white\",\r\n            position:'bottom'\r\n          }}\r\n        >\r\n          <ReactApexChart\r\n            options={options}\r\n            series={series}\r\n            type=\"donut\"\r\n            height={390}\r\n          />\r\n        </div> : \"No data\"}\r\n      </>\r\n    );\r\n  }\r\n  \r\n  export default PieChart;\r\n  ","import React from 'react'\r\nimport ReactApexChart from \"react-apexcharts\";\r\n\r\n\r\nfunction BarGraph({myProp1, myProp2,myProp3}) {\r\n  const series = [\r\n    {\r\n      name: \"Patient Admitt\",\r\n      data: [555,\r\n        12038,\r\n        69030,\r\n        88369,\r\n        167466,\r\n        932638,\r\n        2055423,\r\n        3343777,\r\n        3845718,]\r\n    },\r\n    {\r\n      name: \"Recovered\",\r\n      data: [28, 284, 9394, 42710, 76026, 191853, 501538, 1029651, 1255481]\r\n    },\r\n  ];\r\n  const options = {\r\n    dataLabels: {\r\n      enabled: false,\r\n    },\r\n    colors: ['#226EFC','#7dca53'],\r\n    \r\n    stroke: {\r\n      curve: \"smooth\",\r\n    },\r\n    xaxis: {\r\n      type: \"datetime\",\r\n      categories: [ \"1/22/20\",\r\n      \"2/1/20\",\r\n      \"2/15/20\",\r\n      \"3/1/20\",\r\n      \"3/15/20\",\r\n      \"4/1/20\",\r\n      \"4/15/20\",\r\n      \"5/1/20\",\r\n      \"5/7/20\"],\r\n    },\r\n    tooltip: {\r\n      x: {\r\n        format: \"dd/MM/yy\",\r\n      },\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        backgroundColor: \"white\",\r\n        textAlign: \"center\",\r\n      }}\r\n    >\r\n      {/* <ReactApexChart\r\n        options={options}\r\n        series={series}\r\n        type=\"area\"\r\n        height={370}\r\n      /> */}\r\n      <br />\r\n      <ReactApexChart\r\n        options={options}\r\n        series={series}\r\n        type=\"bar\"\r\n        height={350}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BarGraph;\r\n","import React, {useEffect, useState, Component} from 'react'\r\nimport axios from 'axios';\r\nimport FigureOne from '../../components/hospitalComponents/FigureOne'\r\nimport FigureTwo from '../../components/hospitalComponents/FigureTwo'\r\nimport PieChart from '../../components/PieChart'\r\nimport BarChart from '../../components/BarChart'\r\nimport { Card } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nconst Dashboard = () => {\r\n    const dispatch = useDispatch()\r\n\r\n    //const {patients} = useSelector(getAllPatients);\r\n    const [figureOne, setFigureOne] = useState('')\r\n    const [figureTwo, setFigureTwo] = useState('')\r\n    // const [active, setActive] = useState('')\r\n    // const [recovered, setRecovered] = useState('')\r\n    // const [death, setDeath] = useState('')\r\n    let activeData = \"\"\r\n    let deathData = \"\"\r\n    let recoveredData = \"\"\r\n    let dateData = \"\"\r\n\r\n    useEffect(() => {\r\n        //dispatch(listPatients())\r\n       // dispatch(loadPatients())\r\n\r\n        //  const updatedFiltered = getFilteredPatients(patients, categories, selectedCategory);\r\n        //  setFiltered(updatedFiltered);\r\n        //   //console.log(patients)\r\n        //  setPaginated(paginate(updatedFiltered, currentPage, pageSize));\r\n        const fetchOverall = async () => {\r\n            // const response = await axios.request({\r\n            //     url: 'http://localhost:8000/api/v1/dashboard/publicdashboard',\r\n            //     method: 'get',\r\n            //     data: {},\r\n            // });\r\n\r\n            const response = await axios.request({\r\n                url: 'http://localhost:8000/api/v1/dashboard/1',\r\n                method: 'get',\r\n                data: {},\r\n            });\r\n\r\n            console.log(response)\r\n\r\n            if (response){\r\n              //  console.log(response)\r\n                const {test} = response.data.data;\r\n                console.log(test)\r\n\r\n                if(test.length > 0){\r\n                    const { active, death, recovered, date} = test[0]\r\n                    activeData = active.length\r\n                    deathData = death.length\r\n                    recoveredData = recovered.length\r\n                    dateData = date\r\n                }\r\n                \r\n\r\n                const valueSet_1 = {\r\n                    overallData : activeData+ deathData+recoveredData,\r\n                    recoveredData: recoveredData,\r\n                    deathData: deathData\r\n                }\r\n\r\n                const valuesSet_2 = {\r\n                    activeData: activeData,\r\n                    staffData: '',\r\n                    transferedData: ''\r\n                }\r\n\r\n                setFigureOne(valueSet_1)\r\n                setFigureTwo(valuesSet_2)\r\n\r\n              //  console.log(data)\r\n               // const {districtTotals} = data.total\r\n               // setDistrict(Object.keys(data['total']['districtTotals']))\r\n               // setDistrictValues(Object.values(data['total']['districtTotals']))\r\n               // setCases(Object.values(data2['timeline']['cases']))\r\n                //console.log(districtTotals)\r\n            }\r\n        }\r\n\r\n        fetchOverall()\r\n\r\n    },[])\r\n\r\n    return (\r\n        <div>\r\n                <div className=\"vs-row top-content\" style={{display:'flex', width:'100%'}}>\r\n                    <div className=\"vs-col vs-xs- vs-sm-12 vs-lg-3\"style={{margin:'0%',width:'100%', position:'relative'}}>\r\n                         <div className=\"set-animation from-left animate\">\r\n                            <Card className='m-2 con-vs-card text-center'>\r\n                                <FigureOne values={figureOne}></FigureOne>\r\n                            </Card>\r\n                         </div>\r\n\r\n                     </div>\r\n\r\n                    <Card className=\"vs-col vs-xs vs-sm-12 vs-lg-6 mt-2 mb-2\" style={{margin:'0%',width:'100%'}}>\r\n                         <div>\r\n                             <h3 style={{textAlign:'center', margin:'2%'}}>Total vs Active Cases</h3>\r\n                         </div>\r\n                         <div style={{position:'relative' ,margin:'2%'}}>\r\n                            <PieChart />\r\n                         </div> \r\n                    </Card>\r\n        \r\n                     <div className=\"vs-col vs-xs- vs-sm-12 vs-lg-3\" style={{margin:'0%',width:'100%', position:'relative'}}>\r\n                        <div className=\"set-animation from-left animate\">\r\n                            <Card className='m-2 con-vs-card text-center'>\r\n                                <FigureTwo values={figureTwo}></FigureTwo>\r\n                            </Card>\r\n                         </div>\r\n                     </div>\r\n                </div>\r\n\r\n            <div style={{margin:'0%',width:'100%', position:'relative'}}>\r\n                <Card className=\"m-2\" style={{margin:'0%'}}>\r\n                    <BarChart></BarChart>\r\n                </Card>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Dashboard\r\n","import React from 'react';\r\nimport { ListGroup } from 'react-bootstrap';\r\n\r\nconst CommonListGroup = ({list, defaultSelected, selected, onSelect}) => {\r\n\r\n    return ( \r\n      <>\r\n        <ListGroup horizontal>\r\n            <ListGroup.Item key = {`#${defaultSelected}`} active={selected === defaultSelected} onClick={() => onSelect(defaultSelected)} action>{defaultSelected}</ListGroup.Item>\r\n            {list.map(l => <ListGroup.Item key = {`#${l}`} active={selected === l} onClick={() => onSelect(l)} action>{l}</ListGroup.Item>)}\r\n        </ListGroup>\r\n      </>\r\n     );\r\n}\r\n \r\nexport default CommonListGroup;","import _ from \"lodash\";\r\n\r\nexport function paginate(items, pageNumber, pageSize) {\r\n    const startIndex = (pageNumber - 1) * pageSize;\r\n    return _(items)\r\n        .slice(startIndex)\r\n        .take(pageSize)\r\n        .value();\r\n}","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport _ from \"lodash\";\r\n\r\nconst Pagination = ({ itemsCount, pageSize, currentPage, onPageChange }) => {\r\n    const pagesCount = Math.ceil(itemsCount / pageSize);\r\n    if (pagesCount === 1) return null;\r\n    const pages = _.range(1, pagesCount + 1);\r\n    return (\r\n      <nav>\r\n        <ul className=\"pagination\">\r\n          {pages.map(page => (\r\n            <li\r\n              key={page}\r\n              className={page === currentPage ? \"page-item active\" : \"page-item\"}\r\n            >\r\n              <a className=\"page-link\" onClick={() => onPageChange(page)}>\r\n                {page}\r\n              </a>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </nav>\r\n    );\r\n  };\r\n  \r\n  Pagination.propTypes = {\r\n    itemsCount: PropTypes.number.isRequired,\r\n    pageSize: PropTypes.number.isRequired,\r\n    currentPage: PropTypes.number.isRequired,\r\n    onPageChange: PropTypes.func.isRequired\r\n  };\r\n  \r\n  export default Pagination;","import { createSlice} from '@reduxjs/toolkit'\r\nimport { apiCallBegan } from '../apiActions';\r\nimport { createSelector } from 'reselect';\r\nimport configData from '../../config.json';\r\nimport moment from 'moment';\r\n\r\nconst slice = createSlice({\r\n    name: \"patients\",\r\n    initialState: {\r\n        list: [],\r\n        admittedPatients: [],\r\n        waiting: [],\r\n        waitingLoading: false,\r\n        waitingLAstFetch : null,\r\n        admittedPatientsLoading: false,\r\n        admittedPatientsLastFetch: null,\r\n        loading: false,\r\n        lastFetch: null,\r\n        patientAdded : false,\r\n        medicalHistory : false,\r\n    },\r\n    reducers: {\r\n\r\n        patientsRegisterRequested(patients, action) {\r\n            delete patients.registerSuccessful;\r\n            patients.registering = true;\r\n        },\r\n\r\n        patientsRegisterRequestFailed(patients, action) {\r\n            patients.registering = false;\r\n        },\r\n\r\n        patientsRegisterRequestSucceeded(patients, action) {\r\n            delete patients.registering;\r\n            patients.registerSuccessful = true;\r\n            patients.list.push(action.payload.data);\r\n            patients.patientAdded = true\r\n        },\r\n\r\n        patientsRequested(patients, action){\r\n            patients.loading = true;\r\n        },\r\n\r\n\r\n        patientsRequestFailed(patients, action){\r\n            patients.loading = false;\r\n            \r\n        },\r\n\r\n    // payload: [message: , data: ]\r\n        patientsReceived(patients, action){\r\n            patients.list = action.payload.data.patients;\r\n            patients.loading = false;\r\n            patients.lastFetch = Date.now();\r\n           // console.log('srherhtrhjtrjtrjr')\r\n        },\r\n\r\n        admittedPatientsRequested(patients, action){\r\n            patients.admittedPatientsLoading= true;\r\n        },\r\n\r\n\r\n        admittedPatientsRequestFailed(patients, action){\r\n            patients.admittedPatientsLoading = false;\r\n            \r\n        },\r\n\r\n    // payload: [message: , data: ]\r\n        admittedPatientsReceived(patients, action){\r\n            patients.admittedPatients = action.payload.data.patients;\r\n            patients.admittedPatientsLoading = false;\r\n            patients.admittedPatientsLastFetch = Date.now();\r\n           // console.log('srherhtrhjtrjtrjr')\r\n        },\r\n\r\n        waitingPatientsRequested(patients, action){\r\n            patients.waitingLoading= true;\r\n        },\r\n\r\n\r\n        waitingPatientsRequestFailed(patients, action){\r\n            patients.waitingLoading = false;\r\n            \r\n        },\r\n\r\n    // payload: [message: , data: ]\r\n        waitingPatientsReceived(patients, action){\r\n            patients.waiting = action.payload.data.medicalHistory;\r\n            patients.waitingLoading = false;\r\n            patients.waitingLAstFetch= Date.now();\r\n           // console.log('srherhtrhjtrjtrjr')\r\n        },\r\n\r\n        patientSymptomsUpdated(patients, action){\r\n            console.log(action.payload.data)\r\n            const { patient, _id } = action.payload.data.medicalHistory;\r\n            const patientIndex = patients.list.findIndex(p => p._id === patient );\r\n            const histories = patients.list[patientIndex].medicalHistory\r\n            const historyIndex = histories.findIndex(p => p._id === _id)\r\n            histories[historyIndex].symptoms = action.payload.data.medicalHistory.symptoms\r\n        },\r\n\r\n        patientDrugsUpdated(patients, action){\r\n            console.log(action.payload.data)\r\n            const { patient, _id } = action.payload.data.medicalHistory;\r\n             const patientIndex = patients.list.findIndex(p => p._id === patient );\r\n             const histories = patients.list[patientIndex].medicalHistory\r\n             const historyIndex = histories.findIndex(p => p._id === _id)\r\n             histories[historyIndex].drugDetails = action.payload.data.medicalHistory.drugDetails\r\n        },\r\n\r\n        patientTransferUpdated(patients, action){\r\n            console.log(action.payload.data.medicalHistory)\r\n          //  const variantIndex =variants.findIndex(v => v.name === variantName);\r\n          //  variants[variantIndex].countInStock = newCount;\r\n        },\r\n\r\n        patientUpdated(patients, action){\r\n            const patientId = action.payload.data.patient._id;\r\n            console.log( action.payload.data.patient)\r\n            const index = patients.list.findIndex(c => c._id === patientId );\r\n            console.log(index)\r\n           /// patients.list[index] = action.payload.data.patient;\r\n        },\r\n\r\n        patientAdmitRequest(patients, action){\r\n           // patients.loading = true;\r\n        },\r\n\r\n\r\n        patientAdmitFailed(patients, action){\r\n            console.log(action.payload.data)\r\n            patients.medicalHistory = false;\r\n            \r\n        },\r\n\r\n    // payload: [message: , data: ]\r\n        patientAdmitSuccess(patients, action){\r\n            patients.medicalHistory = true;\r\n            console.log(action.payload.data)\r\n            const { patient, _id } = action.payload.data.test;\r\n            const patientIndex = patients.list.findIndex(p => p._id === patient );\r\n            const histories = patients.list[patientIndex].medicalHistory\r\n            histories.push(action.payload.data.test)\r\n            patients.admittedPatients.push(patients.list[patientIndex])\r\n         ///   const historyIndex = histories.findIndex(p => p._id === _id)\r\n         //   histories[historyIndex] = action.payload.data.medicalHistory\r\n           // patients.admittedPatients.push(action.payload.data.)\r\n           // patients.medicalHistory = true\r\n            //patients.list = action.payload.data.patients;\r\n        },\r\n\r\n        selectedPatientTransferUpdated(patients, actions){\r\n            \r\n        },\r\n\r\n        patientDischarged(patients, action){\r\n            console.log(action.payload.data.medicalHistory)\r\n            const { patient, _id } = action.payload.data.medicalHistory;\r\n            const patientIndex = patients.list.findIndex(p => p._id === patient );\r\n            const histories = patients.list[patientIndex].medicalHistory\r\n            const historyIndex = histories.findIndex(p => p._id === _id)\r\n            histories[historyIndex] = action.payload.data.medicalHistory\r\n        },\r\n\r\n        patientChangeWard(patients, action){\r\n            console.log(action.payload.data.medicalHistory)\r\n            const { patient, _id } = action.payload.data.medicalHistory;\r\n         //   const patientIndex = patients.list.findIndex(p => p._id === patient );\r\n            const addmittedIndex = patients.admittedPatients.findIndex(p => p._id === patient );\r\n          //  const histories1 = patients.list[patientIndex].medicalHistory\r\n            const histories2 = patients.admittedPatients[addmittedIndex].medicalHistory\r\n          //  const historyIndex1 = histories1.findIndex(p => p._id === _id)\r\n            const historyIndex2 = histories2.findIndex(p => p._id === _id)\r\n          //  histories1[historyIndex1].ward = action.payload.data.medicalHistory.ward\r\n            histories2[historyIndex2] = action.payload.data.medicalHistory\r\n        }\r\n\r\n    },\r\n});\r\n\r\nexport default slice.reducer;\r\n\r\n\r\nexport const { \r\n    patientsRequested, \r\n    patientsReceived, \r\n    patientsRequestFailed,\r\n    patientsRegisterRequested,\r\n    patientsRegisterRequestFailed,\r\n    patientsRegisterRequestSucceeded,\r\n    patientUpdated,\r\n    patientSymptomsUpdated,\r\n    patientDrugsUpdated,\r\n    patientTransferUpdated,\r\n    selectedPatientTransferUpdated,\r\n    patientAdmitRequest,\r\n    patientAdmitSuccess,\r\n    patientAdmitFailed,\r\n    patientDischarged,\r\n    admittedPatientsReceived,\r\n    admittedPatientsRequestFailed,\r\n    admittedPatientsRequested,\r\n    waitingPatientsReceived,\r\n    waitingPatientsRequestFailed,\r\n    waitingPatientsRequested,\r\n    patientChangeWard\r\n } = slice.actions;\r\n                            \r\n\r\nconst patientURL = \"/api/v1/\";\r\nconst refreshTime = configData.REFRESH_TIME;\r\n\r\n//Action Invokers\r\nexport const loadPatients = () => (dispatch, getState) => {\r\n   const { lastFetch } = getState().entities.patients;\r\n\r\n    const diffInMinutes = moment().diff(moment(lastFetch), \"minutes\");\r\n    if (diffInMinutes < refreshTime) return;\r\n\r\n    return dispatch(\r\n        apiCallBegan({\r\n            url: patientURL + 'patients/',\r\n            onStart: patientsRequested.type,\r\n            onSuccess: patientsReceived.type,\r\n            onError: patientsRequestFailed.type\r\n        })\r\n    );\r\n};\r\n\r\nexport const loadPatient = (patientid) => (dispatch, getState) => {\r\n    const { lastFetch } = getState().entities.patients;\r\n \r\n     const diffInMinutes = moment().diff(moment(lastFetch), \"minutes\");\r\n     if (diffInMinutes < refreshTime) return;\r\n \r\n     return dispatch(\r\n         apiCallBegan({\r\n             url: patientURL + `patients/${patientid}`,\r\n             onStart: patientsRequested.type,\r\n             onSuccess: patientsReceived.type,\r\n             onError: patientsRequestFailed.type\r\n         })\r\n     );\r\n };\r\n\r\n export const loadAdmittedPatients = () => (dispatch, getState) => {\r\n    const { admittedPatientsLastFetch } = getState().entities.patients;\r\n \r\n     const diffInMinutes = moment().diff(moment(admittedPatientsLastFetch), \"minutes\");\r\n     if (diffInMinutes < refreshTime) return;\r\n \r\n     return dispatch(\r\n         apiCallBegan({\r\n             url: patientURL + 'patients/hospital/admitted',\r\n             onStart: admittedPatientsRequested.type,\r\n             onSuccess: admittedPatientsReceived.type,\r\n             onError: admittedPatientsRequestFailed.type\r\n         })\r\n     );\r\n };\r\n\r\n export const loadWaitingPatients = () => (dispatch, getState) => {\r\n    const { waitingLAstFetch } = getState().entities.patients;\r\n \r\n     const diffInMinutes = moment().diff(moment(waitingLAstFetch), \"minutes\");\r\n     if (diffInMinutes < refreshTime) return;\r\n \r\n     return dispatch(\r\n         apiCallBegan({\r\n             url: patientURL + 'med/changehospital/pending',\r\n             onStart: waitingPatientsRequested,\r\n             onSuccess: waitingPatientsReceived,\r\n             onError: waitingPatientsRequestFailed\r\n         })\r\n     );\r\n };\r\n\r\n export const getAllWaitingPatients = createSelector(\r\n     state => state.entities.patients,\r\n     patients => patients\r\n )\r\n\r\nexport const getAllPatients= createSelector(\r\n    state => state.entities.patients,\r\n    patients => patients,\r\n   // console.log(patients)\r\n);\r\n\r\nexport const getPatientsLoadingStatus = createSelector(\r\n    state => state.entities.patients.loading,\r\n    loading => loading\r\n);\r\n\r\nexport const getAllAdmittedPatients= createSelector(\r\n    state => state.entities.patients.admittedPatients,\r\n    patients => patients,\r\n   // console.log(patients)\r\n);\r\n\r\nexport const getAdmittedPatientsLoadingStatus = createSelector(\r\n    state => state.entities.patients.admittedPatientsLoading,\r\n    loading => loading\r\n);\r\n\r\nexport const getPatientAdmitState = createSelector(\r\n    state => state.entities.patients,\r\n    medicalHistory => medicalHistory\r\n);\r\n\r\nexport const getPatientById = patientId =>\r\n    createSelector(\r\n        state => state.entities.patients.list,\r\n        patients => {\r\n            const index = patients.findIndex(p => p._id === patientId);\r\n            if(index !== -1) return patients[index];\r\n            return {};\r\n        },\r\n\r\n);\r\n\r\n\r\n\r\n// export const getPatientByNIC = (nic) => (dispatch) => {\r\n//      return dispatch(\r\n//          apiCallBegan({\r\n//              url: patientURL + `patients/search/${nic}`,\r\n//              onStart: patientRequested.type,\r\n//              onSuccess: patientsReceived.type,\r\n//              onError: patientsRequestFailed.type\r\n//          })\r\n//      );\r\n//  };\r\n\r\nexport const registerPatients = (patient) => (dispatch) => {\r\n   // console.log(patient, 'efeferfrgre' )\r\n    return dispatch(\r\n       // console.log(patient)\r\n        apiCallBegan({\r\n            url: patientURL + 'patients/',\r\n            method: \"post\",\r\n            data: patient,\r\n            onStart: patientsRegisterRequested,\r\n            onSuccess: patientsRegisterRequestSucceeded.type,\r\n            onError: patientsRegisterRequestFailed\r\n        })\r\n    );\r\n}\r\n\r\nexport const updatePatient= (patient, id) => (dispatch) => {\r\n    console.log(patient, id)\r\n    return dispatch(\r\n        apiCallBegan({\r\n            url: patientURL + `patients/${id}`,\r\n            method: \"patch\",\r\n            data: patient,\r\n            onSuccess: patientUpdated.type,\r\n        })\r\n    );\r\n\r\n}\r\n\r\nexport const updateSymptomsInDB = (symptoms, medicalHistoryId) => (dispatch) => {\r\n      //  console.log(symptoms)\r\n        return dispatch(\r\n            apiCallBegan({\r\n                url: patientURL + `med/${medicalHistoryId}/addsymptoms`,\r\n                method: \"patch\",\r\n                data: symptoms,\r\n                onSuccess: patientSymptomsUpdated,\r\n            })\r\n        );\r\n\r\n}\r\n\r\nexport const updateDrugsInDB = (drugs, medicalHistoryId) => (dispatch) => {\r\n   // console.log(drugs)\r\n    return dispatch(\r\n        apiCallBegan({\r\n            url: patientURL + `med/${medicalHistoryId}/adddrugs`,\r\n            method: \"patch\",\r\n            data: drugs,\r\n            onSuccess: patientDrugsUpdated,\r\n        })\r\n    );\r\n\r\n}\r\n\r\nexport const updateTransferPatient = (hospital, patientId) => (dispatch) => {\r\n    console.log(patientId)\r\n    return dispatch(\r\n        apiCallBegan({\r\n            url: patientURL + `med/${patientId}/changehospitalrequest`,\r\n            method: \"post\",\r\n            data: hospital,\r\n            onSuccess: patientTransferUpdated.type,\r\n        })\r\n    );\r\n}\r\n\r\nexport const updateSelectedTransferPatient = (value) => (dispatch) => {\r\n    console.log(value)\r\n    return dispatch(\r\n        apiCallBegan({\r\n            url: patientURL + 'patientTransferSelected',\r\n            method: \"post\",\r\n            data: value,\r\n            onSuccess: selectedPatientTransferUpdated.type,\r\n        })\r\n    );\r\n}\r\n\r\n\r\nexport const admitPatient = (patient) => (dispatch) => {\r\n    console.log(patient)\r\n    return dispatch(\r\n        apiCallBegan({\r\n            url: patientURL + 'med',\r\n            method: \"post\",\r\n            data : patient,\r\n            onStart : patientAdmitRequest,\r\n            onSuccess : patientAdmitSuccess,\r\n            onError: patientAdmitFailed\r\n        })\r\n    )\r\n}\r\n\r\nexport const dischargePatient = (patientId) => (dispatch) => {\r\n    console.log(patientId)\r\n    return dispatch(\r\n        apiCallBegan({\r\n            url: patientURL + `patients/${patientId}/discharge`,\r\n            method: \"get\",\r\n            onSuccess : patientDischarged,\r\n        })\r\n    )\r\n}\r\n\r\nexport const changePatientWard = (ward, patientId) => (dispatch) => {\r\n    console.log(patientId)\r\n    return dispatch(\r\n        apiCallBegan({\r\n            url: patientURL + `med/${patientId}/changeward`,\r\n            method: \"post\",\r\n            data: ward,\r\n            onSuccess : patientChangeWard,\r\n        })\r\n    )\r\n}\r\n","import React, {useEffect, useState, Component} from 'react'\r\nimport { Table, Container, Button, InputGroup, FormControl, Card} from 'react-bootstrap'\r\nimport CommonListGroup from '../../components/common/CommonListGroup'\r\nimport { paginate } from '../../utils/paginate';\r\nimport Loader from '../../components/Loader'\r\nimport Pagination from '../../components/Pagination';\r\n//import { listPatients } from '../../actions/patientActions'\r\nimport { loadPatients, getAllPatients, getPatientsLoadingStatus } from '../../store/entities/patients';\r\nimport { useLocation, Link } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\n\r\nconst Patients = ({history}) => {\r\n    const dispatch = useDispatch()\r\n\r\n   // const auth = useSelector(state => state.auth);\r\n\r\n    const userDetails = useSelector(state => state.auth);\r\n  // console.log(userDetails)\r\n    // const { user } = userDetails.data.user\r\n    // const auth = user\r\n\r\n  //  console.log(auth)\r\n\r\n    const patientsDetails = useSelector(getAllPatients);\r\n    const patients = patientsDetails.list;\r\n   // const data = objectDestructure (patients);\r\n   // const {medicalHistory, nic, pcrTest, user, _id } = patientsDetails.list;\r\n    console.log(patients)\r\n    const patientsLoading = useSelector(getPatientsLoadingStatus);\r\n\r\n    const location = useLocation()\r\n    let { category:passedCategory  } = location\r\n    if(!passedCategory) passedCategory = 'All'\r\n\r\n    const AllCategories = ['All','Active']\r\n    const categories = AllCategories.filter(c=> c!== passedCategory)\r\n\r\n    const [selectedCategory, setSelectedCategory] = useState(passedCategory);\r\n    const [filtered, setFiltered] = useState(patients);\r\n    //console.log(filtered)\r\n\r\n    const pageSize = 5;\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    let [paginated, setPaginated] = useState(patients);\r\n    //console.log(paginated)\r\n\r\n    const [searchKeyword, setSearchKeyword ] = useState('');\r\n\r\n\r\n    useEffect(() => {\r\n        if(!userDetails.loggedIn){\r\n           // window.location('/')\r\n           history.push('/')\r\n        }\r\n        dispatch(loadPatients())\r\n\r\n        const updatedSearchFiltered = getFilteredSearchedPatients(patients, searchKeyword)\r\n        const updatedFiltered = getFilteredPatients(updatedSearchFiltered, categories, selectedCategory);\r\n        setFiltered(updatedFiltered);\r\n        setPaginated(paginate(updatedFiltered, currentPage, pageSize));\r\n       // getFilteredSearchedPatients(patients, searchKeyword)\r\n       // console.log(searchKeyword)\r\n    },[searchKeyword])\r\n\r\n\r\n    return (\r\n        <>\r\n            {/* {auth.loggedIn && patientsLoading && (<Loader></Loader>)}\r\n            {auth.loggedIn ?  */}\r\n            {(typeof(patients) === 'undefined' || patients.length == 0) && patientsLoading && (<Loader></Loader>)}\r\n            <Container>\r\n                <h3 style={{textAlign:'center', marginBottom:'40px', fontWeight:'700'}}>PATIENTS DETAILS</h3>\r\n\r\n                <Button \r\n                    className=\"btn btn-success\"\r\n                    style={{float:'right',padding:'10px'}}\r\n                    onClick = { () => history.push('/hospital/admitPatient')}\r\n                >+ admit patient</Button>\r\n\r\n                <InputGroup id = 'search-bar' style={{padding:'0px 200px 20px 200px', color:'blue'}}>\r\n                            <FormControl\r\n                                className='textBox'\r\n                                placeholder=\"search patient by using name or NIC...\"\r\n                                aria-label=\"searchPatient\"\r\n                                aria-describedby=\"basic-addon2\"\r\n                                size = 'lg'\r\n                                value = {searchKeyword}\r\n                                onChange = { e => setSearchKeyword(e.target.value)}\r\n                            />\r\n                </InputGroup>\r\n\r\n                <CommonListGroup \r\n                onSelect = {(category) => {\r\n                    setSelectedCategory(category);\r\n                    const updatedFiltered = getFilteredPatients(patients, AllCategories, category);\r\n                    setFiltered(updatedFiltered);\r\n                    setPaginated(paginate(updatedFiltered, 1, pageSize));\r\n                }} \r\n                defaultSelected ={passedCategory} selected={selectedCategory} \r\n                list={categories.map(c => c)}\r\n                />\r\n\r\n            {patients.length === 0 ? <h1>No data</h1>:\r\n\r\n            <Table striped bordered hover variant=\"light\">\r\n                <thead>\r\n                    <tr>\r\n                    <th>Name</th>\r\n                    <th>Age</th>\r\n                    <th>Tel</th>\r\n                    <th>Address</th>\r\n                    {/* <th>Status</th> */}\r\n                    <th>Action</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {paginated.map( p =>\r\n                        <tr>\r\n                            <td>\r\n                               {(objectDestructure(p , \"name\"))}\r\n                            </td>\r\n                            <td>{(objectDestructure(p , \"age\"))}</td>\r\n                            <td>{(objectDestructure(p , \"tel\"))}</td>\r\n                            <td>{(objectDestructure(p , \"address\"))}</td>\r\n                            {/* <td>{p.name}</td> */}\r\n                            <td>\r\n                                <Button \r\n                                    value = {p._id}\r\n                                    onClick = { () => history.push(`/hospital/Profile/${p._id}`)}\r\n                                    className=\"btn btn-primary\">Profile</Button>\r\n                            </td>\r\n                        </tr>\r\n                    //)\r\n                    )}\r\n                </tbody>\r\n            </Table>\r\n\r\n            }\r\n\r\n            <Pagination\r\n                itemsCount = {filtered.length} \r\n                pageSize = {pageSize} \r\n                currentPage = {currentPage}\r\n                onPageChange = {(page) => {\r\n                    setCurrentPage(page);\r\n                    setPaginated(paginate(filtered, page, pageSize));\r\n                }}\r\n            />\r\n\r\n            </Container>\r\n            {/* : history.push('/')} */}\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nfunction getFilteredPatients(patients, categories, filter){\r\n    console.log(filter)\r\n    if(filter === \"All\") return patients;\r\n    if(filter === \"Active\"){\r\n        const patient = patients.filter(c => c.currentMedicalHistory)\r\n        console.log(patient)\r\n        return patient\r\n    }\r\n  //  const category = categories.find(c => c === filter);\r\n   return patients;\r\n}\r\n\r\nexport function getFilteredSearchedPatients(patients, filterBy){\r\n  //  console.log(patients)\r\n   // console.log(filterBy)\r\n    if(typeof(patients) === 'undefined' || patients.length === 0){\r\n       return {}\r\n    }\r\n    //return patients\r\n    //return patients.filter(p => p.user)\r\n    return patients.filter(p => objectDestructure(p, \"name\").toLowerCase().includes(filterBy) || getNic(p).includes(filterBy.toString()));\r\n    //return patients.filter(p => p.name.toLowerCase().includes(filterBy) //||\r\n        //p.description.toLowerCase().includes(filterBy.toLowerCase())\r\n       // console.log(p.name.toLowerCase())\r\n    //);\r\n}\r\n\r\nexport function objectDestructure ( patients, type){\r\n    let newList = \"\"\r\n    if(typeof(patients) === 'undefined' || patients.length === 0){\r\n        return newList\r\n    } \r\n\r\n    const { user } = patients\r\n    if(user){\r\n        if(type === \"name\"){\r\n            const { firstName , lastName } = user.name;\r\n            const patientName = firstName + \" \" + lastName\r\n            return patientName;\r\n        }\r\n        \r\n        if(type === \"age\"){\r\n            const { birthday } = user;\r\n            const date = new Date().getFullYear();\r\n            const birthYear = birthday.split(\"-\")[0]\r\n            return (date - birthYear)\r\n        }\r\n\r\n        if(type === \"tel\"){\r\n            const { contactNo } = user;\r\n            return contactNo\r\n        }\r\n        if(type === \"address\"){\r\n            const { city, line1, line2, province } = user.address;\r\n            return (city + \",\" + line1 + \",\" + line2 + \",\" + province)\r\n        }\r\n    }else{\r\n        return newList\r\n    }\r\n}\r\n\r\nfunction getNic(patient){\r\n    const { nic } = patient\r\n    if(nic){\r\n        const {nicno} = nic\r\n        return nicno.toString()\r\n    }\r\n    return \"\"\r\n}\r\n\r\nexport default Patients\r\n\r\n","import { createSlice} from '@reduxjs/toolkit'\r\nimport { apiCallBegan } from '../apiActions';\r\nimport { createSelector } from 'reselect';\r\nimport configData from '../../config.json';\r\nimport moment from 'moment';\r\n\r\nconst slice = createSlice({\r\n    name: \"hospitals\",\r\n    initialState: {\r\n        list: [],\r\n       // wards: [],\r\n        loading: false,\r\n       // wardLoading: false,\r\n       // wardLastFetch: null,\r\n        lastFetch: null,\r\n        hospitalAdded: false,\r\n        wardAdded: false\r\n    },\r\n\r\n    reducers: {\r\n        hospitalCreateRequested(hospital, action) {\r\n            hospital.loading = true;\r\n            hospital.hospitalAdded = false;\r\n        },\r\n\r\n        hospitalCreateRequestFailed(hospital, action){\r\n            hospital.loading = false;\r\n        },\r\n\r\n        hospitalCreateRequestSucceeded(hospital, action){\r\n            const newHospital = action.payload.data.hospital\r\n            console.log(newHospital)\r\n            hospital.list.push(newHospital)\r\n            hospital.loading = false;\r\n            hospital.hospitalAdded = true\r\n        },\r\n\r\n        wardCreateRequested(hospital, action) {\r\n            hospital.loading = true;\r\n            hospital.wardAdded = false;\r\n        },\r\n\r\n        wardCreateRequestFailed(hospital, action){\r\n            hospital.loading = false;\r\n        },\r\n\r\n        wardCreateRequestSucceeded(hospital, action){\r\n            hospital.loading = false;\r\n            hospital.wardAdded = true\r\n        },\r\n\r\n        \r\n        hospitalRequested(hospital, action){\r\n            hospital.loading = true;\r\n        },\r\n\r\n\r\n        hospitalRequestFailed(hospital, action){\r\n            hospital.loading = false;\r\n            \r\n        },\r\n\r\n        hospitalReceived(hospitals, action){\r\n            //pcr.list = action.payload.pcr;\r\n            hospitals.list = action.payload.data.hospitals;\r\n            hospitals.loading = false;\r\n            hospitals.lastFetch = Date.now();\r\n            //console.log(hospitals.list)\r\n        },\r\n\r\n        hospitalUpdated(hospital, action){\r\n            \r\n        },\r\n\r\n        wardUpdated(hospitals, action){\r\n             const wardId = action.payload.data;\r\n             console.log(wardId)\r\n            // const index = hospitals.list.wards.findIndex(c => c._id === wardId );\r\n            // hospitals.list.wards[index] = action.payload.data.hospital;\r\n        },\r\n    }\r\n});\r\n\r\nexport default slice.reducer;\r\n\r\nexport const {\r\n    hospitalRequested,\r\n    hospitalRequestFailed,\r\n    hospitalReceived,\r\n    hospitalCreateRequested,\r\n    hospitalCreateRequestFailed,\r\n    hospitalCreateRequestSucceeded,\r\n    wardUpdated,\r\n    wardDelete,\r\n    wardCreateRequested,\r\n    wardCreateRequestFailed,\r\n    wardCreateRequestSucceeded,\r\n} =slice.actions;\r\n\r\nconst hospitalURL = \"/api/v1/hospital\";\r\nconst refreshTime = configData.REFRESH_TIME;\r\n\r\nexport const loadHospitals = () => (dispatch, getState) => {\r\n    const { lastFetch } = getState().entities.hospital;\r\n\r\n    const diffInMinutes = moment().diff(moment(lastFetch), \"minutes\");\r\n    if (diffInMinutes < refreshTime) return;\r\n    \r\n    return dispatch(\r\n        apiCallBegan({\r\n            url: hospitalURL,\r\n            onStart: hospitalRequested.type,\r\n            onSuccess: hospitalReceived.type,\r\n            onError: hospitalRequestFailed.type\r\n        })\r\n    );\r\n};\r\n\r\nexport const addHospital = (hospital) => (dispatch) => {\r\n    console.log(hospital)\r\n    return dispatch(\r\n        apiCallBegan({\r\n            url: hospitalURL,\r\n            method: \"post\",\r\n            data: hospital,\r\n            onStart: hospitalCreateRequested,\r\n            onSuccess: hospitalCreateRequestSucceeded.type,\r\n            onError: hospitalCreateRequestFailed\r\n        })\r\n    );\r\n}\r\n\r\n\r\nexport const getHospitalLoadingStatus = createSelector(\r\n    state => state.entities.loading,\r\n    loading => loading\r\n);\r\n\r\nexport const getHospitalAddedStatus = createSelector(\r\n    state => state.entities.hospital,\r\n   // pcr => pcr.pcrAdded\r\n    hospitalAdded => hospitalAdded\r\n)\r\n\r\nexport const getAllHospitals = createSelector(\r\n    state => state.entities.hospital,\r\n    hospital => hospital.list\r\n);\r\n\r\nexport const addWard = (ward) => (dispatch) => {\r\n    console.log(ward)\r\n    return dispatch(\r\n        apiCallBegan({\r\n            url: hospitalURL + `ward`,\r\n            method: \"post\",\r\n            data: ward,\r\n            onStart: wardCreateRequested,\r\n            onSuccess: wardCreateRequestSucceeded.type,\r\n            onError: wardCreateRequestFailed\r\n        })\r\n    );\r\n}\r\n\r\nexport const updateWard= (ward, id) => (dispatch) => {\r\n    console.log(id)\r\n    return dispatch(\r\n        apiCallBegan({\r\n            url: hospitalURL + `/ward/${id}`,\r\n            method: \"patch\",\r\n            data: ward,\r\n            onSuccess: wardUpdated.type,\r\n        })\r\n    );\r\n\r\n}\r\n\r\nexport const deleteWard= (ward, id) => (dispatch) => {\r\n    console.log(ward, id)\r\n    return dispatch(\r\n        apiCallBegan({\r\n            url: hospitalURL + `wards/${id}`,\r\n            method: \"patch\",\r\n            data: ward,\r\n            onSuccess: wardDelete.type,\r\n        })\r\n    );\r\n}\r\n\r\n// export const updatePcrAproval = (pcrIds) =>{\r\n//     return apiCallBegan({\r\n//         url: pcrURL + \"pcr/confirm\",\r\n//         method: \"post\",\r\n//         data: pcrIds,\r\n//         onSuccess: pcrAprovalUpdated.type,\r\n//     });\r\n// }\r\n\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux';\r\nimport { Button, Card} from 'react-bootstrap'\r\n\r\nconst PersonalInfo = ({patients, currentHospital, userHospital, id}) => {\r\n    console.log(patients)\r\n    const userDetails = useSelector(state => state.auth);\r\n    const { user } = userDetails.data.user\r\n    const auth = user\r\n\r\n    return (\r\n            <Card  className=\"m-2\" bg=\"#ffffff\" text=\"black\" style={{ width: '100%'}}>\r\n                <ul className=\"profile-info-list mt-2\">\r\n                    <li className=\"title \">PERSONAL INFORMATION</li>\r\n                    <li>\r\n                        <div className=\"field\">Name:</div>\r\n                        <div className=\"value\">{objectDestructure(patients, \"name\")}</div>\r\n                     </li>\r\n                    <li>\r\n                        <div className=\"field\">Age:</div>\r\n                        <div className=\"value\">{objectDestructure(patients, \"age\")}</div>\r\n                    </li>\r\n                    <li>\r\n                        <div className=\"field\">Birth of Date:</div>\r\n                        <div className=\"value\">{objectDestructure(patients, \"birthday\")}</div>\r\n                    </li>\r\n                    <li>\r\n                        <div className=\"field\">Tel Number:</div>\r\n                        <div className=\"value\">{patients.contactNo}</div>\r\n                    </li>\r\n                    <li>\r\n                        <div className=\"field\">Address:</div>\r\n                        <div className=\"value\">\r\n                            <address className=\"m-b-0\">\r\n                                {objectDestructure(patients, \"address\")}\r\n                            </address>\r\n                        </div>\r\n                    </li>\r\n                        {currentHospital === userHospital && auth.role === \"patient\"? \r\n                        <div>\r\n                            <Button \r\n                                type='submit'  \r\n                                className='btn btn-primary' \r\n                                onClick={()=> window.location=`/hospital/editProfile/${patients._id}`}\r\n                            >Edit Profile</Button>\r\n                        </div>:''}\r\n                </ul>\r\n            </Card>\r\n    )\r\n}\r\n\r\nexport default PersonalInfo\r\n\r\nfunction objectDestructure ( patients, type){\r\n     let newList = \"\"\r\n     if(typeof(patients) === 'undefined' || patients.length === 0){\r\n         return newList\r\n     } \r\n \r\n     const { name, address, birthday } = patients\r\n\r\n        if(type === \"name\"){\r\n            const { firstName , lastName } = name;\r\n            const patientName = firstName + \" \" + lastName\r\n            return patientName;\r\n         }\r\n        if(type === \"address\"){\r\n            const { city, line1, line2, district } = address;\r\n            return (city + \",\" + line1 + \",\" + line2 + \",\" + district)\r\n        }\r\n        if(type === \"birthday\"){\r\n            const date = birthday.split(\"-\")\r\n            return date[0] +\"-\" + date[1] + \"-\" + (date[2][0] + date[2][1])\r\n        }\r\n        if(type === \"age\"){\r\n            const date = new Date().getFullYear();\r\n            const birthYear = birthday.split(\"-\")[0]\r\n            return (date - birthYear)\r\n        }\r\n }\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux';\r\nimport {Card, Button} from 'react-bootstrap';\r\n\r\nconst CurrentInfo = ({patients, userHospital, currentHospital,  hospitals, wards, pcr}) => {\r\n\r\n   // console.log(pcr)\r\n    const userDetails = useSelector(state => state.auth);\r\n    const { user } = userDetails.data.user\r\n    const auth = user\r\n    return (\r\n        <Card className='m-2 con-vs-card'>\r\n            <h5 className=\"text-center mt-2 font-weight-bold\">CURRENT DETAILS</h5>\r\n            <div style={{overflow:'auto',overflowX: 'hidden'}}>\r\n                <ul className=\"profile-info-list\">\r\n                    <li className='current' style={{width:'50%',float:'left',position:'relative'}}>\r\n                        <li>\r\n                            <div className=\"field\">Hospital Name:</div>\r\n                            <div className=\"value\">{getHospitalName(patients, hospitals)}</div>\r\n                        </li>\r\n                        <li>\r\n                            <div className=\"field\">Admitted Date:</div>\r\n                            <div className=\"value\">{patients.admittedDate}</div>\r\n                        </li>\r\n\r\n                        <li>\r\n                            <div className=\"field\">Ward No:</div>\r\n                            <div className=\"value\">{getCurrentWardName(wards, patients.ward)}</div>\r\n                        </li>\r\n                        <li>\r\n                            <div className=\"field\">Symptoms:</div>\r\n                            {objectDestructure(patients, \"symptoms\").length > 0 ? \r\n                            <ul className=\"value\">\r\n                                {objectDestructure(patients, \"symptoms\").map(p=> \r\n                                    // <p>{p.date} - {p.description}</p>\r\n                                    // <p>{p.date}</p>\r\n                                    p.description.map(q=> \r\n                                        <li>{p.date} - {q}</li>\r\n                                    )\r\n                                )}\r\n                            </ul> : \"No data\"}\r\n                        </li>\r\n                    </li>\r\n\r\n                    <li className='current' style={{width:'50%',float:'left',position:'relative'}}>\r\n                        <li>\r\n                            <div className=\"field\">Transfer Date:</div>\r\n                            <div className=\"value m-2\">Hospital Name: {} </div>\r\n                            <div className=\"value m-2\">Transfer State: </div>\r\n                            <div className=\"value m-2\">Transfer Date</div>\r\n                        </li>\r\n                        <li>\r\n                            <div className=\"field\">Drug Details:</div>\r\n                            {objectDestructure(patients, \"drugs\").length > 0 ? \r\n                            <ul className=\"value\">\r\n                                {objectDestructure(patients, \"drugs\").map(p=> \r\n                                    //<li>{p.date} - {p.description}</li>\r\n                                    p.description.map(q=> \r\n                                        <li>{p.date} - {q}</li>\r\n                                    )\r\n                                )}\r\n                            </ul> \r\n                            \r\n                            : \"No data\"}\r\n                        </li>\r\n                    </li>\r\n                </ul>\r\n                </div>\r\n                    {auth.role !== 'patient' && patients &&\r\n                    <div className='text-center m-2'>\r\n                        {currentHospital === userHospital ?<Button \r\n                            type='submit'  \r\n                            className='btn btn-primary m-2 text-center' \r\n                            onClick = { () => window.location=`/hospital/editCurrentDetails/${patients._id}`}\r\n                        >Update Details</Button> :\r\n                    <div>\r\n                        <Button className='btn btn-prymary m-2'>Accept</Button>\r\n                        <Button className='btn btn-danger m-2'>Decline</Button>\r\n                    </div> }\r\n                </div> }\r\n            </Card>\r\n    )\r\n}\r\n\r\nexport default CurrentInfo\r\n\r\nfunction objectDestructure ( histories, type){\r\n    let newList = \"\"\r\n    if(typeof(histories) === 'undefined' || histories.length === 0){\r\n         return newList\r\n    } \r\n \r\n    const {dischargeDate, drugDetails, symptoms } = histories\r\n    if(dischargeDate){\r\n        if(type === \"discharge\"){\r\n           return dischargeDate.changed\r\n        }\r\n   }\r\n    if(drugDetails){\r\n         if(type === \"drugs\"){\r\n            return drugDetails\r\n         }\r\n    }\r\n\r\n    if(symptoms){\r\n        if(type === \"symptoms\"){\r\n           return symptoms\r\n        }\r\n    }\r\n\r\n    return newList\r\n }\r\n\r\n function getHospitalName(patients, hospitals){\r\n     if(typeof(hospitals) === 'undefined' || hospitals.length === 0){\r\n         return \"\"\r\n     }\r\n     const hospitalId = patients.hospital \r\n     const hospitalName = hospitals.filter(p => p._id === hospitalId)\r\n     return hospitalName[0].name\r\n }\r\n\r\n function getCurrentWardName(wards, wardId){\r\n    if(typeof(wards) === 'undefined' || wards.length === 0){\r\n        return \"\"\r\n    }\r\n    const wardname = wards.filter(p=> p._id === wardId)\r\n   // console.log(wardname)\r\n    return wardname[0].name\r\n}\r\n","import React, {useEffect, useState} from 'react'\r\nimport {Card} from 'react-bootstrap'\r\nimport { loadPatients , getPatientById, getAllPatients, getPatientsLoadingStatus, updateTransferPatient, loadPatient} from '../../store/entities/patients';\r\n\r\nconst History = ({patientHistory, filteredHistory, hospital, ward}) => {\r\n   // console.log(patientHistory)\r\n   // console.log(filteredHistory)\r\n    console.log(hospital)\r\n    // const dispatch = useDispatch()\r\n    // const patientDetails = useSelector(getAllPatients);\r\n    // const patient = patientDetails.list\r\n    // const patientsLoading = useSelector(getPatientsLoadingStatus);\r\n    // const [filteredHistory, setFilteredHistory] = useState([])\r\n    // const [patientHistory, changeHistory ] = useState(filteredHistory) \r\n\r\n    return (\r\n        <Card className='m-2'>\r\n            <div style={{overflow:'auto',overflowX: 'hidden'}}>\r\n                <ul className=\"profile-info-list\">\r\n                    <li className='current' style={{width:'50%',float:'left',position:'relative'}}>\r\n                        <li>\r\n                            <div className=\"field\">Hospital Name:</div>\r\n                            {filteredHistory.length !== 0 ?\r\n                            <div className=\"value\">{hospital.name}</div>:''}\r\n                        </li>\r\n                        <li>\r\n                            <div className=\"field\">Admitted Date:</div>\r\n                            {filteredHistory.length !== 0 ?\r\n                            <div className=\"value\">{patientHistory.admittedDate}</div>:''}\r\n                        </li>\r\n                        <li>\r\n                            <div className=\"field\">Ward No:</div>\r\n                            <div className=\"value\">{ward.name}</div>\r\n                        </li>\r\n                        <li>\r\n                            <div className=\"field\">Symptoms:</div>\r\n                            {objectDestructure(patientHistory, \"symptoms\").length > 0 ? \r\n                            <ul className=\"value\">\r\n                                {objectDestructure(patientHistory, \"symptoms\").map(p=> \r\n                                    <li>{p.date} - {p.description}</li>\r\n                                )}\r\n                            </ul> \r\n                            \r\n                            : \"No data\"}\r\n                        </li>\r\n                    </li>\r\n\r\n                    <li className='current' style={{width:'50%',float:'left',position:'relative'}}>\r\n                        <li>\r\n                            <div className=\"field\">Discharged Date:</div>\r\n                            <div className=\"value\">{patientHistory.dischargeDate}</div>\r\n                        </li>\r\n                        <li>\r\n                            <div className=\"field\">Transfer Date:</div>\r\n                            <div className=\"value m-2\">Hospital Name:</div>\r\n                            <div className=\"value m-2\">Transfer State: </div>\r\n                            <div className=\"value m-2\">Transfer Date</div>\r\n                        </li>\r\n                        <li>\r\n                            <div className=\"field\">Drug Details:</div>\r\n                            {objectDestructure(patientHistory, \"drugs\").length > 0 ? \r\n                            <ul className=\"value\">\r\n                                {objectDestructure(patientHistory, \"drugs\").map(p=> \r\n                                    <li>{p.date} - {p.description}</li>\r\n                                )}\r\n                            </ul> \r\n                            \r\n                            : \"No data\"}\r\n                        </li>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default History\r\n\r\nfunction objectDestructure ( histories, type){\r\n    let newList = \"\"\r\n    if(typeof(histories) === 'undefined' || histories.length === 0){\r\n         return newList\r\n    } \r\n \r\n    const {drugDetails, symptoms } = histories\r\n    if(drugDetails){\r\n         if(type === \"drugs\"){\r\n            return drugDetails\r\n         }\r\n    }\r\n\r\n    if(symptoms){\r\n        if(type === \"symptoms\"){\r\n           return symptoms\r\n        }\r\n    }\r\n\r\n    return newList\r\n }\r\n\r\n function getHospitalName(patients, hospitals){\r\n    if(typeof(hospitals) === 'undefined' || hospitals.length === 0){\r\n        return \"\"\r\n    }\r\n    const hospitalId = patients.hospital \r\n    const hospitalName = hospitals.filter(p => p._id === hospitalId)\r\n    return hospitalName[0].name\r\n}\r\n\r\n function getCurrentWardName(wards, wardId){\r\n    if(typeof(wards) === 'undefined' || wards.length === 0){\r\n        return \"\"\r\n    }\r\n    const wardname = wards.filter(p=> p._id === wardId)\r\n    console.log(wardname)\r\n    return wardname[0].name\r\n}\r\n","// import React, {useEffect, useState} from 'react'\r\n\r\n\r\n// import {Container, Button, Card, Row, Col, Nav, Form} from 'react-bootstrap'\r\n// import Loader from '../../components/Loader'\r\n// import { useDispatch, useSelector } from 'react-redux';\r\n// //import { listPatientDetails } from '../../actions/patientActions'\r\n// import { loadPatients , getPatientById, getAllPatients, getPatientsLoadingStatus, updateTransferPatient} from '../../store/entities/patients';\r\n// import { Scrollbars } from 'react-custom-scrollbars';\r\n\r\n// const PatientProfile = ({value, history}) => {\r\n//     const dispatch = useDispatch()\r\n//     const patientId = (window.location.href.split('/')).pop()\r\n\r\n\r\n//     const patients = useSelector(getPatientById(patientId))\r\n\r\n//     const [ symptoms, setSymptoms ] = useState(['']);\r\n//     const [ drugs, setDrugs ] = useState(['']);\r\n\r\n//     const [tranferSt, transferState ] = useState('false');\r\n//     console.log(tranferSt);\r\n\r\n//     const hospitals = [{id:'1', name:'National Hospital of Sri Lanka'},{ id:'2', name:'Lady Ridgeway Hospital for Children'},\r\n//     {id:'3',name:'Castle Street Hospital for Women'}]\r\n\r\n//     const [hospitalName, setTransferHospital] = useState(hospitals[0].name)\r\n//     console.log(hospitalName)\r\n\r\n\r\n//    const patient = useSelector(getAllPatients);\r\n//   // console.log(patient)\r\n//    const patientsLoading = useSelector(getPatientsLoadingStatus);\r\n//    const [patientHistory, changeHistory ] = useState(patient[0]) \r\n\r\n//     const transferPatient = (TransferState) => {\r\n//         const transferUpdate = {\r\n//             patientId,\r\n//             transferDetails:{\r\n//                 hospitalName : hospitalName,\r\n//                 transferState : TransferState\r\n//             }\r\n//         }\r\n//         dispatch(updateTransferPatient(transferUpdate));\r\n//         if(TransferState == 'pending'){\r\n//             transferState(TransferState)\r\n//         }else{\r\n//             transferState('false')\r\n//         }\r\n//         console.log(hospitalName);\r\n//     }\r\n\r\n//     // const changeHistory = (patientDetails) =>{\r\n//     //     console.log(patientDetails);\r\n//     // }\r\n\r\n//     useEffect(() => {\r\n//         dispatch(loadPatients())\r\n\r\n//         if(symptoms.length ===1 && symptoms[0] ===''){\r\n//             if(patient.length !==0){\r\n//                 const selected = [patients.name];\r\n//                 setSymptoms(selected);\r\n//             }\r\n//         }\r\n\r\n//         if(drugs.length ===1 && drugs[0] ===''){\r\n//             if(patient.length !==0){\r\n//                 const selected = [patients.name];\r\n//                 setDrugs(selected);\r\n//             }\r\n//         }\r\n        \r\n//     }, [dispatch])\r\n\r\n//     return (\r\n\r\n//         <Container>\r\n//             <h1 style={{textAlign:'center'}}>Patient Profile</h1>\r\n//             <Col>\r\n//                 <div style={{width:'100%'}}>\r\n//                     <Row>\r\n//                         <div /*className=\"vs-col vs-xs- vs-sm-12\"*/style={{margin:'0%',width:'30%', position:'relative'}}>\r\n//                             <div className=\"set-animation from-left animate\">\r\n//                             <Card  className=\"m-2\" bg=\"#ffffff\" text=\"black\" style={{ width: '100%'}}>\r\n//                                 <h3 className=\"m-2\" style={{textAlign:'center'}}>Personal Details</h3>\r\n//                                 <Card.Body>\r\n//                                     <Card.Title>Name</Card.Title>\r\n//                                     <Card.Text>{patients.name}</Card.Text>\r\n//                                     <Card.Title>Date of Birth</Card.Title>\r\n//                                     <Card.Text>{patients.name}</Card.Text>\r\n//                                     <Card.Title>Age</Card.Title>\r\n//                                     <Card.Text>{patients.age}</Card.Text>\r\n//                                     <Card.Title>Address</Card.Title>\r\n//                                     <Card.Text>{patients.name}</Card.Text>\r\n//                                     <Card.Title>Phone number</Card.Title>\r\n//                                     <Card.Text>{patients.name}</Card.Text>\r\n//                                     <Button type='submit'  className='btn btn-primary' onClick={()=> window.location=`/hospital/editProfile/${patientId}`}>Edit Profile</Button><br/><br/>\r\n//                                 </Card.Body>\r\n//                             </Card>\r\n//                             </div>\r\n//                         </div>\r\n\r\n//                         <div /*className=\"vs-col vs-xs- vs-sm-12\"*/style={{margin:'0%',width:'70%', position:'relative'}}>\r\n//                             <div className=\"set-animation from-left animate\">\r\n//                             <Card className=\"m-2\" bg=\"#ffffff\" text=\"black\" style={{ width: '100%'}}>\r\n//                                 <h3 className=\"m-2\" style={{textAlign:'center'}}>Current Details</h3>\r\n//                                 <Card.Body>\r\n//                                     <Row>\r\n//                                         <div style={{width:'50%',float:'left'}}>\r\n//                                             <div className='ml-2 mb-2'>\r\n//                                                 <Card.Title>Hospital Name</Card.Title>\r\n//                                                 <Card.Text>{patients.name}</Card.Text>\r\n//                                                 <Card.Title>Admitted Date</Card.Title>\r\n//                                                 <Card.Text>{patients.name}</Card.Text>\r\n//                                                 <Card.Title>Doctor</Card.Title>\r\n//                                                 <Card.Text>{patients.name}</Card.Text>\r\n//                                                 <Card.Title>Symptoms</Card.Title>\r\n//                                                 <Card.Text>{patients.name}</Card.Text>\r\n//                                             </div>\r\n//                                         </div>\r\n\r\n//                                         <div style={{width:'50%',float:'left'}}>\r\n//                                             <div className='ml-2 mb-2'>\r\n//                                                 <Card.Title>Ward No</Card.Title>\r\n//                                                 <Card.Text>{patients.age}</Card.Text>\r\n//                                                 <Card.Title>Discharged Date</Card.Title>\r\n//                                                 <Card.Text>{patients.name}</Card.Text>\r\n//                                                 <Card.Title>Transfer Details</Card.Title>\r\n//                                                 <Card.Text>Hospital Name: {hospitalName} </Card.Text>\r\n//                                                 <Card.Text>Transfer Status: {tranferSt} </Card.Text>\r\n//                                                 <Card.Text>Transfer Date:  </Card.Text>\r\n//                                                 <Card.Title>Drug Details</Card.Title>\r\n//                                                 <Card.Text>{patients.name}</Card.Text>\r\n//                                             </div>\r\n//                                         </div>\r\n//                                     </Row>\r\n//                                     <Row>\r\n//                                     <br></br><Button \r\n//                                         type='submit'  \r\n//                                         className='btn btn-primary m-2' \r\n//                                         onClick = { () => history.push(`/hospital/editCurrentDetails/${patients._id}`)}\r\n//                                     >Update Details</Button>\r\n\r\n//                                     <br></br><Button \r\n//                                         type='submit'  \r\n//                                         className='btn btn-primary m-2' \r\n//                                         onClick = { () => history.push(`/hospital/editCurrentDetails/${patients._id}`)}\r\n//                                     >Discharge</Button>\r\n                                \r\n//                                     <br></br><Col style={{marginLeft:'10%'}}>\r\n//                                         <Form.Group>\r\n//                                                 <Form.Control onChange = {(e) => {\r\n//                                                     if(e.target.value !== \"Select Hospital\"){\r\n//                                                         setTransferHospital(e.target.value);\r\n//                                                     }\r\n//                                                 }} as=\"select\">\r\n//                                                      {hospitals.map((c,index) => <option selected={index === 0? 'slected': null}>{`${c.name}`}</option>)}\r\n//                                                 </Form.Control>\r\n//                                         </Form.Group>\r\n//                                     </Col>\r\n//                                     <br></br><Row style={{float:'right', marginRight:'5px'}}>\r\n//                                         <Button className='btn btn-primary m-2' disabled={tranferSt === 'pending' ? true : false} onClick={()=>transferPatient('pending')}>Transfer</Button>\r\n//                                         <Button className='btn btn-danger m-2' disabled={tranferSt === 'false'? true : false} onClick={()=>transferPatient('canceled')}>Cancel</Button>\r\n//                                     </Row>\r\n                                \r\n//                                     </Row>\r\n//                                 </Card.Body>\r\n//                             </Card>\r\n//                             </div>\r\n//                         </div>\r\n                       \r\n//                     </Row>\r\n//                 </div>\r\n\r\n//                 <div style={{width:'100%'}}>\r\n                                            \r\n//                     <Row>\r\n//                         <div /*className=\"vs-col vs-xs- vs-sm-12\"*/style={{margin:'0%',width:'30%', position:'relative'}}>\r\n//                             <div className=\"set-animation from-left animate\">\r\n//                             <Card className=\"m-2\" bg=\"#ffffff\" text=\"black\" style={{ width: '100%'}}>\r\n//                                 <h3 className=\"m-2\" style={{textAlign:'center'}}>Patient History</h3>\r\n//                                 <Scrollbars style={{ width: '100%', height: '26rem' , border:'1px black'}}>\r\n//                                     <ul className=\"m-2\">\r\n//                                     {patient.map( p=> \r\n//                                         <Button \r\n//                                             className=\"btn btn-light\"\r\n//                                             style={{width:'80%', borderRadius:'0px'}}\r\n//                                             onClick={()=>changeHistory(p)}\r\n//                                             >{p.name}</Button>)}\r\n//                                     </ul>\r\n//                                 </Scrollbars>\r\n//                             </Card>\r\n//                             </div>\r\n//                         </div>\r\n\r\n\r\n//                         <div /*className=\"vs-col vs-xs- vs-sm-12\"*/style={{margin:'0%',width:'70%', position:'relative'}}>\r\n//                             <div className=\"set-animation from-left animate\">\r\n//                             <Card className=\"m-2\" bg=\"#ffffff\" text=\"black\" style={{ width: '100%'}}>\r\n//                                 <h3 className=\"m-2\" style={{textAlign:'center'}}>Patient History</h3>\r\n//                                 <Card.Body>\r\n//                                     <Row>\r\n//                                         <div style={{width:'50%',float:'left'}}>\r\n//                                             <div className='ml-2 mb-2 details'>\r\n//                                                 <Card.Title>Hospital Name</Card.Title>\r\n//                                                 <Card.Text>{patientHistory.name}</Card.Text>\r\n//                                                 <Card.Title>Admitted Date</Card.Title>\r\n//                                                 <Card.Text>{patientHistory.name}</Card.Text>\r\n//                                                 <Card.Title>Doctor</Card.Title>\r\n//                                                 <Card.Text>{patientHistory.name}</Card.Text>\r\n//                                                 <Card.Title>Symptomes</Card.Title>\r\n//                                                 <Card.Text>{patientHistory.name}</Card.Text>\r\n//                                             </div>\r\n//                                         </div>\r\n\r\n//                                         <div style={{width:'50%',float:'left'}}>\r\n//                                             <div className='ml-2 mb-2'>\r\n//                                                 <Card.Title>Ward No</Card.Title>\r\n//                                                 <Card.Text>{patientHistory.age}</Card.Text>\r\n//                                                 <Card.Title>Discharged Date</Card.Title>\r\n//                                                 <Card.Text>{patientHistory.name}</Card.Text>\r\n//                                                 <Card.Title>Transfer Details</Card.Title>\r\n//                                                 <Card.Text>Hospital Name:  </Card.Text>\r\n//                                                 <Card.Text>Transfer Status: </Card.Text>\r\n//                                                 <Card.Text>Transfer Date:  </Card.Text>\r\n//                                                 <Card.Title>Drug Details</Card.Title>\r\n//                                                 <Card.Text>{patientHistory.name}</Card.Text>\r\n//                                             </div>\r\n//                                         </div>\r\n//                                     </Row>\r\n//                                 </Card.Body>\r\n//                             </Card>\r\n//                             </div>\r\n//                         </div>\r\n\r\n//                     </Row>\r\n//                 </div>\r\n//         </Col>\r\n//         </Container>    \r\n    \r\n//     )\r\n// }\r\n\r\n// export default PatientProfile\r\n\r\nimport React, {useEffect, useState} from 'react'\r\nimport {Container, Button, Card, Row, Col, Nav, Form,FormControl} from 'react-bootstrap'\r\nimport axios from 'axios';\r\nimport Loader from '../../components/Loader'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { loadPatient, getAllPatients} from '../../store/entities/patients';\r\nimport {getAllHospitals, loadHospitals} from '../../store/entities/hospitals'\r\nimport { Scrollbars } from 'react-custom-scrollbars';\r\nimport PersonalInfo from '../../components/patientProfile/PersonalInfo'\r\nimport CurrentInfo from '../../components/patientProfile/CurrentInfo'\r\nimport History from '../../components/patientProfile/History'\r\n\r\n\r\nconst PatientProfile =  ({match, history}) => {\r\n    const dispatch = useDispatch()\r\n    const patientId = match.params.id\r\n    \r\n    const userDetails = useSelector(state => state.auth);\r\n    const { user } = userDetails.data\r\n    const auth = user\r\n\r\n    console.log(user)\r\n\r\n    //const patients = useSelector(getAllPatients)\r\n    const [patients , setPatients] = useState([])\r\n    const hospitals = useSelector(getAllHospitals)\r\n    console.log(patients)\r\n\r\n    const [startDate, setStartDate] = useState('');\r\n    const [endDate, setEndDate] = useState('');\r\n\r\n   const [filteredHistory, setFilteredHistory] = useState([])\r\n   const [patientHistory, changeHistory ] = useState(filteredHistory) \r\n   const [findHistory, setfindHistory] = useState(false)\r\n\r\n    const setDates = (date, type) =>{\r\n        if(type === 'start'){\r\n            setStartDate(date);\r\n        }else{\r\n            setEndDate(date)\r\n        }\r\n    }\r\n\r\n    const searchHistory =() =>{\r\n        if(startDate <= endDate){\r\n            let medicalHistories = getMedicalHistories(startDate, endDate, patients);\r\n           // console.log(medicalHistories)\r\n            changeHistory(medicalHistories)\r\n            setFilteredHistory(medicalHistories);\r\n            setfindHistory(true)\r\n        }\r\n\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        //dispatch(loadPatient())\r\n        const fetchPatient = async () => {\r\n            const {data} = await axios.get(`http://localhost:8000/api/v1/patients/${patientId}`)\r\n            setPatients(data.data)\r\n        }\r\n\r\n        fetchPatient()\r\n\r\n        dispatch(loadHospitals())\r\n        \r\n    }, [patients])\r\n\r\n    return (\r\n        <Container>\r\n            {userDetails.loggedIn ? \r\n            <div>\r\n                <h4 style={{textAlign:'center', fontWeight:'700'}}>PATIENT PROFILE</h4>\r\n                <div className=\"vs-row top-content\" style={{display:'flex', width:'100%'}}>\r\n                    \r\n                    <div className=\"vs-col vs-xs- vs-sm-12 vs-lg-3\"style={{margin:'0%',width:'100%', position:'relative'}}>\r\n                        <div className=\"set-animation from-left animate\">\r\n                            <PersonalInfo patients={objectDestructure(auth, \"user\")} /*currentHospital={currentHospital_id}\r\n                                userHospital={userHospital_id} id={patients ._id}*/>\r\n                            </PersonalInfo>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"vs-col vs-xs- vs-sm-12 vs-lg-6\"style={{margin:'0%',width:'100%', position:'relative'}}>\r\n                        <div className=\"set-animation from-left animate\">\r\n                            {patients.currentMedicalHistory ?\r\n                                <CurrentInfo patients={objectDestructure(patients, \"history\").slice(-1)[0]}\r\n                                   /* userHospital={userHospital_id} currentHospital={currentHospital_id} hospitals={hospitals}*/\r\n                                ></CurrentInfo> : \r\n\r\n                                <CurrentInfo patients={\"\"} currentHospital={\"\"}\r\n                                    userHospital={\"\"}\r\n                                ></CurrentInfo>}\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                    {/* {auth.role !== 'patient' &&\r\n                    <div className=\"vs-col vs-xs- vs-sm-12 vs-lg-3\" style={{margin:'0%',width:'100%', position:'relative'}}>\r\n                            <div className=\"set-animation from-left animate\">\r\n                            {currentHospital_id === userHospital_id ? \r\n                                <Actions patients={patients} hospitals={hospitals} wards ={wardsDetails} popUpHandler={setPopUp}></Actions> \r\n                               //<Card>rfergre</Card>\r\n                                :''\r\n                            }\r\n                            </div>\r\n                    </div> } */}\r\n                </div>\r\n\r\n                <div className=\"vs-row top-content\" style={{display:'flex', width:'100%'}}>\r\n                    <div className=\"vs-col vs-xs vs-sm-12 vs-lg-3\" style={{marginLeft:'0%',marginRight:'0%',width:'100%'}}>\r\n                        <Card className='m-2'>\r\n                            <h5 className=\"m-2 font-weight-bold\" style={{textAlign:'center'}}>SEARCH MEDICAL HISTORY</h5>\r\n                            <Form.Group as={Col} controlId='sd'>\r\n                                <Form.Label class=\"float-left\" className = 'form-label'>Start Date:</Form.Label>\r\n                                <Form.Control \r\n                                    type='date'\r\n                                    name='start_date' \r\n                                    onChange={(e)=>{\r\n                                        setDates(e.target.value, 'start')\r\n                                    }}\r\n                                    required\r\n                                />\r\n                            <FormControl.Feedback type='invalid'>This field is required!</FormControl.Feedback>\r\n                            </Form.Group>\r\n\r\n                            <Form.Group as={Col} controlId='ed'>\r\n                                <Form.Label class=\"float-left\" className = 'form-label'>End Date:</Form.Label>\r\n                                <Form.Control \r\n                                    type='date'\r\n                                    name='end_date' \r\n                                    onChange={(e)=>{\r\n                                        setDates(e.target.value, 'end')\r\n                                    }}\r\n                                    required\r\n                                />\r\n                            <FormControl.Feedback type='invalid'>This field is required!</FormControl.Feedback>\r\n                            </Form.Group>\r\n                            \r\n                            { startDate !== '' && endDate !== '' && startDate > endDate ?\r\n                            <Card \r\n                                style={{backgroundColor:'#fca8a4', color:'#b73333', opacity:'0.5', padding:'10px', margin:'5px'}}\r\n                                className='m-2'\r\n                            >Start date must be past to the end date</Card> : ''}\r\n                            { startDate !== '' && endDate !== '' && filteredHistory.length === 0 && findHistory?\r\n                            <Card \r\n                                style={{backgroundColor:'#fca8a4', color:'#b73333', opacity:'0.5', padding:'10px', margin:'5px'}}\r\n                                className='m-2'\r\n                            >No Medical History Data</Card> : ''}\r\n                            <Button \r\n                                className='btn btn-primary m-2'\r\n                                disabled ={startDate === '' || endDate === ''}\r\n                                onClick= {() => searchHistory()} \r\n                            >Search</Button>\r\n\r\n                        </Card>\r\n                    </div>\r\n\r\n\r\n                    <div className=\"vs-col vs-xs vs-sm-12 vs-lg-6\" style={{marginLeft:'0%',marginRight:'0%',width:'100%'}}>\r\n                        <History patientHistory={patientHistory} filteredHistory={filteredHistory} hospital={getHospitalName(filteredHistory, hospitals)}></History>\r\n                    </div>\r\n                    \r\n                    {filteredHistory.length !== 0 &&\r\n                    <div className=\"vs-col vs-xs vs-sm-12 vs-lg-3\" style={{marginLeft:'0%',marginRight:'0%',width:'100%'}}>\r\n                    <Card className='m-2'>\r\n                       \r\n                        <div>\r\n                            <h5 className='text-center m-2 font-weight-bold'>MEDICAL HISTORY LIST</h5>\r\n                            <Scrollbars style={{ width: '100%',minHeight:'15rem', height:'auto', overflowX:'hidden', border:'1px black'}}>\r\n                                <ul className=\"m-2\">\r\n                                {filteredHistory.map( p=> \r\n                                    <Button \r\n                                        className=\"btn btn-light\"\r\n                                        style={{width:'80%', borderRadius:'0px'}}\r\n                                        onClick={()=>changeHistory(p)}\r\n                                        >\r\n                                        {p.admittedDate}\r\n                                    </Button>)}\r\n                                </ul>\r\n                            </Scrollbars>\r\n                        </div>\r\n                    </Card>\r\n                    </div>}\r\n\r\n                    \r\n\r\n                </div>\r\n            </div>: history.push('/')}\r\n\r\n             {/* <AlertDialog dialogSet={popup} closePopUp={setPopUp}  dischargeHandler={setDischargeHandler}/> */}\r\n            \r\n        </Container>    \r\n    \r\n    )\r\n}\r\n\r\n\r\nexport default PatientProfile\r\n\r\n\r\nexport function getMedicalHistories(start_date, end_date, patients){\r\n    const histories = objectDestructure(patients, \"history\")\r\n    if(histories !== \"\"){\r\n        //console.log(histories)\r\n        return histories.filter ( p=> p.admittedDate >= start_date && p.admittedDate <= end_date)\r\n    }\r\n    return \"\"\r\n}\r\n\r\nexport function objectDestructure ( patients, type){\r\n    let newList = \"\"\r\n    if(typeof(patients) === 'undefined' || patients.length === 0){\r\n         return newList\r\n    } \r\n \r\n    const {medicalHistory, user } = patients\r\n    if(user){\r\n         if(type === \"user\"){\r\n            return user\r\n         }\r\n    }\r\n\r\n    if(medicalHistory){\r\n        if(type === \"history\"){\r\n           return medicalHistory\r\n        }\r\n    }\r\n\r\n    return newList\r\n}\r\n\r\nfunction getHospitalName(filteredhistory, hospitals){\r\n   // console.log(filteredhistory)\r\n    if(filteredhistory.length === 0){\r\n        return \"\"\r\n    }\r\n    const hospitalName = hospitals.filter(p=> p._id === filteredhistory[0].hospital)\r\n    return hospitalName[0]\r\n}\r\n\r\nfunction getCurrentHospitalId(patients){\r\n    let id = \"\"\r\n    if(typeof(patients) === 'undefined' || patients.length === 0){\r\n         return id\r\n    } \r\n\r\n    if(patients.currentMedicalHistory){\r\n        const lastHistory = patients.medicalHistory.slice(-1)[0]\r\n        return lastHistory.hospital\r\n    }\r\n}\r\n\r\n","import React from 'react'\r\n\r\nconst FigureOne = ({values}) => {\r\n    const {totalActiveCases, totalDeaths, totalRecovered } = values\r\n    return (\r\n        <div>\r\n            <div style={{justifyContent:'center'}}>\r\n                <h4 style={{textAlign:'center',margin:'1%'}}>Total Figures</h4>\r\n            </div>\r\n            <div style={{margin:'1%',justifyContent:'center'}}>\r\n                <div className='figures-div' style={{display:'flex'}}>\r\n                    <div>\r\n                        <i className='fa fa-hospital-alt' style={{fontSize:'30px', color:'#6b85de',margin:'20px'}}></i>\r\n                    </div>\r\n                    <div>\r\n                        <h3 style={{fontSize:'14px'}}>Total Cases</h3>\r\n                        <h1 style={{color:'#6b85de', float:'left'}}>{formatNumber(totalActiveCases)}</h1>\r\n                    </div>\r\n                </div>\r\n                <div className='figures-div' style={{display:'flex'}}>\r\n                    <div>\r\n                        <i className='fa fa-bed' style={{fontSize:'30px', color:'#ff8c84',margin:'20px'}}></i>\r\n                    </div>\r\n                    <div>\r\n                        <h3 style={{fontSize:'14px'}}>Deaths</h3>\r\n                        <h1 style={{color:'#ff8c84', float:'left'}}>{formatNumber(totalDeaths)}</h1>\r\n                    </div>\r\n                </div>\r\n                <div className='figures-div' style={{display:'flex'}}>\r\n                    <div>\r\n                        <i className='fa fa-running' style={{fontSize:'40px', color:'#7dca53',margin:'20px'}}></i>\r\n                    </div>\r\n                    <div>\r\n                        <h3 style={{fontSize:'14px'}}>Recovered</h3>\r\n                        <h1 style={{color:'#7dca53', float:'left'}}>{formatNumber(totalRecovered)}</h1>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FigureOne\r\n\r\nexport const formatNumber = inputNumber => {\r\n    let formetedNumber=(Number(inputNumber)).toFixed(2).replace(/\\d(?=(\\d{3})+\\.)/g, '$&,');\r\n    let splitArray=formetedNumber.split('.');\r\n    if(splitArray.length>1){\r\n      formetedNumber=splitArray[0];\r\n    }\r\n    return(formetedNumber);\r\n  };","import React from 'react'\r\n\r\nconst FigureTwo = ({values}) => {\r\n    const { nohospital, totalBeds, freeBeds} = values\r\n   // console.log(details);\r\n    return (\r\n        <div>\r\n            <div style={{justifyContent:'center'}}>\r\n                <h4 style={{textAlign:'center',margin:'1%'}}>Total Figures</h4>\r\n            </div>\r\n            <div style={{margin:'1%',justifyContent:'center'}}>\r\n                <div className='figures-div' style={{display:'flex'}}>\r\n                    <div>\r\n                        <i className='fa fa-hospital-alt' style={{fontSize:'30px', color:'#6b85de',margin:'20px'}}></i>\r\n                    </div>\r\n                    <div>\r\n                        <h3 style={{fontSize:'14px'}}>Total Hospitals</h3>\r\n                        <h1 style={{color:'#6b85de', float:'left'}}>{formatNumber(nohospital)}</h1>   \r\n                    </div>\r\n                </div>\r\n                <div className='figures-div' style={{display:'flex'}}>\r\n                    <div>\r\n                        <i className=\"fa fa-plus-circle\" aria-hidden=\"true\" style={{fontSize:'40px', color:'#ff8c84',margin:'20px'}}></i>\r\n                    </div>\r\n                    <div>\r\n                        <h3 style={{fontSize:'14px'}}>Total Beds</h3>\r\n                        <h1 style={{color:'#ff8c84', float:'left'}}>{formatNumber( totalBeds)}</h1>\r\n                    </div>\r\n                </div>\r\n                <div className='figures-div' style={{display:'flex'}}>\r\n                    <div>\r\n                        <i className='fa fa-procedures' style={{fontSize:'30px', color:'#fdb01a',margin:'20px'}}></i>\r\n                    </div>\r\n                    <div>\r\n                        <h3 style={{fontSize:'14px'}}>Total Beds Left</h3>\r\n                        <h1 style={{color:'#fdb01a', float:'left'}}>{formatNumber(freeBeds)}</h1>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FigureTwo\r\n\r\nexport const formatNumber = inputNumber => {\r\n    let formetedNumber=(Number(inputNumber)).toFixed(2).replace(/\\d(?=(\\d{3})+\\.)/g, '$&,');\r\n    let splitArray=formetedNumber.split('.');\r\n    if(splitArray.length>1){\r\n      formetedNumber=splitArray[0];\r\n    }\r\n    return(formetedNumber);\r\n  };","import React from 'react'\r\nimport ReactApexChart from \"react-apexcharts\";\r\nimport Loader from '../components/Loader'\r\n\r\n\r\nfunction HorizontalBarGraph({keys, values}) {\r\n  const districts = getTopTen(keys);\r\n  const positiveCases = getTopTen(values)\r\n // console.log(districts)\r\n   // const config = {\r\n      const series = [{\r\n         //data: [400, 430, 448, 470, 540, 580, 690, 1100, 1200, 1380]\r\n         data: positiveCases,\r\n       }];\r\n       const options= {\r\n           plotOptions:{\r\n               bar:{\r\n                   horizontal:true,\r\n                   dataLabels:{\r\n                       enabled:true\r\n                   },\r\n               }\r\n           },\r\n           xaxis: {\r\n            // categories: ['South Korea', 'Canada', 'United Kingdom', 'Netherlands', 'Italy', 'France', 'Japan',\r\n            //   'United States', 'China', 'Germany']\r\n            categories : districts,\r\n        }\r\n       }\r\n        \r\n  //   } \r\n\r\n  return (\r\n    <>\r\n    {!districts && !positiveCases &&  (<Loader></Loader>)}\r\n    <div\r\n      style={{\r\n        backgroundColor: \"white\",\r\n        textAlign: \"center\",\r\n      }}\r\n    >\r\n      <br />\r\n      <ReactApexChart \r\n        options={options} \r\n        series={series} \r\n        type=\"bar\" \r\n      />\r\n    </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default HorizontalBarGraph;\r\n\r\nfunction getTopTen(list){\r\n  if(list){\r\n    return list.slice(0,10)\r\n  }\r\n  return \r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios';\r\nimport FigureOne from '../../components/healthMinistryComponents/FigureOne'\r\nimport FigureTwo from '../../components/healthMinistryComponents/FigureTwo'\r\nimport PieChart from '../../components/PieChart'\r\nimport BarChart from '../../components/BarChart'\r\nimport HorizontalBarChart from '../../components/HorizontalBarChart'\r\nimport { Card } from 'react-bootstrap'\r\n\r\nconst Dashboard = () => {\r\n\r\n    const [figureOne, setFigureOne] = useState('')\r\n    const [figureTwo, setFigureTwo] = useState('')\r\n    const [chart, setChart] = useState('')\r\n    const [district, setDistrict] = useState([])\r\n   // console.log(district)\r\n    const [districtValues, setDistrictValues] = useState([])\r\n    //console.log(districtValues)\r\n\r\n\r\n    const hospitals = [ 'National Hospital of Sri Lanka', 'Lady Ridgeway Hospital for Children',\r\n                        'Castle Street Hospital for Women', 'Base Hospital Mulleriyawa',\r\n                        'North Colombo Teaching Hospital','District General Hospital Negombo',\r\n                        'District General Hospital Gampaha','National Hospital Kandy',\r\n                        'Teaching Hospital Karapitiya','District General Hospital Hambantota']\r\n    ///const districts = ['Colombo','Gampaha','Kalutara','Galle','Kandy','Matara','Kurunegala','Jaffna','Anuradhapura','Puttalam']\r\n\r\n    useEffect(() => {\r\n\r\n        const fetchOverall = async () => {\r\n            const response = await axios.request({\r\n                url: 'http://localhost:8000/api/v1/dashboard/publicdashboard',\r\n                method: 'get',\r\n                data: {},\r\n            });\r\n\r\n            const response2 = await axios.request({\r\n                url: 'http://localhost:8000/api/v1/dashboard/1',\r\n                method: 'get',\r\n                data: {},\r\n            });\r\n\r\n\r\n            if (response){\r\n                const {dashboard, history, hospital} = response.data.data;\r\n\r\n                const {totalActiveCases, totalDeaths, totalRecovered} = dashboard\r\n                const valueSet_1 = {\r\n                    totalActiveCases:totalActiveCases,\r\n                    totalDeaths:totalDeaths,\r\n                    totalRecovered : totalRecovered\r\n                }\r\n                setFigureOne(valueSet_1)\r\n\r\n                const {nohospital, totalBeds, freeBeds, admittedPatients} = hospital\r\n                const valueSet_2 = {\r\n                    nohospital:nohospital,\r\n                    totalBeds:totalBeds,\r\n                    freeBeds : freeBeds\r\n                }\r\n                setFigureTwo(valueSet_2)\r\n                \r\n                const valueSet_4 = {\r\n                    firstValue:admittedPatients,\r\n                    secondValue : freeBeds\r\n                }\r\n                setChart(valueSet_4)\r\n\r\n              //  console.log(dashboard)\r\n               // const {districtTotals} = data.total\r\n                setDistrict(Object.keys(dashboard['districtTotals']))\r\n                setDistrictValues(Object.values(dashboard['districtTotals']))\r\n               // setCases(Object.values(data2['timeline']['cases']))\r\n                //console.log(districtTotals)\r\n            }\r\n        }\r\n\r\n        fetchOverall()\r\n\r\n     },[])\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"vs-row top-content\" style={{display:'flex', width:'100%'}}>\r\n                    <div className=\"vs-col vs-xs- vs-sm-12 vs-lg-3\"style={{margin:'0%',width:'100%', position:'relative'}}>\r\n                         <div className=\"set-animation from-left animate\">\r\n                            <Card className='m-2 con-vs-card text-center'>\r\n                                <FigureOne values={figureOne}></FigureOne>\r\n                            </Card>\r\n                         </div>\r\n\r\n                     </div>\r\n\r\n                    <Card className=\"vs-col vs-xs vs-sm-12 vs-lg-6 mt-2 mb-2\" style={{margin:'0%',width:'100%'}}>\r\n                         <div>\r\n                             <h3 style={{textAlign:'center', margin:'2%'}}>Total vs Active Cases (SL)</h3>\r\n                         </div>\r\n                         <div style={{position:'relative' ,margin:'2%'}}>\r\n                            <PieChart values={chart}/>\r\n                         </div> \r\n                    </Card>\r\n        \r\n                     <div className=\"vs-col vs-xs- vs-sm-12 vs-lg-3\" style={{margin:'0%',width:'100%', position:'relative'}}>\r\n                        <div className=\"set-animation from-left animate\">\r\n                            <Card className='m-2 con-vs-card text-center'>\r\n                                <FigureTwo values={figureTwo}></FigureTwo>\r\n                            </Card>\r\n                         </div>\r\n                     </div>\r\n            </div>\r\n\r\n            <div className=\"vs-row top-content\" style={{display:'flex', width:'100%'}}>\r\n                <div className=\"vs-col vs-xs vs-sm-12 vs-lg-6\" style={{marginLeft:'0%',marginRight:'0%',width:'100%'}}>\r\n                    <Card className='m-2'>\r\n                        <div style={{position:'relative' ,margin:'2%'}}>\r\n                        <h3 style={{textAlign:'center', margin:'2%'}}>Most Covid Patient Admitted Hospitals</h3>\r\n                        </div>\r\n                        <div style={{position:'relative' ,margin:'2%'}}>\r\n                            <HorizontalBarChart keys={hospitals} values={districtValues}></HorizontalBarChart>\r\n                        </div>\r\n                    </Card>\r\n                </div>\r\n\r\n\r\n                <div className=\"vs-col vs-xs vs-sm-12 vs-lg-6\" style={{marginLeft:'0%',marginRight:'0%',width:'100%'}}>\r\n                    <Card className='m-2'>\r\n                        <div style={{position:'relative' ,margin:'2%'}}>\r\n                        <h3 style={{textAlign:'center', margin:'2%'}}>Most Covid Patient Recorded Districts</h3>\r\n                        </div>\r\n                        <div style={{position:'relative' ,margin:'2%'}}>\r\n                            <HorizontalBarChart keys={district} values={districtValues}></HorizontalBarChart>\r\n                        </div>\r\n                    </Card>\r\n                </div>\r\n            </div>\r\n\r\n         </div>\r\n    )\r\n}\r\n\r\nexport default Dashboard\r\n","import { createAction } from '@reduxjs/toolkit';\r\n\r\nexport const toastAction = createAction(\"toast\");\r\n\r\nexport const invokeToast = (message, type) => toastAction({message, type});","import Container from 'react-bootstrap/Container';\r\nimport {Form, Button, Col, FormControl, Row} from 'react-bootstrap';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { addHospital, getHospitalAddedStatus} from '../../store/entities/hospitals';\r\nimport { toastAction } from '../../store/toastActions';\r\nimport Box from '@mui/material/Box';\r\n\r\nexport default function AddHospital(props) {\r\n    const validateContact = (contact) => {\r\n        const reg = /^(0)([0-9]{9})$/;\r\n        return reg.test(contact);\r\n    }\r\n\r\n    const validateName = (name) =>{\r\n        const reg = /^[A-Za-z\\b]+$/;\r\n        return reg.test(name)\r\n    } \r\n    \r\n    const validateCity = (city) =>{\r\n        const reg = /^[A-Za-z\\b]+$/;\r\n        return reg.test(city)\r\n    } \r\n\r\n    const dispatch = useDispatch();\r\n    const hospitalAddedStatus = useSelector(getHospitalAddedStatus);\r\n\r\n    const [name, setName] = useState('');\r\n    const [contact, setContact] = useState('');\r\n    const [district, setDistrict] = useState('');\r\n    const [city, setCity] = useState('');\r\n    const [province, setProvince] = useState('');\r\n    const [userState, setUserState] = useState(false)\r\n\r\n\r\n    const submitHandler = (e) => {\r\n      e.preventDefault();\r\n      let hospital= {\r\n          name: name,\r\n          Contact: [contact],\r\n          address: {\r\n              district : district,\r\n              city : city,\r\n              province : province\r\n          },\r\n      }\r\n      if (!validateName(name)) {\r\n        alert(\"Hospital Name should not include digits\");\r\n        }\r\n        else if (!validateContact(contact)) {\r\n            alert(\"Enter valid telephone number\");\r\n        }\r\n        else if (!validateCity(city)) {\r\n            alert(\"City should not include digits\");\r\n        }else{\r\n            dispatch(addHospital(hospital));\r\n            setUserState(true);\r\n        }     \r\n    };\r\n\r\n    useEffect(() => {\r\n        if(hospitalAddedStatus.hospitalAdded && userState){\r\n          setUserState(false)\r\n          dispatch(toastAction({ message: \"Hospital Added Successfully\", type: 'info' }))\r\n            window.location.href = \"/healthMinistry/hospital\";\r\n        }\r\n     },[dispatch, hospitalAddedStatus])\r\n        \r\n    return (\r\n           <Container > \r\n        <Box sx={{ bgcolor: '#cfe8fc', height: '850px' }}>\r\n        <div className=\"col-10 mx-auto banner text-center\"><br/>\r\n            <h3 className=\"text-capitalize\">\r\n                    <strong className=\"banner-title\">Want to Add NEW HOSPITAL?</strong></h3></div>\r\n                <Form className=\"form\" onSubmit={submitHandler}>\r\n                    <Form.Group as={Col} controlId='name'>\r\n                    <Form.Label class=\"float-left\" className = 'form-label'><strong>HOSPITAL NAME:</strong></Form.Label>\r\n                    <Col sm={12}>\r\n                    <Form.Control \r\n                        type='text'\r\n                        id='name' \r\n                        placeholder='Enter Hospital Name'\r\n                        onChange={(e) => setName(e.target.value)}\r\n                        // size='sm'\r\n                        required\r\n                    />\r\n                    </Col>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group as={Col}  controlId='contact'>\r\n                    <Form.Label class=\"float-left\" className = 'form-label' ><strong>CONTACT NUMBER:</strong></Form.Label>\r\n                    <Col sm={12}>\r\n                    <Form.Control \r\n                        type='number'\r\n                        id='contact'\r\n                        placeholder=\"0XXXXXXXXX\"  \r\n                        // size = 'sm'\r\n                        required\r\n                        onChange={(e) => setContact(e.target.value)} \r\n                    />  \r\n                    <small>*Should start with 0 <br/>*Should consist of 10 digits</small>\r\n                    </Col>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group as={Col} controlId=\"formCity\">\r\n                                <Form.Label class=\"float-left\" className = 'form-label'><strong>CITY:</strong></Form.Label>\r\n                                <Col sm={12}>\r\n                                <Form.Control\r\n                                type=\"text\"\r\n                                id=\"city\"\r\n                                // size = 'sm'\r\n                                required \r\n                                placeholder='Enter City'\r\n                                onChange={(e) => setCity(e.target.value)}/>\r\n                                </Col>\r\n                    </Form.Group>\r\n                    \r\n                    <Form.Group  as={Col} controlId=\"formDistrict\">\r\n                                <Form.Label class=\"float-left\" className = 'form-label'><strong>DISTRICT:</strong></Form.Label>\r\n                                <Col sm={12}>\r\n                                <Form.Control \r\n                                as=\"select\" \r\n                                id=\"district\" \r\n                                onChange={(e) => setDistrict(e.target.value)}\r\n                                required>\r\n                                    <option value=\"\" disabled selected >Select Here </option>\r\n                                    <option value=\"Colombo\">Colombo</option>\r\n                                    <option value=\"Gampaha\">Gampaha</option>\r\n                                    <option value=\"Kalutara\">Kalutara</option>\r\n                                    <option value=\"Kandy\">Kandy </option>\r\n                                    <option value=\"Matale\">Matale </option>\r\n                                    <option value=\"Nuwera-Eliya\">Nuwera-Eliya</option>\r\n                                    <option value=\"Galle\">Galle </option>\r\n                                    <option value=\"Matara\">Matara</option>\r\n                                    <option value=\"Hambantota\">Hambantota </option>\r\n                                    <option value=\"Jaffna\">Jaffna </option>\r\n                                    <option value=\"Mannar\">Mannar</option>\r\n                                    <option value=\"Vavuniya\">Vauniya </option>\r\n                                    <option value=\"Mulathivu\">Mulathivu </option>\r\n                                    <option value=\"Kilinochchi\">Kilinochchi </option>\r\n                                    <option value=\"Batticaloa\">Batticaloa</option>\r\n                                    <option value=\"Trincomalee\">Trincomalee  </option>\r\n                                    <option value=\"Kurunegala\">Kurunegala   </option>\r\n                                    <option value=\"Puttalam\">Puttalam  </option>\r\n                                    <option value=\"Anuradhapura\">Anuradhapura   </option>\r\n                                    <option value=\"Polonnaruwa\">Polonnaruwa   </option>\r\n                                    <option value=\"Badulla\">Badulla  </option>\r\n                                    <option value=\"Monaragala\">Monaragala   </option>\r\n                                    <option value=\"Rathnapura\">Rathnapura   </option>\r\n                                    <option value=\"Kegalle\">Kegalle </option>\r\n                                    </Form.Control>\r\n                                </Col>\r\n                            </Form.Group>\r\n\r\n                            <Form.Group as={Col}  controlId=\"formProvince\">\r\n                                <Form.Label class=\"float-left\" className = 'form-label' ><strong>PROVINCE:</strong></Form.Label>\r\n                                <Col sm={12}>\r\n                                <Form.Control \r\n                                as=\"select\" \r\n                                id=\"province\" \r\n                                onChange={(e) => setProvince(e.target.value)}\r\n                                required>\r\n                                    <option value=\"\" disabled selected >Select Here </option>\r\n                                    <option value=\"Central\">Central Province</option>\r\n                                    <option value=\"Eastern\">Eastern Province</option>\r\n                                    <option value=\"Northern\">Northern Province</option>\r\n                                    <option value=\"Southern\">Southern Province </option>\r\n                                    <option value=\"Western\">Western Province </option>\r\n                                    <option value=\"North Western\">North Western Province </option>\r\n                                    <option value=\"North Central\">North Central Province </option>\r\n                                    <option value=\"Uva\">Uva Province </option>\r\n                                    <option value=\"Sabaragamuwa\">Sabaragamuwa Province </option>\r\n                                    \r\n                                    </Form.Control>\r\n                                </Col>\r\n                                </Form.Group>\r\n                            \r\n                        <div class=\"horizontal-center\"> \r\n                        <Button variant=\"primary\" type=\"submit\">ADD NEW HOSPITAL</Button>\r\n                        </div>\r\n                </Form>\r\n                </Box>\r\n            </Container>            \r\n        );\r\n    }\r\n","import { createSlice} from '@reduxjs/toolkit'\r\nimport { apiCallBegan } from '../apiActions';\r\nimport { createSelector } from 'reselect';\r\nimport configData from '../../config.json';\r\nimport moment from 'moment';\r\n\r\nconst slice = createSlice({\r\n    name: \"users\",\r\n    initialState: {\r\n        list: [],\r\n        loading: false,\r\n        lastFetch: null,\r\n        userAdded: false,\r\n        isEmailSent: false,\r\n        isPasswordReset: false,\r\n    },\r\n\r\n    reducers: {\r\n        userCreateRequested(user, action) {\r\n            user.loading = true;\r\n            user.userAdded = false;\r\n        },\r\n\r\n        userCreateRequestFailed(user, action){\r\n            user.loading = false;\r\n        },\r\n\r\n        userCreateRequestSucceeded(user, action){\r\n            user.loading = false;\r\n            user.userAdded = true\r\n        },\r\n        \r\n        userRequested(user, action){\r\n            user.loading = true;\r\n        },\r\n\r\n\r\n        userRequestFailed(user, action){\r\n            user.loading = false;\r\n            \r\n        },\r\n\r\n        userReceived(users, action){\r\n            users.list = action.payload.data.users;\r\n            users.loading = false;\r\n            users.lastFetch = Date.now();\r\n        },\r\n\r\n        sendMAilSuccess(users, action){\r\n            users.isEmailSent = true \r\n        },\r\n\r\n        sendMailFailed(users, action){\r\n            users.isEmailSent = false\r\n        },\r\n\r\n        resetPasswordSuccess(users, action){\r\n            users.isPasswordReset = true\r\n            console.log(action.payload.status)\r\n        },\r\n\r\n        resetPasswordFailed(users, action){\r\n            users.isPasswordReset = false\r\n            console.log(action.payload.status)\r\n        }\r\n\r\n        // userUpdated(user, action){\r\n        //     console.log(action.payload.data.user)\r\n        // },\r\n    }\r\n});\r\n\r\nexport default slice.reducer;\r\n\r\nexport const {\r\n    userRequested,\r\n    userRequestFailed,\r\n    userReceived,\r\n    userCreateRequested,\r\n    userCreateRequestFailed,\r\n    userCreateRequestSucceeded,\r\n    sendMAilSuccess,\r\n    sendMailFailed,\r\n    resetPasswordSuccess,\r\n    resetPasswordFailed\r\n   // userUpdated,\r\n} =slice.actions;\r\n\r\nconst userURL = \"/api/v1/\";\r\nconst refreshTime = configData.REFRESH_TIME;\r\n\r\nexport const loadUsers = () => (dispatch, getState) => {\r\n    const { lastFetch } = getState().entities.user;\r\n\r\n    const diffInMinutes = moment().diff(moment(lastFetch), \"minutes\");\r\n    if (diffInMinutes < refreshTime) return;\r\n    \r\n    return dispatch(\r\n        apiCallBegan({\r\n            url: userURL + 'users',\r\n            onStart: userRequested.type,\r\n            onSuccess: userReceived.type,\r\n            onError: userRequestFailed.type\r\n        })\r\n    );\r\n};\r\n\r\nexport const addUser = (user) => (dispatch) => {\r\n    console.log(user)\r\n    return dispatch(\r\n        apiCallBegan({\r\n            url: userURL + 'users/signup',\r\n            method: \"post\",\r\n            data: user,\r\n            onStart: userCreateRequested,\r\n            onSuccess: userCreateRequestSucceeded.type,\r\n            onError: userCreateRequestFailed\r\n        })\r\n    );\r\n}\r\n\r\nexport const forgotPassword = (user) => (dispatch) => {\r\n    console.log(user)\r\n    return dispatch(\r\n        apiCallBegan({\r\n            url: userURL + 'users/forgotpassword',\r\n            method: \"post\",\r\n            data: user,\r\n            onSuccess: sendMAilSuccess,\r\n            onError: sendMailFailed,\r\n        })\r\n    );\r\n}\r\n\r\nexport const resetPassword = (user, token) => (dispatch) => {\r\n    console.log(user)\r\n    return dispatch(\r\n        apiCallBegan({\r\n            url: userURL + `users/resetpassword/${token}`,\r\n            method: \"patch\",\r\n            data: user,\r\n            onSuccess: resetPasswordSuccess,\r\n            onError : resetPasswordFailed\r\n        })\r\n    );\r\n}\r\n\r\nexport const resetPasswordLoggedIn = (user, token) => (dispatch) => {\r\n    console.log(user)\r\n    return dispatch(\r\n        apiCallBegan({\r\n            url: userURL + 'users/updatepassword',\r\n            method: \"patch\",\r\n            data: user,\r\n            onSuccess: resetPasswordSuccess,\r\n            onError : resetPasswordFailed\r\n        })\r\n    );\r\n}\r\n\r\nexport const getUserLoadingStatus = createSelector(\r\n    state => state.entities.userloading,\r\n    loading => loading\r\n);\r\n\r\nexport const getUserAddedStatus = createSelector(\r\n    state => state.entities.user,\r\n    userAdded => userAdded\r\n)\r\n\r\nexport const getAllUsers = createSelector(\r\n    state => state.entities.user,\r\n    user => user.list\r\n);\r\n\r\nexport const getEmailSentState = createSelector(\r\n    state => state.entities.user,\r\n    isEmailSent =>isEmailSent\r\n);\r\n\r\nexport const getPasswordResetState = createSelector(\r\n    state => state.entities.user,\r\n    isPasswordReset =>isPasswordReset\r\n);","import 'bootstrap/dist/css/bootstrap.css';\r\nimport {Form, Button, Container, Col, Row} from 'react-bootstrap';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { addUser, getUserAddedStatus} from '../../store/entities/users';\r\nimport { toastAction } from '../../store/toastActions';\r\nimport Box from '@mui/material/Box';\r\n\r\nexport default function AddHospitalAdmin(props) {\r\n    const current = new Date().toISOString().split(\"T\")[0]\r\n\r\n    const validateFirstName = (firstName) =>{\r\n        const reg = /^[A-Za-z\\b]+$/;\r\n        return reg.test(firstName)\r\n    }\r\n\r\n    const validateLastName = (lastName) =>{\r\n        const reg = /^[A-Za-z\\b]+$/;\r\n        return reg.test(lastName)\r\n    }\r\n\r\n    const validateEmail = (email) => {\r\n        const regexp = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        return regexp.test(email);\r\n    }\r\n\r\n    const validatePassword = (password) => {\r\n        const regpw = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{6,}$/;\r\n        return regpw.test(password);\r\n    }\r\n    const validateContact = (contact) => {\r\n        const reg = /^(0)([0-9]{9})$/;\r\n        return reg.test(contact);\r\n    }\r\n\r\n    const validateCity = (city) =>{\r\n        const reg = /^[A-Za-z\\b]+$/;\r\n        return reg.test(city)\r\n    }\r\n\r\n    const dispatch = useDispatch();\r\n    const userAddedStatus = useSelector(getUserAddedStatus);\r\n    const [userState, setUserState] = useState(false)\r\n\r\n    const [firstName, setFirstName] = useState('');\r\n    const [lastName, setLastName] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [birthday, setBirthday] = useState('');\r\n    const [contact, setContact] = useState('');\r\n    const [line1, setLine1] = useState('');\r\n    const [line2, setLine2] = useState('');\r\n    const [city, setCity] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [passwordConfirm, setPasswordConfirm] = useState('');\r\n    \r\n    const submitHandler = (e) => {\r\n      e.preventDefault();\r\n      let user= {\r\n        name: {\r\n            firstName: firstName,\r\n            lastName: lastName\r\n          },\r\n          email: email,\r\n          birthday: birthday,\r\n          contactNo: parseInt(contact),\r\n          address:{\r\n              line1: line1,\r\n              line2: line2,\r\n              city: city\r\n          },\r\n          password: password,\r\n          passwordConfirm: passwordConfirm,\r\n          role: 'hospitalAdmin',\r\n          hospital: window.location.pathname.split('/')[3],\r\n      }\r\n\r\n        if (!validateFirstName(firstName)) {\r\n        alert(\"First Name should not include digits\");\r\n        }\r\n        else if (!validateLastName(lastName)) {\r\n            alert(\"Last Name should not include digits\");\r\n        }\r\n        else if (!validateEmail(email)) {\r\n            alert(\"Enter valid email address\");\r\n        }\r\n        else if (!validateContact(contact)) {\r\n            alert(\"Enter valid telephone number\");\r\n        }\r\n        else if (!validateCity(city)) {\r\n            alert(\"City should not include digits\");\r\n        }\r\n        else if (!validatePassword(password)) {\r\n            alert(\"Enter valid password\");\r\n        }\r\n        else if (password != passwordConfirm) {\r\n            alert(\"Your passwords don't match\");\r\n        }\r\n        else{\r\n            dispatch(addUser(user));\r\n            setUserState(true);\r\n    };\r\n    }\r\n    useEffect(() => {\r\n        if(userAddedStatus.userAdded && userState){\r\n            setUserState(false)\r\n            dispatch(toastAction({ message: \"Hospital Admin Added Successfully\", type: 'info' }))\r\n            window.location.href = \"/healthMinistry/hospital\";\r\n        }// else{\r\n        //     dispatch(toastAction({ message: \"Hospital Admin Adding Failed\", type: 'error' }))\r\n        // }\r\n    },[userAddedStatus])\r\n\r\n    return (\r\n        //<div className=\"container-fluid\">    \r\n        <Container fluid > \r\n        <Box sx={{ bgcolor: '#cfe8fc', height: '1200px' }}>\r\n        <div className=\"col-10 mx-auto banner text-center\">\r\n            <h3 className=\"text-capitalize\">\r\n                    <strong className=\"banner-title\">Want to ADD HOSPITAL ADMIN?</strong></h3></div>\r\n                <Form className=\"form\" onSubmit={submitHandler}>\r\n    \r\n                    <Form.Group as={Col}  controlId='firstName'>\r\n                    <Form.Label className = 'form-label' ><strong>FIRST NAME:</strong></Form.Label>\r\n                    <Col sm={12}>\r\n                    <Form.Control \r\n                        type='text'\r\n                        id='firstName' \r\n                        placeholder='Enter your First Name'\r\n                        required\r\n                        size='sm'\r\n                        onChange={(e) => setFirstName(e.target.value)}\r\n                    /></Col>\r\n                    </Form.Group>\r\n                    \r\n                    <Form.Group as={Col} controlId='lastName'>\r\n                    <Form.Label className = 'form-label'><strong>LAST NAME:</strong></Form.Label>\r\n                    <Col sm={12}>\r\n                    <Form.Control \r\n                        type='text'\r\n                        id='lastName' \r\n                        placeholder='Enter your Last Name'\r\n                        required\r\n                        size='sm'\r\n                        onChange={(e) => setLastName(e.target.value)}\r\n                    /></Col>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group as={Col} controlId='email'>\r\n                    <Form.Label class=\"float-left\" className = 'form-label'><strong>EMAIL ADDRESS:</strong></Form.Label>\r\n                    <Col sm={12}>\r\n                    <Form.Control \r\n                        type='email'\r\n                        id='email' \r\n                        placeholder='example@gmail.com'\r\n                        required\r\n                        size='sm'\r\n                        onChange={(e) => setEmail(e.target.value)}\r\n                    /></Col>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group as={Col} controlId='birthday'>\r\n                    <Form.Label class=\"float-left\" className = 'form-label'><strong>DATE OF BIRTH:</strong></Form.Label>\r\n                    <Col sm={12}>\r\n                    <Form.Control \r\n                        type='date'\r\n                        id='birthday' \r\n                        placeholder='Enter Date of Birth'\r\n                        required\r\n                        size='sm'\r\n                        max={current}\r\n                        onChange={(e) => setBirthday(e.target.value)}\r\n                    /></Col>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group as={Col} controlId='contact'>\r\n                    <Form.Label class=\"float-left\" className = 'form-label' ><strong>CONTACT NUMBER:</strong></Form.Label>\r\n                    <Col sm={12}>\r\n                    <Form.Control \r\n                        type='number'\r\n                        id='contact'\r\n                        placeholder=\"0XXXXXXXXX\"  \r\n                        //pattern=\"[0-9]{3}-[0-9]{2}-[0-9]{3}\" \r\n                        required\r\n                        size='sm'\r\n                        onChange={(e) => setContact(e.target.value)} \r\n                    />\r\n                    <small>Should start with 0 | Should consist of 10 digits</small></Col>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group as={Col} controlId=\"line1\">\r\n                                <Form.Label class=\"float-left\" className = 'form-label'><strong>ADDRESS:</strong></Form.Label>\r\n                                <Col sm={12}>\r\n                                    <Form.Control\r\n                                    type=\"text\"\r\n                                    id=\"line1\"\r\n                                    required \r\n                                    placeholder='Enter Line 1'\r\n                                    size='sm'\r\n                                    onChange={(e) => setLine1(e.target.value)}/>\r\n                                </Col><br/>\r\n                                <Col sm={12}>\r\n                                    <Form.Control\r\n                                    type=\"text\"\r\n                                    id=\"line2\"\r\n                                    size='sm'\r\n                                    placeholder='Enter Line 2'\r\n                                    onChange={(e) => setLine2(e.target.value)}/>\r\n                                </Col>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group as={Col} controlId=\"formCity\">\r\n                                <Form.Label class=\"float-left\" className = 'form-label'><strong>CITY:</strong></Form.Label>\r\n                                <Col sm={12}>\r\n                                <Form.Control\r\n                                type=\"text\"\r\n                                id=\"city\"\r\n                                required \r\n                                size='sm'\r\n                                placeholder='Enter City'\r\n                                onChange={(e) => setCity(e.target.value)}/></Col>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group as={Col} controlId=\"password\">\r\n                                <Form.Label class=\"float-left\" className = 'form-label'><strong>PASSWORD:</strong></Form.Label>\r\n                                <Col sm={12}>\r\n                                <Form.Control\r\n                                type=\"password\"\r\n                                id=\"password\"\r\n                                required \r\n                                size='sm'\r\n                                placeholder='Enter Password'\r\n                                onChange={(e) => setPassword(e.target.value)}/>\r\n                    <small>*Password should atleast be of 6 characters <br/>\r\n                           *Should include atleast one simple letter, capital letter, special character and number </small> \r\n                           </Col>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group as={Col} controlId=\"passwordConfirm\">\r\n                                <Form.Label class=\"float-left\" className = 'form-label'><strong>RE-ENTER PASSWORD:</strong></Form.Label>\r\n                                <Col sm={12}>\r\n                                <Form.Control\r\n                                type=\"password\"\r\n                                id=\"passwordConfirm\"\r\n                                required \r\n                                size='sm'\r\n                                placeholder='Re enter Password'\r\n                                onChange={(e) => setPasswordConfirm(e.target.value)}/></Col>\r\n                    </Form.Group>\r\n\r\n                        <div>\r\n                        <Button variant=\"primary\" type=\"submit\">ADD HOSPITAL ADMIN</Button>\r\n                        </div>\r\n                \r\n                </Form>\r\n                </Box>\r\n            </Container>\r\n            \r\n        );\r\n    }\r\n","import 'bootstrap/dist/css/bootstrap.css';\r\nimport {Form, Button, Container, Col, Row} from 'react-bootstrap';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { addUser, getUserAddedStatus} from '../../store/entities/users';\r\nimport { toastAction } from '../../store/toastActions';\r\nimport Box from '@mui/material/Box';\r\n\r\n\r\nexport default function AddPatient(props) {\r\n    const current = new Date().toISOString().split(\"T\")[0]\r\n    console.log(current)\r\n    const validateFirstName = (firstName) =>{\r\n        const reg = /^[A-Za-z\\b]+$/;\r\n        return reg.test(firstName)\r\n    }\r\n\r\n    const validateLastName = (lastName) =>{\r\n        const reg = /^[A-Za-z\\b]+$/;\r\n        return reg.test(lastName)\r\n    }\r\n\r\n    const validateEmail = (email) => {\r\n        const regexp = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        return regexp.test(email);\r\n    }\r\n\r\n    const validatePassword = (password) => {\r\n        const regpw = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{6,}$/;\r\n        return regpw.test(password);\r\n    }\r\n    const validateContact = (contact) => {\r\n        const reg = /^(0)([0-9]{9})$/;\r\n        return reg.test(contact);\r\n    }\r\n\r\n    const validateCity = (city) =>{\r\n        const reg = /^[A-Za-z\\b]+$/;\r\n        return reg.test(city)\r\n    }\r\n\r\n    function validateNIC(nicno) {\r\n        const regex = /^([0-9]{9})(V|v)$/;\r\n        const regex2 = /^([0-9]{12})$/;\r\n    \r\n        if (regex.test(nicno)) {\r\n            return regex.test(nicno);\r\n        }\r\n    \r\n        else if (regex2.test(nicno)) {\r\n            return regex2.test(nicno);\r\n        }\r\n    }\r\n\r\n    const dispatch = useDispatch();\r\n    const userAddedStatus = useSelector(getUserAddedStatus);\r\n    const [userState, setUserState] = useState(false)\r\n\r\n    const [firstName, setFirstName] = useState('');\r\n    const [lastName, setLastName] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [birthday, setBirthday] = useState('');\r\n    const [contact, setContact] = useState('');\r\n    const [line1, setLine1] = useState('');\r\n    const [line2, setLine2] = useState('');\r\n    const [city, setCity] = useState('');\r\n    const [province, setProvince] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [passwordConfirm, setPasswordConfirm] = useState('');\r\n    const [nicno, setNicno] = useState('');\r\n    const [person, setPerson] = useState('');\r\n    \r\n    const submitHandler = (e) => {\r\n      e.preventDefault();\r\n      let user= {\r\n        name: {\r\n            firstName: firstName,\r\n            lastName: lastName\r\n        },\r\n        email: email,\r\n        birthday: birthday,\r\n        contact: contact,\r\n        address:{\r\n            line1: line1,\r\n            line2: line2,\r\n            city: city,\r\n            province: province\r\n        },\r\n        password: password,\r\n        passwordConfirm: passwordConfirm,\r\n        role: 'patient',\r\n        nic:{\r\n          nicno: nicno,\r\n          person: birthday.split('-')[0]\r\n        },\r\n        //hospital_id: window.location.pathname.split('/')[3],\r\n      }\r\n\r\n        if (!validateFirstName(firstName)) {\r\n        alert(\"First Name should not include digits\");\r\n        }\r\n        else if (!validateLastName(lastName)) {\r\n            alert(\"Last Name should not include digits\");\r\n        }\r\n        else if (!validateEmail(email)) {\r\n            alert(\"Enter valid email address\");\r\n        }\r\n        else if (!validateContact(contact)) {\r\n            alert(\"Enter valid telephone number\");\r\n        }\r\n        else if (!validateNIC(nicno)) {\r\n            alert(\"Enter valid NIC number\");\r\n        }\r\n        else if (!validateCity(city)) {\r\n            alert(\"City should not include digits\");\r\n        }\r\n        else if (!validatePassword(password)) {\r\n            alert(\"Enter valid password\");\r\n        }\r\n        else if (password != passwordConfirm) {\r\n            alert(\"Your passwords don't match\");\r\n        }\r\n        else{\r\n            dispatch(addUser(user));\r\n            setUserState(true);\r\n            console.log(user);\r\n            //window.location.href = \"/healthMinistry/hospital\";\r\n    };\r\n    }\r\n    useEffect(() => {\r\n        if(userAddedStatus.userAdded && userState){\r\n            setUserState(false)\r\n            dispatch(toastAction({ message: \"Patient Added Successfully\", type: 'info' }))\r\n            window.location.href = \"/\";\r\n        }\r\n        // else{\r\n        //     dispatch(toastAction({ message: \"Pattient Adding Failed\", type: 'error' }))\r\n        // }\r\n    },[userAddedStatus])\r\n\r\n    return (\r\n        <Container fluid > \r\n                <Box sx={{ bgcolor: '#cfe8fc', height: '1390px' }}>\r\n                <div className=\"col-10 mx-auto banner text-center\"><br/>\r\n                    <h3 className=\"text-capitalize\">\r\n                            <strong className=\"banner-title\">Want to Add NEW PATIENT?</strong></h3></div>\r\n                <Form className=\"form\" onSubmit={submitHandler}>\r\n    \r\n                    <Form.Group as={Col}  controlId='firstName'>\r\n                    <Form.Label className = 'form-label' ><strong>FIRST NAME:</strong> </Form.Label>\r\n                    <Col sm={10}>\r\n                    <Form.Control \r\n                        type='text'\r\n                        id='firstName' \r\n                        placeholder='Enter your First Name'\r\n                        required\r\n                        size='sm'\r\n                        onChange={(e) => setFirstName(e.target.value)}\r\n                    /></Col>\r\n                    </Form.Group>\r\n                    \r\n                    <Form.Group as={Col} controlId='lastName'>\r\n                    <Form.Label className = 'form-label'> <strong>LAST NAME:</strong></Form.Label>\r\n                    <Col sm={10}>\r\n                    <Form.Control \r\n                        type='text'\r\n                        id='lastName' \r\n                        placeholder='Enter your Last Name'\r\n                        required\r\n                        size='sm'\r\n                        onChange={(e) => setLastName(e.target.value)}\r\n                    /></Col>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group as={Col} controlId='email'>\r\n                    <Form.Label class=\"float-left\" className = 'form-label'><strong>EMAIL ADDRESS:</strong></Form.Label>\r\n                    <Col sm={10}>\r\n                    <Form.Control \r\n                        type='email'\r\n                        id='email' \r\n                        placeholder='example@gmail.com'\r\n                        required\r\n                        size='sm'\r\n                        onChange={(e) => setEmail(e.target.value)}\r\n                    /></Col>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group as={Col} controlId='birthday'>\r\n                    <Form.Label class=\"float-left\" className = 'form-label'><strong>DATE OF BIRTH:</strong></Form.Label>\r\n                    <Col sm={10}>\r\n                    <Form.Control \r\n                        type='date'\r\n                        id='birthday' \r\n                        placeholder='Enter Date of Birth'\r\n                        required\r\n                        size='sm'\r\n                        max={current}\r\n                        onChange={(e) => setBirthday(e.target.value)}\r\n                    /></Col>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group as={Col} controlId='contact'>\r\n                    <Form.Label class=\"float-left\" className = 'form-label' ><strong>CONTACT NUMBER:</strong></Form.Label>\r\n                    <Col sm={10}>\r\n                    <Form.Control \r\n                        type='number'\r\n                        id='contact'\r\n                        placeholder=\"0XXXXXXXXX\"  \r\n                        //pattern=\"[0-9]{3}-[0-9]{2}-[0-9]{3}\" \r\n                        required\r\n                        size='sm'\r\n                        onChange={(e) => setContact(e.target.value)} \r\n                    />\r\n                    <small>*Should start with 0 <br/>*Should consist of 10 digits</small></Col>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group as={Col} controlId='nicno'>\r\n                            <Form.Label class=\"float-left\" className = 'form-label' ><strong>NIC NUMBER:</strong></Form.Label>\r\n                            <Col sm={10}>\r\n                            <Form.Control \r\n                                type='text'\r\n                                id='nicno'\r\n                                placeholder=\"Enter NIC Number\"  \r\n                                required\r\n                                size='sm'\r\n                                onChange={(e) => setNicno(e.target.value)} \r\n                            />\r\n                            </Col>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group as={Col} controlId=\"line1\">\r\n                                <Form.Label class=\"float-left\" className = 'form-label'><strong>ADDRESS:</strong></Form.Label>\r\n                                <Col sm={10}>\r\n                                    <Form.Control\r\n                                    type=\"text\"\r\n                                    id=\"line1\"\r\n                                    required \r\n                                    placeholder='Enter Line 1'\r\n                                    size='sm'\r\n                                    onChange={(e) => setLine1(e.target.value)}/>\r\n                                </Col><br/>\r\n                                <Col sm={10}>\r\n                                    <Form.Control\r\n                                    type=\"text\"\r\n                                    id=\"line2\"\r\n                                    size='sm'\r\n                                    placeholder='Enter Line 2'\r\n                                    onChange={(e) => setLine2(e.target.value)}/></Col>\r\n                    </Form.Group>\r\n\r\n                    {/* <Form.Group as={Col} controlId=\"line2\">\r\n                                <Form.Label class=\"float-left\" className = 'form-label'>ADDRESS LINE 2:</Form.Label>\r\n                                <Col sm={10}>\r\n                                <Form.Control\r\n                                type=\"text\"\r\n                                id=\"line2\"\r\n                                size='sm'\r\n                                placeholder='Enter Line 2'\r\n                                onChange={(e) => setLine2(e.target.value)}/></Col>\r\n                    </Form.Group> */}\r\n\r\n                    <Form.Group as={Col} controlId=\"formCity\">\r\n                                <Form.Label class=\"float-left\" className = 'form-label'><strong>CITY:</strong></Form.Label>\r\n                                <Col sm={10}>\r\n                                    <Form.Control\r\n                                    type=\"text\"\r\n                                    id=\"city\"\r\n                                    required \r\n                                    size='sm'\r\n                                    placeholder='Enter City'\r\n                                    onChange={(e) => setCity(e.target.value)}/>\r\n                                </Col>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group as={Col}  controlId=\"formProvince\">\r\n                                <Form.Label class=\"float-left\" className = 'form-label' ><strong>PROVINCE:</strong></Form.Label>\r\n                                <Col sm={10}>\r\n                                <Form.Control \r\n                                as=\"select\" \r\n                                id=\"province\" \r\n                                onChange={(e) => setProvince(e.target.value)}\r\n                                required>\r\n                                    <option value=\"\" disabled selected>Choose </option>\r\n                                    <option value=\"Central\">Central Province</option>\r\n                                    <option value=\"Eastern\">Eastern Province</option>\r\n                                    <option value=\"Northern\">Northern Province</option>\r\n                                    <option value=\"Southern\">Southern Province </option>\r\n                                    <option value=\"Western\">Western Province </option>\r\n                                    <option value=\"North Western\">North Western Province </option>\r\n                                    <option value=\"North Central\">North Central Province </option>\r\n                                    <option value=\"Uva\">Uva Province </option>\r\n                                    <option value=\"Sabaragamuwa\">Sabaragamuwa Province </option>\r\n                                    \r\n                                    </Form.Control></Col>\r\n                                </Form.Group>\r\n\r\n                    <Form.Group as={Col} controlId=\"password\">\r\n                            <Form.Label class=\"float-left\" className = 'form-label'><strong>PASSWORD:</strong></Form.Label>\r\n                            <Col sm={10}>\r\n                                <Form.Control\r\n                                type=\"password\"\r\n                                id=\"password\"\r\n                                required \r\n                                size='sm'\r\n                                placeholder='Enter Password'\r\n                                onChange={(e) => setPassword(e.target.value)}/>\r\n                            </Col><br/>\r\n                            <Col sm={10}>\r\n                                <Form.Control\r\n                                type=\"password\"\r\n                                id=\"passwordConfirm\"\r\n                                required \r\n                                size='sm'\r\n                                placeholder='Re enter Password'\r\n                                onChange={(e) => setPasswordConfirm(e.target.value)}/>\r\n                                <small>*Password should atleast be of 6 characters <br/>\r\n                           *Should include atleast one simple letter, capital letter, special character and number </small> \r\n                            </Col>\r\n                    </Form.Group>\r\n\r\n                    {/* <Form.Group as={Col} controlId=\"passwordConfirm\">\r\n                                <Form.Label class=\"float-left\" className = 'form-label'>RE-ENTER PASSWORD:</Form.Label>\r\n                                <Col sm={10}>\r\n                                <Form.Control\r\n                                type=\"password\"\r\n                                id=\"passwordConfirm\"\r\n                                required \r\n                                size='sm'\r\n                                placeholder='Re enter Password'\r\n                                onChange={(e) => setPasswordConfirm(e.target.value)}/></Col>\r\n                    </Form.Group> */}\r\n                        <div>\r\n                        <Button variant=\"primary\" type=\"submit\">ADD PATIENT</Button>\r\n                        </div>\r\n                \r\n                </Form>\r\n                </Box> \r\n            </Container>\r\n            // </div>\r\n            \r\n        );\r\n    }\r\n","import 'bootstrap/dist/css/bootstrap.css';\r\nimport {Container, Form, Button, Col} from 'react-bootstrap';\r\nimport React, { useEffect, useState } from 'react';\r\nimport Box from '@mui/material/Box';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { addUser, getUserAddedStatus } from '../../../store/entities/users';\r\nimport { toastAction } from '../../../store/toastActions';\r\n\r\nexport default function AddHospitalStaff(props){\r\n    const current = new Date().toISOString().split(\"T\")[0];\r\n\r\n    const validateFirstName = (firstName) =>{\r\n        const reg = /^[A-Za-z\\b]+$/;\r\n        return reg.test(firstName)\r\n    }\r\n\r\n    const validateLastName = (lastName) =>{\r\n        const reg = /^[A-Za-z\\b]+$/;\r\n        return reg.test(lastName)\r\n    }\r\n\r\n    const validateEmail = (email) => {\r\n        const regexp = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        return regexp.test(email);\r\n    }\r\n\r\n    const validatePassword = (password) => {\r\n        const regpw = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{6,}$/;\r\n        return regpw.test(password);\r\n    }\r\n    const validateContact = (contact) => {\r\n        const reg = /^(0)([0-9]{9})$/;\r\n        return reg.test(contact);\r\n    }\r\n\r\n    const validateCity = (city) =>{\r\n        const reg = /^[A-Za-z\\b]+$/;\r\n        return reg.test(city)\r\n    }\r\n    const dispatch = useDispatch();\r\n    const userAddedStatus = useSelector(getUserAddedStatus);\r\n    const [userState, setUserState] = useState(false)\r\n\r\n    const [firstName, setFirstName] = useState('');\r\n    const [lastName, setLastName] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [birthday, setBirthday] = useState('');\r\n    const [contact, setContact] = useState('');\r\n    const [line1, setLine1] = useState('');\r\n    const [line2, setLine2] = useState('');\r\n    const [city, setCity] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [passwordConfirm, setPasswordConfirm] = useState('');\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n        let user= {\r\n            name: {\r\n                firstName: firstName,\r\n                lastName: lastName\r\n              },\r\n              email: email,\r\n              birthday: birthday,\r\n              contactNo: contact,\r\n              address:{\r\n                  line1: line1,\r\n                  line2: line2,\r\n                  city: city\r\n              },\r\n              password: password,\r\n              passwordConfirm: passwordConfirm,\r\n              role: 'hospital user',\r\n                        \r\n              //hospital_id: window.location.pathname.split('/')[3],\r\n          }\r\n\r\n          if (!validateFirstName(firstName)) {\r\n            alert(\"First Name should not include digits\");\r\n            }\r\n            else if (!validateLastName(lastName)) {\r\n                alert(\"Last Name should not include digits\");\r\n            }\r\n            else if (!validateEmail(email)) {\r\n                alert(\"Enter valid email address\");\r\n            }\r\n            else if (!validateContact(contact)) {\r\n                alert(\"Enter valid telephone number\");\r\n            }\r\n            else if (!validateCity(city)) {\r\n                alert(\"City should not include digits\");\r\n            }\r\n            else if (!validatePassword(password)) {\r\n                alert(\"Enter valid password\");\r\n            }\r\n            else if (password != passwordConfirm) {\r\n                alert(\"Your passwords don't match\");\r\n            }\r\n            else{\r\n                dispatch(addUser(user));\r\n                setUserState(true);\r\n                //window.location.href = \"/healthMinistry/hospital\";\r\n        };\r\n        }\r\n\r\n        useEffect(() => {\r\n            if(userAddedStatus.userAdded && userState){\r\n                setUserState(false)\r\n                dispatch(toastAction({ message: \"Hospital Staff Added Successfully\", type: 'info' }))\r\n                window.location.href = \"/\";\r\n            }//else{\r\n            //     dispatch(toastAction({ message: \"Hospital Admin Adding Failed\", type: 'error' }))\r\n            // }\r\n        },[userAddedStatus])\r\n\r\n        return (\r\n            //<div className=\"container-fluid\">    \r\n            <Container fluid > \r\n                <Box sx={{ bgcolor: '#cfe8fc', height: '1370px' }}>\r\n                <div className=\"col-10 mx-auto banner text-center\">\r\n                    <h3 className=\"text-capitalize\">\r\n                            <strong className=\"banner-title\">Want to ADD HOSPITAL STAFF?</strong></h3></div>\r\n                <Form className=\"form\" onSubmit={submitHandler} >\r\n\r\n                <Form.Group as={Col}  controlId='firstName'>\r\n                    <Form.Label className = 'form-label' ><strong>FIRST NAME:</strong></Form.Label>\r\n                    <Col sm={12}>\r\n                    <Form.Control \r\n                        type='text'\r\n                        id='firstName' \r\n                        placeholder='Enter your First Name'\r\n                        required\r\n                        // size='sm'\r\n                        onChange={(e) => setFirstName(e.target.value)}\r\n                    /></Col>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group as={Col}  controlId='firstName'>\r\n                    <Form.Label className = 'form-label' ><strong>LAST NAME:</strong></Form.Label>\r\n                    <Col sm={12}>\r\n                    <Form.Control \r\n                        type='text'\r\n                        id='lastName' \r\n                        placeholder='Enter your Last Name'\r\n                        required\r\n                        // size='sm'\r\n                        onChange={(e) => setLastName(e.target.value)}\r\n                    /></Col>\r\n                    </Form.Group>\r\n                    \r\n                    <Form.Group as={Col} controlId='email'>\r\n                    <Form.Label class=\"float-left\" className = 'form-label'><strong>EMAIL ADDRESS:</strong> </Form.Label>\r\n                    <Col sm={12}>\r\n                    <Form.Control \r\n                        type='email'\r\n                        id='email' \r\n                        placeholder='example@gmail.com'\r\n                        required\r\n                        // size='sm'\r\n                        onChange={(e) => setEmail(e.target.value)}\r\n                    /></Col>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group as={Col} controlId='birthday'>\r\n                    <Form.Label class=\"float-left\" className = 'form-label'><strong>DATE OF BIRTH:</strong> </Form.Label>\r\n                    <Col sm={12}>\r\n                    <Form.Control \r\n                        type='date'\r\n                        id='birthday' \r\n                        placeholder='Enter Date of Birth'\r\n                        required\r\n                        // size='sm'\r\n                        max={current}\r\n                        onChange={(e) => setBirthday(e.target.value)}\r\n                    /></Col>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group as={Col} controlId='contact'>\r\n                    <Form.Label class=\"float-left\" className = 'form-label' ><strong>CONTACT NUMBER:</strong> </Form.Label>\r\n                    <Col sm={12}>\r\n                    <Form.Control \r\n                        type='number'\r\n                        id='contact'\r\n                        placeholder=\"0XXXXXXXXX\"  \r\n                        //pattern=\"[0-9]{3}-[0-9]{2}-[0-9]{3}\" \r\n                        required\r\n                        // size='sm'\r\n                        onChange={(e) => setContact(e.target.value)} \r\n                    />\r\n                    <small>Should start with 0 | Should consist of 10 digits</small></Col>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group as={Col} controlId=\"line1\">\r\n                                <Form.Label class=\"float-left\" className = 'form-label'><strong>ADDRESS:</strong> </Form.Label>\r\n                                <Col sm={12}>\r\n                                    <Form.Control\r\n                                    type=\"text\"\r\n                                    id=\"line1\"\r\n                                    required \r\n                                    placeholder='Enter Address Line 1'\r\n                                    // size='sm'\r\n                                    onChange={(e) => setLine1(e.target.value)}/>\r\n                                </Col><br/>\r\n                                <Col sm={12}>\r\n                                    <Form.Control\r\n                                    type=\"text\"\r\n                                    id=\"line2\" \r\n                                    // size='sm'\r\n                                    placeholder='Enter Address Line 2'\r\n                                    onChange={(e) => setLine2(e.target.value)}/>\r\n                                </Col>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group as={Col} controlId=\"formCity\">\r\n                                <Form.Label class=\"float-left\" className = 'form-label'><strong>CITY:</strong></Form.Label>\r\n                                <Col sm={12}>\r\n                                    <Form.Control\r\n                                    type=\"text\"\r\n                                    id=\"city\"\r\n                                    required \r\n                                    // size='sm'\r\n                                    placeholder='Enter City'\r\n                                    onChange={(e) => setCity(e.target.value)}/>\r\n                                </Col>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group as={Col} controlId=\"password\">\r\n                                <Form.Label class=\"float-left\" className = 'form-label'><strong>PASSWORD:</strong> </Form.Label>\r\n                                <Col sm={12}>\r\n                                <Form.Control\r\n                                type=\"password\"\r\n                                id=\"password\"\r\n                                requiredg\r\n                                // // size='sm'\r\n                                placeholder='Enter Password'\r\n                                onChange={(e) => setPassword(e.target.value)}/>\r\n                    \r\n                           </Col><br/>\r\n                           <Col sm={12}>\r\n                                <Form.Control\r\n                                type=\"password\"\r\n                                id=\"passwordConfirm\"\r\n                                required \r\n                                // // size='sm'\r\n                                placeholder='Re enter Password'\r\n                                onChange={(e) => setPasswordConfirm(e.target.value)}/>\r\n                                <small>*Password should atleast be of 6 characters <br/>\r\n                           *Should include atleast one simple letter, capital letter, special character and number </small> </Col>\r\n                    </Form.Group>\r\n                        <div>\r\n                        <Button variant=\"primary\" type=\"submit\">ADD HOSPITAL STAFF</Button>\r\n                        </div>\r\n                \r\n                </Form>  \r\n                </Box>\r\n            </Container>\r\n                   ///</div>   \r\n        );\r\n    }\r\n","import React, {useEffect, useState} from 'react'\r\nimport {Container, Button, Card, Row, Col, Nav, Form, FormControl} from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {  Formik } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport {updateDrugsInDB, updateSymptomsInDB} from '../../store/entities/patients';\r\n\r\nconst EditCurrentDetails = ({match,history}) => {\r\n    const dispatch = useDispatch()\r\n   // const patientId = (window.location.href.split('/')).pop()\r\n   const medicalHistoryId = match.params.id\r\n\r\n    const auth = useSelector(state => state.auth);\r\n\r\n    const [ schema, setSchema ] = useState({ \r\n        symptom0: Yup.string().required(\"Symptom is required...\"),\r\n        drug0: Yup.string().required(\"Drug Details is required...\")\r\n    });\r\n\r\n    const [initialValues, setInitialValues ] = useState({\r\n        symptom0: '',\r\n        drug0: ''\r\n    });\r\n\r\n    const [ symptoms, setSymptoms ] = useState([{}]);\r\n  //  console.log(symptoms)\r\n    const [ drugs, setDrugs ] = useState([{}]);\r\n    const formElements = useState(4);  \r\n\r\n    const [updateSymptoms, setUpdateSymptoms] = useState(true);\r\n\r\n    const UpdateSymptoms =(value, sym)=>{\r\n        for (var i =0; i< sym.length ; i++){\r\n            var v = sym[i]\r\n            if (!v.description){\r\n                setUpdateSymptoms(true);\r\n                return\r\n            }else if (v.description == \"\"){\r\n                setUpdateSymptoms(true);\r\n                return\r\n            } \r\n            setUpdateSymptoms(false);\r\n        }\r\n\r\n    }\r\n\r\n    const handleSymptomsAdded = () => {\r\n        const newSymptom = [...symptoms, {}];\r\n        const newSchema = {...schema, \r\n                            [`symptom${symptoms.length}`]: Yup.string().required(\"Symptom is required...\"),\r\n        };\r\n\r\n        const newInitialValues = {...initialValues,\r\n                             [`symptom${symptoms.length}`]: ''\r\n        };\r\n        setSymptoms(newSymptom);\r\n        setSchema(newSchema);\r\n        setInitialValues(newInitialValues);\r\n\r\n        for (var i =0; i< newSymptom.length ; i++){\r\n            var v = newSymptom[i]\r\n            if (!v.description){\r\n                setUpdateSymptoms(true);\r\n                return\r\n            }else if (v.description == \"\"){\r\n                setUpdateSymptoms(true);\r\n                return\r\n            } \r\n            setUpdateSymptoms(false);\r\n        }\r\n\r\n    }\r\n\r\n\r\n    const handleSymptomsDeleted = (values) => {\r\n        let newSymptoms = [...symptoms];\r\n        newSymptoms = newSymptoms.splice(0,symptoms.length-1);\r\n        const newSchema = {...schema};\r\n        //Deleting from schema\r\n        delete newSchema[`symptom${symptoms.length-1}`];\r\n\r\n        const newInitialValues = {...initialValues};\r\n        //Deleting from initial values\r\n        delete newInitialValues[`symptom${symptoms.length-1}`];\r\n\r\n        //Deleting from values of Formik\r\n        delete values[`symptom${symptoms.length - 1}`];\r\n\r\n        setInitialValues(newInitialValues);\r\n        setSymptoms (newSymptoms);\r\n        setSchema(newSchema);  \r\n\r\n        for (var i =0; i< newSymptoms.length ; i++){\r\n            var v = newSymptoms[i]\r\n            if (!v.description){\r\n                setUpdateSymptoms(true);\r\n                return\r\n            }else if (v.description == \"\"){\r\n                setUpdateSymptoms(true);\r\n                return\r\n            } \r\n            setUpdateSymptoms(false);\r\n        }\r\n    }\r\n\r\n    const [updateDrugs, setUpdateDrugs] = useState(true);\r\n\r\n\r\n    const UpdateDrugs =(value, sym)=>{\r\n        for (var i =0; i< sym.length ; i++){\r\n            var v = sym[i]\r\n            if (!v.description){\r\n                setUpdateDrugs(true);\r\n                return\r\n            }else if (v.description == \"\"){\r\n                setUpdateDrugs(true);\r\n                return\r\n            } \r\n            setUpdateDrugs(false);\r\n        }\r\n\r\n    }\r\n\r\n\r\n    const handleDrugsAdded = () => {\r\n        const newDrug = [...drugs, {}];\r\n        const newSchema = {...schema, \r\n                            [`drug${drugs.length}`]: Yup.string().required(\"Drug is required...\"),\r\n        };\r\n\r\n        const newInitialValues = {...initialValues,\r\n                             [`drug${drugs.length}`]: ''\r\n        };\r\n        setDrugs(newDrug);\r\n        setSchema(newSchema);\r\n        setInitialValues(newInitialValues);\r\n\r\n        for (var i =0; i< newDrug.length ; i++){\r\n            var v = newDrug[i]\r\n            if (!v.description){\r\n                setUpdateDrugs(true);\r\n                return\r\n            }else if (v.description == \"\"){\r\n                setUpdateDrugs(true);\r\n                return\r\n            } \r\n            setUpdateDrugs(false);\r\n        }\r\n    }\r\n\r\n\r\n    const handleDrugsDeleted = (values) => {\r\n        let newDrugs = [...drugs];\r\n        newDrugs = newDrugs.splice(0,drugs.length-1);\r\n        const newSchema = {...schema};\r\n        //Deleting from schema\r\n        delete newSchema[`drug${drugs.length-1}`];\r\n\r\n        const newInitialValues = {...initialValues};\r\n        //Deleting from initial values\r\n        delete newInitialValues[`drug${drugs.length-1}`];\r\n\r\n        //Deleting from values of Formik\r\n        delete values[`drug${drugs.length - 1}`];\r\n\r\n        setInitialValues(newInitialValues);\r\n        setDrugs (newDrugs);\r\n        setSchema(newSchema);\r\n        \r\n        for (var i =0; i< newDrugs.length ; i++){\r\n            var v = newDrugs[i]\r\n            if (!v.description){\r\n                setUpdateDrugs(true);\r\n                return\r\n            }else if (v.description == \"\"){\r\n                setUpdateDrugs(true);\r\n                return\r\n            } \r\n            setUpdateDrugs(false);\r\n        }\r\n        \r\n\r\n    }\r\n\r\n    const updateSymptom = () =>{\r\n        let symList = [symptoms.length];\r\n        for ( var i = 0; i< symptoms.length; i++){\r\n            symList[i] = symptoms[i].description;\r\n        }\r\n        const data = { description: symList}\r\n        dispatch(updateSymptomsInDB(data, medicalHistoryId))\r\n    } \r\n\r\n    const updateDrug = () =>{\r\n        let drugList = [drugs.length];\r\n        for ( var i = 0; i< drugs.length; i++){\r\n            drugList[i] = drugs[i].description;\r\n        }\r\n        const data = { description: drugList}\r\n        dispatch(updateDrugsInDB(data, medicalHistoryId))\r\n    }\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        ////////////\r\n    }, [dispatch])\r\n\r\n    return (\r\n        <>\r\n        {auth.loggedIn ? \r\n        <Container className=' formContainer mt-3'>\r\n        <Formik\r\n            validationSchema = {Yup.object().shape(schema)}\r\n           // onSubmit = {submitForm}\r\n            initialValues = {initialValues}\r\n        >\r\n            {({\r\n                handleSubmit,\r\n                handleChange,\r\n                handleBlur,\r\n                values,\r\n                touched,\r\n                isValid,\r\n                dirty,\r\n                errors\r\n            }) => (\r\n            <Form className='mt-2' noValidate onSubmit={handleSubmit}>\r\n            <h2 className = 'heading text-center font-weight-bold mt-4'>UPDATE PATIENT MEDICAL DATA</h2>\r\n\r\n            <Row className='m-5'>\r\n                <Col>\r\n                {symptoms.map( v =>{\r\n                    const index = symptoms.findIndex(va => va === v );\r\n                    return (\r\n                    <>\r\n                        <Row className=''>\r\n                            <Col>\r\n                                <Form.Group controlId= {`validationFormik${formElements + index + 1 >= 10 ? `${formElements + index + 1}`: `0${formElements + index + 1}` }`}>\r\n                                    <Form.Label >Symptoms</Form.Label>\r\n                                    <Form.Control \r\n                                        className = 'textBox'\r\n                                        type='text'\r\n                                        name={`symptom${index}`}\r\n                                        value={values[`symptom${index}`]}\r\n                                        onChange={(e) => {\r\n                                            handleChange(e);\r\n                                            const updated = {...symptoms[index]};\r\n                                            updated.description= e.target.value;\r\n                                            const newSymptoms = [...symptoms];\r\n                                            newSymptoms[index] = updated;\r\n                                            setSymptoms(newSymptoms);\r\n                                            if ( e.target.value != \"\"){\r\n                                                UpdateSymptoms(false,newSymptoms);\r\n                                            }else{\r\n                                                UpdateSymptoms(true, newSymptoms);\r\n                                            }\r\n                                            \r\n                                        }}\r\n                                        placeholder='Symptom'\r\n                                        isValid={touched[`symptom${index}`] && !errors[`symptom${index}`]}\r\n                                        isInvalid={!!errors[`symptom${index}`]}\r\n                                        size = {'lg'} \r\n                                    />\r\n                                    <FormControl.Feedback type='invalid'>{errors[`symptom${index}`]}</FormControl.Feedback>\r\n                                </Form.Group>\r\n                            </Col>\r\n\r\n                        <Col className='mt-2'>\r\n                            { index === 0 && <div>\r\n                            <Button onClick= {() => handleSymptomsAdded()} className='mx-2 my-4' variant='primary'>+</Button>\r\n                            { symptoms.length >1 && index ===0 && <Button onClick= {() => handleSymptomsDeleted(values)} className='mx-2 my-4' variant='danger'>-</Button>}\r\n                            </div>}\r\n                        </Col></Row></>\r\n\r\n\r\n                )})}\r\n\r\n                    <Button onClick= {() => updateSymptom()} \r\n                            className='mx-2 my-4' \r\n                            variant='primary'\r\n                            disabled={updateSymptoms}\r\n                    >Update Symptoms</Button>\r\n\r\n                </Col>\r\n\r\n                <Col>\r\n                {drugs.map( v =>{\r\n                    const index = drugs.findIndex(va => va === v );\r\n                    return (\r\n                    <>\r\n                        <Row className=''>\r\n                            <Col>\r\n                            <Form.Group controlId= {`validationFormik${formElements + index + 1 >= 10 ? `${formElements + index + 1}`: `0${formElements + index + 1}` }`}>\r\n                                <Form.Label className = 'form-label'>Drugs</Form.Label>\r\n                                <Form.Control \r\n                                    className = 'textBox'\r\n                                    type='text'\r\n                                    name={`drug${index}`}\r\n                                    value={values[`drug${index}`]}\r\n                                    onChange={(e) => {\r\n                                        handleChange(e);\r\n                                        const updated = {...drugs[index]};\r\n                                        updated.description = e.target.value;\r\n                                        const newDrugs = [...drugs];\r\n                                        newDrugs[index] = updated;\r\n                                        setDrugs(newDrugs);\r\n                                        if ( e.target.value != \"\"){\r\n                                            UpdateDrugs(false,newDrugs);\r\n                                        }else{\r\n                                            UpdateDrugs(true, newDrugs);\r\n                                        }\r\n                                    }}\r\n                                    placeholder='Drug'\r\n                                    isValid={touched[`drug${index}`] && !errors[`drug${index}`]}\r\n                                    isInvalid={!!errors[`drug${index}`]}\r\n                                    size = {'lg'} \r\n                                />\r\n                                <FormControl.Feedback type='invalid'>{errors[`drug${index}`]}</FormControl.Feedback>\r\n                            </Form.Group>\r\n                        </Col>\r\n\r\n                        <Col className='mt-2'>\r\n                            { index === 0 && <div>\r\n                            <Button onClick= {() => handleDrugsAdded()} className='mx-2 my-4' variant='primary'>+</Button>\r\n                            { drugs.length >1 && index ===0 && <Button onClick= {() => handleDrugsDeleted(values)} className='mx-2 my-4' variant='danger'>-</Button>}\r\n                            </div>}\r\n                        </Col></Row></>\r\n\r\n                )})}\r\n\r\n\r\n                    <Button onClick= {() => updateDrug()} \r\n                            className='mx-2 my-4' \r\n                            variant='primary'\r\n                            disabled={updateDrugs}\r\n                    >Update Drugs</Button>\r\n                </Col>\r\n\r\n                </Row>\r\n    \r\n            </Form>\r\n            )}\r\n        </Formik> \r\n        </Container>: history.push('/')}\r\n        </>\r\n    )\r\n}\r\n            \r\n\r\nexport default EditCurrentDetails\r\n","import React, {useEffect, useState} from 'react'\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Table, Container, Button, Row, Card} from 'react-bootstrap'\r\nimport {  getPatientsLoadingStatus, updateTransferPatient,\r\n    updateSelectedTransferPatient, getAllWaitingPatients, loadWaitingPatients} from '../../store/entities/patients';\r\nimport Loader from '../../components/Loader'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\n\r\n\r\nconst AcceptanceWaiting = ({}) => {\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n    const auth = useSelector(state => state.auth);\r\n    const [userType, setUserType] = useState('')\r\n\r\n    const patientsDetails = useSelector(getAllWaitingPatients);\r\n    const patientsList = patientsDetails.waiting\r\n    console.log(patientsList)\r\n    const [patients, setPatients] = useState([...patientsList]);\r\n    const [patientState, setPatientState] = useState([...patientsList]);\r\n    const [selected, setSelected] = useState([]);\r\n    //console.log(selected)\r\n    //console.log(patientState)\r\n    const [allSelected, setAllSelected] = useState(false);\r\n    //console.log(allSelected)\r\n    const patientsLoading = useSelector(getPatientsLoadingStatus);\r\n\r\n    // const pageSize = 3;\r\n    // const [currentPage, setCurrentPage] = useState(1);\r\n    // let [paginated, setPaginated] = useState(patients);\r\n\r\n    useEffect(() => {\r\n        if(!auth.loggedIn){\r\n            window.location='/'\r\n        }\r\n        setUserType(auth.data.user.role)\r\n        dispatch(loadWaitingPatients())\r\n\r\n        setPatientState(\r\n            patientsList.map( p=>{\r\n                return {\r\n                     select: false,\r\n                    _id: p._id,\r\n                    name: p.name,\r\n                    age: p.age,\r\n                    'tel':p.name,\r\n                    'address':p.name\r\n                }\r\n            })\r\n        )\r\n\r\n    },[dispatch])\r\n\r\n    const Aproval = (decision, patientId)=>{\r\n        const transferUpdate = {\r\n            patientId,\r\n            transferDetails:{\r\n                transferState : decision\r\n            }\r\n        }\r\n        dispatch(updateTransferPatient(transferUpdate));\r\n        setPatientState(patientState.filter(p=>p._id !== patientId))\r\n    }\r\n\r\n    const AproveSelected =(dicision) =>{\r\n        const transferUpdate = {\r\n            dicision:dicision,\r\n            selectedPatients: selected\r\n        }\r\n        dispatch(updateSelectedTransferPatient(transferUpdate));\r\n        setPatientState(patientState.filter(p=>p.select === false))\r\n        setSelected([]);\r\n    }\r\n\r\n    const handleSelected =(value, data)=>{\r\n        if(value === false && selected.length === patientsList.length){\r\n            setAllSelected(false);\r\n        }\r\n        if(value === true && selected.length === patientsList.length-1){\r\n            setAllSelected(true);\r\n        }\r\n        if(value == true){\r\n            let selectedList = [...selected]\r\n            let patient = patientsList.filter(p => p._id === data._id );\r\n            selectedList.push(patient[0]);\r\n            setSelected(selectedList);\r\n        }else{\r\n            setSelected(selected.filter(p=>p._id !== data._id));\r\n        }\r\n    }\r\n\r\n    const handleSelectAll =(check)=>{\r\n        if(check == true){\r\n            setAllSelected(check);\r\n            setSelected(patientsList)\r\n        }else{\r\n            setAllSelected(check);\r\n            setSelected([]);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n        {auth.loggedIn && patientsLoading && (<Loader></Loader>)}\r\n        {auth.loggedIn /*&& userType === 'hospitalAdmin' */? \r\n\r\n        <Container>\r\n           \r\n            <h4 style={{textAlign:'center', marginBottom:'40px', fontWeight:'700'}}>PATIENTS WAITING FOR APROVAL</h4>\r\n        {patientState.length === 0 ? <Card style={{backgroundColor:'#fca8a4', color:'#b73333', opacity:'0.5', padding:'10px'}}>No data</Card>:\r\n        <div>\r\n            <Row className='ml-3 mb-2'>\r\n                <Button\r\n                    value = {selected}\r\n                    disabled={selected.length === 0}\r\n                    onClick = { () => AproveSelected('accept')}\r\n                    className=\"btn btn-primary w-25 mr-2\"\r\n                >Accept Selected</Button>\r\n                <Button\r\n                    value = {selected}\r\n                    disabled={selected.length === 0}\r\n                    onClick = { () => AproveSelected('declined')}\r\n                    className=\"btn btn-danger w-25\"\r\n                    style={{opacity:'0.7'}}\r\n                >Decline Selected</Button>\r\n            </Row>\r\n\r\n            <Table striped bordered hover variant=\"light\">\r\n                <thead>\r\n                    <tr>\r\n                    <th><input \r\n                        type='checkBox'\r\n                        onChange ={(e) =>{\r\n                            let checked = e.target.checked\r\n                            setPatientState(patientState.map(p=>{\r\n                                p.select = checked;\r\n                                return p;\r\n                            }))\r\n                            handleSelectAll(checked)\r\n                        }}\r\n                        checked={allSelected}\r\n                    /></th>\r\n                    <th>Name</th>\r\n                    <th>Age</th>\r\n                    <th>Tel</th>\r\n                    <th>Address</th>\r\n                    <th>Profile</th>\r\n                    <th>Actions</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {patientState.map( p =>\r\n                    \r\n                        <tr>\r\n                            {/* <td>{p._id}</td> */}\r\n                            <td><input \r\n                                type='checkBox' \r\n                                onChange={(e) =>{\r\n                                    let checked = e.target.checked;\r\n                                    handleSelected(checked, p)\r\n                                    setPatientState(patientState.map( data=>{\r\n                                        if(data._id == p._id){\r\n                                            data.select = checked;\r\n                                        }\r\n                                        return data;\r\n                                    }))\r\n                                }}\r\n                                checked ={p.select}\r\n                            /></td>\r\n                            <td>{p.name}</td>\r\n                            <td>{p.age}</td>\r\n                            <td>{p.name}</td>\r\n                            <td>{p.name}</td>\r\n                            <td>\r\n                                <Button \r\n                                    value = {p._id}\r\n                                    onClick = { () => history.push(`/hospital/profile/${p._id}`)}\r\n                                    className=\"btn btn-light mr-2 ml-2\">Profile</Button>\r\n                            </td>\r\n                            <td>\r\n                                <Row>\r\n                                    <Button \r\n                                        value = {p._id}\r\n                                        onClick = { () => Aproval('accept', p._id)}\r\n                                        className=\"btn btn-primary mr-2 ml-2 text-center\"\r\n                                        style={{width:'40%'}}>Accept</Button>\r\n                                    <Button \r\n                                        value = {p._id}\r\n                                        style={{opacity:'0.8'}}\r\n                                        onClick = { () => Aproval('declined',p._id)}\r\n                                        className=\"btn btn-danger text-center\"\r\n                                        style={{width:'40%',opacity:'0.7'}}>Decline</Button>\r\n                                </Row>\r\n                            </td>\r\n                        </tr>\r\n                    )}\r\n                </tbody>\r\n            </Table>\r\n        </div>\r\n        }\r\n      \r\n\r\n        {/* <Pagination\r\n            itemsCount = {filtered.length} \r\n            pageSize = {pageSize} \r\n            currentPage = {currentPage}\r\n            onPageChange = {(page) => {\r\n                setCurrentPage(page);\r\n                setPaginated(paginate(filtered, page, pageSize));\r\n            }}\r\n        /> */}\r\n        \r\n        </Container>\r\n        : /*history.push('/')*/history.goBack()}\r\n\r\n    </>\r\n    )\r\n}\r\n\r\nexport default AcceptanceWaiting\r\n","import { createSlice} from '@reduxjs/toolkit'\r\nimport { apiCallBegan } from '../apiActions';\r\nimport { createSelector } from 'reselect';\r\nimport configData from '../../config.json';\r\nimport moment from 'moment';\r\n\r\nconst slice = createSlice({\r\n    name: \"pcr\",\r\n    initialState: {\r\n        list: [],\r\n        toConfirm: [],\r\n        toConfirmLoading: false,\r\n        toConfirmLastFetch: null,\r\n        loading: false,\r\n        pcrAdded: false,\r\n        lastFetch: null\r\n    },\r\n\r\n    reducers: {\r\n        pcrCreateRequested(pcr, action) {\r\n            pcr.loading = true;\r\n            pcr.pcrAdded = false;\r\n        },\r\n\r\n        pcrCreateRequestFailed(pcr, action){\r\n            pcr.loading = false;\r\n            pcr.pcrAdded = false\r\n        },\r\n\r\n        pcrCreateRequestSucceeded(pcr, action){\r\n            pcr.loading = false;\r\n            pcr.pcrAdded = true\r\n        },\r\n\r\n        \r\n        pcrRequested(pcr, action){\r\n            pcr.loading = true;\r\n        },\r\n\r\n\r\n        pcrRequestFailed(pcr, action){\r\n            pcr.loading = false;\r\n            \r\n        },\r\n\r\n        pcrReceived(pcr, action){\r\n            pcr.list = action.payload.data.tests;\r\n            pcr.loading = false;\r\n            pcr.lastFetch = Date.now();\r\n        },\r\n\r\n        pcrStatusChange(pcr, action){\r\n            const index = pcr.list.findIndex(p => p._id === action.payload.data.test._id);\r\n           // console.log(index)\r\n            pcr.list[index].result =  action.payload.data.test.result\r\n        },\r\n\r\n        \r\n        toConfirmPcrRequested(pcr, action){\r\n            pcr.toConfirmLoading = true;\r\n        },\r\n\r\n\r\n        toConfirmPcrRequestFailed(pcr, action){\r\n            pcr.toConfirmLoading = false;\r\n            \r\n        },\r\n\r\n        toConfirmPcrReceived(pcr, action){\r\n            console.log('efgrgerger')\r\n            pcr.toConfirm = action.payload.data.tests;\r\n            pcr.toConfirmLoading = false;\r\n            pcr.toConfirmLastFetch = Date.now();\r\n        },\r\n\r\n        pcrAprovalUpdated(pcr, action){\r\n              const ids = action.payload.data.ids\r\n              const list = pcr.toConfirm.filter( p=> !p._id.includes(ids));\r\n              pcr.toConfirm = list;\r\n        }\r\n    }\r\n});\r\n\r\nexport default slice.reducer;\r\n\r\nexport const {\r\n    pcrRequested,\r\n    pcrRequestFailed,\r\n    pcrReceived,\r\n    pcrCreateRequested,\r\n    pcrCreateRequestFailed,\r\n    pcrCreateRequestSucceeded,\r\n    pcrAprovalUpdated,\r\n    pcrStatusChange,\r\n    toConfirmPcrRequested,\r\n    toConfirmPcrReceived,\r\n    toConfirmPcrRequestFailed,\r\n} =slice.actions;\r\n\r\nconst pcrURL = \"/api/v1/\";\r\nconst refreshTime = configData.REFRESH_TIME;\r\n\r\nexport const loadPcrs = () => (dispatch, getState) => {\r\n   const { lastFetch } = getState().entities.pcr;\r\n   const diffInMinutes = moment().diff(moment(lastFetch), \"minutes\");\r\n   if (diffInMinutes < refreshTime) return;\r\n     \r\n    return dispatch(\r\n        apiCallBegan({\r\n          //  url: pcrURL + 'pcr/toconfirm',\r\n            url: pcrURL + 'pcr/',\r\n            method: \"get\",\r\n            onStart: pcrRequested.type,\r\n            onSuccess: pcrReceived.type,\r\n            onError: pcrRequestFailed.type,\r\n        })\r\n    );\r\n};\r\n\r\nexport const loadToConfirmPcrs = () => (dispatch, getState) => {\r\n    const { toConfirmLastFetch } = getState().entities.pcr;\r\n    const diffInMinutes = moment().diff(moment(toConfirmLastFetch), \"minutes\");\r\n    if (diffInMinutes < refreshTime) return;\r\n      \r\n     return dispatch(\r\n         apiCallBegan({\r\n             url: pcrURL + 'pcr/toconfirm',\r\n             method: \"get\",\r\n             onStart: toConfirmPcrRequested.type,\r\n             onSuccess: toConfirmPcrReceived.type,\r\n             onError: toConfirmPcrRequestFailed.type,\r\n         })\r\n     );\r\n };\r\n\r\nexport const addPcr = (pcr) => (dispatch) => {\r\n    console.log(pcr)\r\n    return dispatch(\r\n        apiCallBegan({\r\n            url: pcrURL + 'pcr',\r\n            method: \"post\",\r\n            data: pcr,\r\n            onStart: pcrCreateRequested,\r\n            onSuccess: pcrCreateRequestSucceeded.type,\r\n            onError: pcrCreateRequestFailed\r\n        })\r\n    );\r\n}\r\n\r\nexport const getPcrLoadingStatus = createSelector(\r\n    state => state.entities.pcr.loading,\r\n    loading => loading\r\n);\r\n\r\nexport const getPcrAddedStatus = createSelector(\r\n    state => state.entities.pcr,\r\n    pcr => pcr.pcrAdded\r\n)\r\n\r\nexport const getAllPcrs = createSelector(\r\n    state => state.entities.pcr,\r\n    pcr => pcr.list\r\n);\r\n\r\nexport const getToConfirmPcrLoadingStatus = createSelector(\r\n    state => state.entities.pcr.toConfirmLoading,\r\n    toConfirmLoading => toConfirmLoading\r\n);\r\n\r\n\r\nexport const getToConfirmPcrs = createSelector(\r\n    state => state.entities.pcr,\r\n    pcr => pcr.toConfirm\r\n);\r\n\r\nexport const changeStatus = (id, status) => (dispatch) =>{\r\n    console.log(id, status)\r\n    return dispatch(\r\n        apiCallBegan({\r\n            url: pcrURL + `pcr/${id}/changestatus`,\r\n            method: \"patch\",\r\n            data: {status: status},\r\n            onSuccess: pcrStatusChange.type,\r\n        })\r\n    )\r\n}\r\n\r\nexport const updatePcrAproval = (ids) => (dispatch) =>{\r\n    console.log(ids)\r\n    return dispatch(\r\n        apiCallBegan({\r\n            url: pcrURL + \"pcr/confirm\",\r\n            method: \"post\",\r\n            data: ids,\r\n            onSuccess: pcrAprovalUpdated.type,\r\n        })\r\n    )\r\n}\r\n\r\n","import React, {useEffect, useState} from 'react'\r\n//import { Alert } from 'react-alert'\r\nimport {  Formik, yupToFormErrors } from 'formik';\r\nimport {Container, Button, Card, Row, Col, Nav, Form, FormControl} from 'react-bootstrap';\r\nimport * as Yup from 'yup';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { toastAction } from '../../store/toastActions';\r\nimport { addPcr, getPcrAddedStatus } from '../../store/entities/pcr';\r\n\r\nconst AddPcrResults = ({history}) => {\r\n    const dispatch = useDispatch()\r\n\r\n     const pcrAdded = useSelector(getPcrAddedStatus);\r\n     const [pcrState, setPcrState] = useState(false)\r\n    const auth = useSelector(state => state.auth);\r\n\r\n    const [nic, setnic] = useState(Yup.string().max(10, \"'Invalid NIC Number. Ex:- 1234567V'\")\r\n             .matches(/[3-9]+[0-9]{8,8}(v|V|x|X)$/, 'Invalid NIC Number. Ex:- 1234567V').required('NIC number is required...'))\r\n\r\n\r\n    const [ selectedResult, setSelectedResult ] = useState('');\r\n\r\n    const [ schema, setSchema ] = useState({ \r\n        first_name : Yup.string().required('First Name is required...'),\r\n        last_name : Yup.string().required(\"Last Name is required...\"),\r\n        Tel_number : Yup.string().matches(/^(?:7|0|(?:\\+94))[0-9]{9,9}$/, 'Invalid Phone Number. Ex:- 0123458907')\r\n                        .required('Phone number is required...'),\r\n        NIC_number : nic,\r\n       // age : Yup.number(\"Age should be a number\").positive().required(\"Age is required\"),\r\n        birth_year : Yup.string()\r\n        .required(\"Birth Year is required\")\r\n        .min(4, \"Invalid Birth year\")\r\n        .max(4, \"Invalid Birth year\")\r\n        .matches(/^(?:19|(?:20))[0-9]{1,1}[0-9]{1,1}$/, \"Month must be greater than 0 and can't be exceeded 12\")\r\n\r\n    });\r\n\r\n    const [initialValues, setInitialValues ] = useState({\r\n        first_name: '',\r\n        last_name: '',\r\n        Tel_number:'',\r\n        NIC_number:'',\r\n        birth_year:'',\r\n    });\r\n\r\n    const submitForm = (values) => {\r\n        const {first_name, last_name, Tel_number, NIC_number, age, birth_year } = values;\r\n        const year = new Date().getFullYear()\r\n\r\n        if(selectedResult !== \"\"){\r\n            if(parseInt(birth_year, 10)>year){\r\n                alert(`Birth year must be lower or equal to ${year}`)\r\n            }else{\r\n                const Result = {\r\n                    name:{\r\n                        firstName : first_name,\r\n                        lastName : last_name,\r\n                    },\r\n                    contactNumber : parseInt(Tel_number),\r\n                    nic : {\r\n                        nicno:NIC_number,\r\n                        birthYear : birth_year\r\n                    },\r\n                    result : selectedResult,\r\n                }\r\n                console.log(Result)\r\n                dispatch(addPcr(Result));\r\n                setPcrState(true);\r\n            } \r\n        }else{\r\n            alert('Please select correct PCR result')\r\n        }\r\n    }\r\n\r\n\r\n    const [NIClength, SetNIClength] = useState(10);\r\n\r\n    const handleSelected =(check) =>{\r\n        if(check === true){\r\n            schema.NIC_number = Yup.string().max(12, \"'Invalid NIC Number. Ex:- 199812345678'\")\r\n             .matches(/19[3-9][0-9]{9,9}$|200[0-3][0-9]{8,8}$/, 'Invalid NIC Number. Ex:- 199812345678').required('NIC number is required...')\r\n            SetNIClength(12)\r\n        }if(check === false){\r\n            schema.NIC_number = Yup.string().max(10, \"'Invalid NIC Number. Ex:- 1234567V'\")\r\n             .matches(/[3-9]+[0-9]{8,8}(v|x)$/, 'Invalid NIC Number. Ex:- 1234567V').required('NIC number is required...')\r\n            SetNIClength(10)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n       if(pcrState && pcrAdded){\r\n           dispatch(toastAction({ message: \"PCR added successfully...\" , type: 'info'}))\r\n       }\r\n       else if(pcrState && !pcrAdded){\r\n            dispatch(toastAction({ message: \"PCR added successfully...\" , type: 'error'}))\r\n       }\r\n    },[dispatch, pcrAdded])\r\n\r\n    return (\r\n        <>\r\n        {auth.loggedIn ? \r\n        <Container className=' formContainer mt-3'>\r\n        <Formik\r\n            validationSchema = {Yup.object().shape(schema)}\r\n            onSubmit = {submitForm}\r\n            initialValues = {initialValues}\r\n        >\r\n            {({\r\n                handleSubmit,\r\n                handleChange,\r\n                handleBlur,\r\n                values,\r\n                touched,\r\n                isValid,\r\n                dirty,\r\n                errors\r\n            }) => (\r\n            <Form noValidate onSubmit={handleSubmit}>\r\n            <h2 style={{textAlign:'center', fontWeight:'700'}}>ADD PCR RESULTS</h2>\r\n\r\n            {/* <Col>\r\n                <Row> */}\r\n   \r\n        <div className=\"vs-row top-content\" style={{display:'flex', width:'100%'}}>\r\n            <div className=\"vs-col vs-xs- vs-sm-12 vs-lg-6\"style={{margin:'0%',width:'100%', position:'relative'}}>\r\n                <div className=\"set-animation from-left animate\">\r\n                    <Form.Group controlId = 'firstName' className='m-2' style={{width:'100%'}}>\r\n                        <Form.Label className = 'form-label m-2'>First Name</Form.Label>\r\n                            <Form.Control \r\n                                className='textBox'\r\n                                type='text'\r\n                                name='first_name'\r\n                                value={values.first_name}\r\n                                onChange={handleChange}\r\n                                placeholder='First Name'\r\n                                isValid={touched.first_name && !errors.first_name}\r\n                                isInvalid={!!errors.first_name}\r\n                                size = {'lg'} \r\n                                autoComplete='disabled'\r\n                            />\r\n                            <FormControl.Feedback type='invalid'>{errors.first_name}</FormControl.Feedback>\r\n                    </Form.Group>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"vs-col vs-xs- vs-sm-12 vs-lg-6\"style={{margin:'0%',width:'100%', position:'relative'}}>\r\n                <div className=\"set-animation from-left animate\">\r\n\r\n                    <Form.Group controlId = 'lastName' className='m-2 float-right' style={{width:'100%', float:'right'}}>\r\n                    <Form.Label className = 'form-label m-2'>Last Name</Form.Label>\r\n                        <Form.Control \r\n                            className='textBox'\r\n                            type='text'\r\n                            name='last_name'\r\n                            value={values.last_name}\r\n                            onChange={handleChange}\r\n                            placeholder='Last Name'\r\n                            isValid={touched.last_name && !errors.last_name}\r\n                            isInvalid={!!errors.last_name}\r\n                            size = {'lg'} \r\n                            autoComplete = 'disabled'\r\n                        />\r\n                        <FormControl.Feedback type='invalid'>{errors.last_name}</FormControl.Feedback>\r\n                    </Form.Group>\r\n                </div>\r\n            </div>\r\n        </div>\r\n                {/* </Row>\r\n\r\n                <Row> */}\r\n        <div className=\"vs-row top-content\" style={{display:'flex', width:'100%'}}>\r\n            <div className=\"vs-col vs-xs- vs-sm-12 vs-lg-6\"style={{margin:'0%',width:'100%', position:'relative'}}>\r\n                <div className=\"set-animation from-left animate\">\r\n\r\n                    <Form.Group controlId = 'telNumber' className='m-2 float-right' style={{width:'100%', float:'right'}}>\r\n                        <Form.Label className = 'form-label'>Telephone Number</Form.Label>\r\n                            <Form.Control \r\n                                className='textBox'\r\n                                type='text'\r\n                                name='Tel_number'\r\n                                value={values.Tel_number}\r\n                                onChange={handleChange}\r\n                                placeholder='Telephone Number'\r\n                                isValid={touched.Tel_number && !errors.Tel_number}\r\n                                isInvalid={!!errors.Tel_number}\r\n                                size = {'lg'} \r\n                                autoComplete = 'off'\r\n                            />\r\n                        <FormControl.Feedback type='invalid'>{errors.Tel_number}</FormControl.Feedback>\r\n                    </Form.Group>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"vs-col vs-xs- vs-sm-12 vs-lg-6\"style={{margin:'0%',width:'100%', position:'relative'}}>\r\n                <div className=\"set-animation from-left animate\">\r\n\r\n                    <Form.Group controlId = 'NicNumber' className='m-2 float-right' style={{width:'100%', float:'right'}}>\r\n                            <Row>\r\n                                <input \r\n                                    type='checkbox'\r\n                                    style={{width:'5%', marginTop:'5px', marginLeft:'50px'}}\r\n                                    onChange={(e) =>{\r\n                                        let checked = e.target.checked;\r\n                                        handleSelected(checked)\r\n                                    }}\r\n                                />\r\n                                <Form.Label className = 'form-label w-75'>Please select here if new NIC Number</Form.Label> \r\n                            </Row>\r\n\r\n                            <div>\r\n                                <Form.Control \r\n                                    className='textBox'\r\n                                    type='text'\r\n                                    maxLength={NIClength}\r\n                                    name='NIC_number'\r\n                                    value={values.NIC_number}\r\n                                    onChange={handleChange}\r\n                                    placeholder='NIC Number'\r\n                                    isValid={touched.NIC_number && !errors.NIC_number}\r\n                                    isInvalid={!!errors.NIC_number}\r\n                                    size = {'lg'} \r\n                                    autoComplete = 'disabled'\r\n                                />\r\n                                <FormControl.Feedback type='invalid'>{errors.NIC_number}</FormControl.Feedback>\r\n                            </div>\r\n\r\n                    </Form.Group>\r\n                </div>\r\n            </div>\r\n        </div>\r\n       \r\n\r\n                {/* </Row>\r\n\r\n                <Row> */}\r\n        <div className=\"vs-row top-content\" style={{display:'flex', width:'100%'}}>\r\n            <div className=\"vs-col vs-xs- vs-sm-12 vs-lg-6\"style={{margin:'0%',width:'100%', position:'relative'}}>\r\n                <div className=\"set-animation from-left animate\">\r\n                   <Form.Group controlId = 'PcrResult' className='m-2 float-right' style={{width:'100%', float:'right'}}>\r\n                        <Form.Label className = 'form-label'>PCR test result</Form.Label>\r\n                        <Form.Control \r\n                                style={{height:'48px'}}\r\n                                name='Test_result' \r\n                                onChange = {(e) => {\r\n                                    setSelectedResult(e.target.value)\r\n                                }} as=\"select\">\r\n                                    <option  value=\"\">Select the PCR result </option>\r\n                                    <option  value=\"positive\">Positive</option>\r\n                                    <option  value=\"negative\">Negative</option>\r\n                            </Form.Control>\r\n                    </Form.Group>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"vs-col vs-xs- vs-sm-12 vs-lg-6\"style={{margin:'0%',width:'100%', position:'relative'}}>\r\n                <div className=\"set-animation from-left animate\">\r\n\r\n                    {/* <Form.Group controlId = 'lastName' className='m-2 float-right' style={{width:'100%', float:'right'}}>\r\n                    <Form.Label className = 'form-label'>Age</Form.Label>\r\n                        <Form.Control \r\n                            className='textBox'\r\n                            type='text'\r\n                            name='age'\r\n                            value={values.age}\r\n                            onChange={handleChange}\r\n                            placeholder='Age'\r\n                            isValid={touched.age && !errors.age}\r\n                            isInvalid={!!errors.age}\r\n                            size = {'lg'} \r\n                            autoComplete = 'disabled'\r\n                        />\r\n                        <FormControl.Feedback type='invalid'>{errors.age}</FormControl.Feedback>\r\n                    </Form.Group> */}\r\n                   <Form.Group controlId = 'birthYer' className='m-2 float-right' style={{width:'100%', float:'right'}}>\r\n                        <Form.Label className = 'form-label'>Birth Year</Form.Label>\r\n                            <Form.Control \r\n                                className='textBox'\r\n                                type='text'\r\n                                name='birth_year'\r\n                                minLength={4}\r\n                                value={values.birth_year}\r\n                                onChange={handleChange}\r\n                                placeholder='Birth Year'\r\n                                isValid={touched.birth_year && !errors.birth_year}\r\n                                isInvalid={!!errors.birth_year}\r\n                                size = {'lg'} \r\n                                autoComplete = 'off'\r\n                            />\r\n                        <FormControl.Feedback type='invalid'>{errors.birth_year}</FormControl.Feedback>\r\n                    </Form.Group>\r\n                </div>\r\n            </div>\r\n        </div>\r\n                {/* </Row> */}\r\n\r\n            {/* </Col> */}\r\n            <br/><br/>\r\n            <div class=\"col-md-12 text-center\">\r\n                <Button \r\n                    type='submit'\r\n                    className='mb-3'\r\n                    style={{float:'center'}}\r\n                >\r\n                Add PCR Results\r\n                </Button>\r\n            </div>\r\n            </Form>\r\n            )}\r\n        </Formik>\r\n        </Container> : history.push('/')}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default AddPcrResults\r\n","import { createSelector, createSlice } from '@reduxjs/toolkit';\r\nimport { apiCallBegan } from './apiActions';\r\n//Auth Slice\r\n\r\nconst slice = createSlice({\r\n    name: 'auth',\r\n    initialState: {\r\n        data: {},\r\n        token: '',\r\n        logging: false,\r\n        loggedIn : false,\r\n        wardAdded: false,\r\n        wardUpdated:false,\r\n        wardDelete: false\r\n    },\r\n    reducers: {\r\n\r\n        userLoginRequested(user, action){\r\n            user.logging = true;\r\n        },\r\n\r\n        userLoginFailed(user, action) {\r\n            user.logging = false;\r\n            user.error = action.payload;\r\n        },\r\n\r\n        userLoginSucceeded(user, action){\r\n            user.logging = false;\r\n            delete user.error;\r\n            user.data = action.payload.data;\r\n            user.token = action.payload.token; \r\n            //Cookies.set(\"token\", user.token) \r\n            user.loggedIn = true;\r\n            console.log(user.data)\r\n        },\r\n\r\n        // userLoginRequested(user, action){\r\n        //     auth.logging = true;\r\n        // },\r\n\r\n        // userLoginFailed(user, action) {\r\n        //     auth.logging = false;\r\n        //     auth.error = action.payload;\r\n        // },\r\n\r\n        // userLoginSucceeded(auth, action){\r\n        //     auth.logging = false;\r\n        //     delete auth.error;\r\n        //    // auth.data = action.payload.data;\r\n        //     auth.token = action.payload.data.auth.token;  \r\n        //     auth.loggedIn = true;\r\n        //     console.log(auth.loggedIn);\r\n        // },\r\n\r\n\r\n\r\n\r\n        userLoggedOut(user,action){\r\n            user.loggedIn = false;\r\n            user.data = {};\r\n            user.token=''\r\n        },\r\n\r\n        authDataUpdated(user, action){\r\n            user.data = {...user.data, ...action.payload};\r\n        },\r\n\r\n        wardCreateRequested(auth, action) {\r\n            // hospital.loading = true;\r\n             auth.wardAdded = false;\r\n        },\r\n\r\n        wardCreateRequestFailed(auth, action){\r\n           // hospital.loading = false;\r\n        },\r\n\r\n        wardCreateRequestSucceeded(auth, action){\r\n            auth.wardAdded = true\r\n            auth.data.user.admin.hospital.wards.push(action.payload.data.ward) //= wardId.hospital\r\n        },\r\n\r\n        wardUpdated(auth, action){\r\n            auth.wardUpdated = true\r\n            //console.log(action.payload.data.ward.totalBeds)\r\n            const index =  auth.data.user.admin.hospital.wards.findIndex(p => p.name === action.payload.data.ward.name)\r\n            auth.data.user.admin.hospital.wards[index].totalBeds = action.payload.data.ward.totalBeds\r\n           \r\n       },\r\n\r\n       wardDelete(auth, action){\r\n           auth.wardDelete = true;\r\n           const newWardList = auth.data.user.admin.hospital.wards.filter(p => p.name !== action.payload.data.ward.name)\r\n           auth.data.user.admin.hospital.wards = newWardList\r\n       },\r\n\r\n        userUpdated(auth, action){\r\n            auth.data.user.user = action.payload.data.user\r\n            console.log(action.payload.data)\r\n        },\r\n    }\r\n});\r\n\r\n\r\n//Reducer\r\nexport default slice.reducer;\r\n\r\n\r\n//Action Creators\r\nexport const { \r\n    userLoginRequested, \r\n    userLoginFailed, \r\n    userLoginSucceeded, \r\n    userLoggedOut,\r\n    authDataUpdated,\r\n    wardUpdated,\r\n    wardDelete,\r\n    wardCreateRequested,\r\n    wardCreateRequestFailed,\r\n    wardCreateRequestSucceeded,\r\n    userUpdated,\r\n    } = slice.actions;\r\n\r\nconst hospitalURL = \"/api/v1/hospital\";\r\n\r\n\r\n//Action Invokers\r\nexport const login = (data) => (dispatch) => {\r\n    const url = '/api/v1/users/login';\r\n    return dispatch(\r\n        apiCallBegan({\r\n            url,\r\n            onStart: userLoginRequested.type,\r\n            onError: userLoginFailed.type,\r\n            onSuccess: userLoginSucceeded.type,\r\n            method: 'post',\r\n            data : data\r\n        })\r\n    );\r\n};\r\n\r\n\r\nexport const logout = () => (dispatch) =>dispatch(userLoggedOut());\r\n\r\n\r\n//Selectors\r\n\r\nexport const getAuthDetails = createSelector(\r\n    state => state.auth.data,\r\n    userData => userData\r\n);\r\n\r\nexport const getAllAuthDetails = createSelector(\r\n    state => state.auth,\r\n    auth => auth\r\n);\r\n\r\n\r\nexport const getLoggedInStatus = createSelector(\r\n    state => state.auth,\r\n  //  loggedIn => loggedIn\r\n    auth => auth.loggedIn\r\n);\r\n\r\nexport const updateAuthData = (data) => authDataUpdated(data);\r\n\r\nexport const addWard = (ward) => (dispatch) => {\r\n    console.log(ward)\r\n    return dispatch(\r\n        apiCallBegan({\r\n            url: hospitalURL + `/ward`,\r\n            method: \"post\",\r\n            data: ward,\r\n            onStart: wardCreateRequested,\r\n            onSuccess: wardCreateRequestSucceeded.type,\r\n            onError: wardCreateRequestFailed\r\n        })\r\n    );\r\n}\r\n\r\nexport const updateWard= (ward, wardId) => (dispatch) => {\r\n    console.log(ward)\r\n    return dispatch(\r\n        apiCallBegan({\r\n            url: hospitalURL + `/ward/${wardId}`,\r\n            method: \"patch\",\r\n            data: ward,\r\n            onSuccess: wardUpdated.type,\r\n        })\r\n    );\r\n\r\n}\r\n\r\nexport const deleteWard= (ward, id) => (dispatch) => {\r\n    console.log(ward, id)\r\n    return dispatch(\r\n        apiCallBegan({\r\n            url: hospitalURL + `wards/${id}`,\r\n            method: \"patch\",\r\n            data: ward,\r\n            onSuccess: wardDelete.type,\r\n        })\r\n    );\r\n}\r\n\r\nexport const updateUser = (user) => (dispatch) => {\r\n    console.log(user)\r\n    return dispatch(\r\n        apiCallBegan({\r\n            url: 'api/v1/users/update',\r\n            method: \"patch\",\r\n            data: user,\r\n            onSuccess: userUpdated.type,\r\n        })\r\n    );\r\n}\r\n\r\n","import React, {useEffect, useState} from 'react'\r\nimport {Container, Button, Card, Row, Col, Nav, Form, FormControl} from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {  Formik } from 'formik';\r\nimport axios from 'axios';\r\nimport * as Yup from 'yup';\r\n//import { updateUser } from '../../store/entities/users';\r\nimport { updateUser } from '../../store/auth';\r\n//import  { getPatientById,  updatePatient} from '../../store/entities/patients';\r\nimport { toastAction } from '../../store/toastActions';\r\n\r\nconst EditProfile = ({match, history}) => {\r\n\r\n    const dispatch = useDispatch()\r\n    const patientId = match.params.id\r\n\r\n   // const auth = useSelector(state => state.auth);\r\n   // console.log(auth)\r\n\r\n    const userDetails = useSelector(state => state.auth);\r\n    const { user } = userDetails.data.user\r\n    const patient = user\r\n\r\n   // console.log(patient)\r\n\r\n   const districts = [{id:'0', name:'Ampara'},{ id:'1', name:'Anuradhapura'},{id:'2',name:'Badulla'},\r\n   {id:'3', name:'Batticaloa'},{id:'4', name:'Colombo'},{id:'5', name:'Galle'},{id:'6', name:'Gampaha'}, \r\n   {id:'7', name:'Hambanthota'},{id:'8', name:'Jaffna'},{id:'9', name:'Kalutara'},{id:'10', name:'Kandy'},\r\n   {id:'11', name:'Kegalle'},{id:'12', name:'Kilinochchi'},{id:'13', name:'Kurunegala'},{id:'14', name:'Mannar'},\r\n   {id:'15', name:'Matale'},{id:'16', name:'Matara'},{id:'17', name:'Monaragala'},{id:'18', name:'Mullativu'},\r\n   {id:'19', name:'Nuwara Eliya'},{id:'20', name:'Polonnaruwa'},{id:'21', name:'Puttalam'},\r\n   {id:'22', name:'Ratnapura'},{id:'23', name:'Trincomalee'},{id:'24', name:'Vavuniya'},  ]\r\n\r\n   const [currentDistrict, setDistrict] = useState()\r\n   console.log(currentDistrict)\r\n  \r\n\r\n    const { address, birthday, contactNo, name } = patient\r\n    const birthDay = birthday.split(\"-\")\r\n    const dateFormat = birthDay[0]+\"-\"+birthDay[1]+\"-\"+birthDay[2][0]+birthDay[2][1]\r\n\r\n    const { line1, line2, city, district} = address\r\n    const districtId = getDistrict(districts, district)\r\n    //setDistrict(districtId)\r\n    console.log(districtId)\r\n    const { firstName, lastName} = name\r\n\r\n\r\n    const [ schema, setSchema ] = useState({ \r\n        first_name : Yup.string().required('First Name is required...'),\r\n        last_name : Yup.string().required(\"Last Name is required...\"),\r\n        Tel_number : Yup.string().matches(/^(?:7|0|(?:\\+94))[0-9]{9,9}$/, 'Invalid Phone Number. Ex:- 0123458907')\r\n                        .required('Phone number is required...'),\r\n       // address: Yup.string().required('Address is required'),\r\n        line1: Yup.string().required('Address is required'),\r\n        line2: Yup.string().required('Address is required'),\r\n        city: Yup.string().required('City is required')\r\n\r\n\r\n    });\r\n\r\n    const [initialValues, setInitialValues ] = useState({\r\n        first_name: firstName,\r\n        last_name: lastName,\r\n        Tel_number: contactNo,\r\n        line1: line1,\r\n        line2: line2,\r\n        city: city,\r\n        birthday: dateFormat,\r\n        district: currentDistrict\r\n    });\r\n\r\n    const submitForm = (values) => {\r\n        const {first_name, last_name, Tel_number, birthday, line1, line2, city } = values;\r\n        //const dis = districts[currentDistrict].name\r\n        let patientDistrict = ''\r\n        if(typeof(currentDistrict) === 'number'){\r\n            patientDistrict  = districts[currentDistrict].name\r\n        }else{\r\n            patientDistrict  = currentDistrict\r\n        }\r\n        const Result = {\r\n                name : {\r\n                    firstName: first_name,\r\n                    lastName : last_name,\r\n                },\r\n                contactNo : parseInt(Tel_number),\r\n                birthday: birthday,\r\n                address : {\r\n                    line1: line1,\r\n                    line2: line2,\r\n                    city: city,\r\n                    district: patientDistrict \r\n                },\r\n              //  city,\r\n              //  patientDistrict ,\r\n        }\r\n        console.log(Result)\r\n        dispatch(updateUser(Result))\r\n      //  dispatch(updatePatient(Result, patientId));\r\n        //dispatch(toastAction({ message: \"Profile Updated Successfully\", type: 'info' }))\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        // const fetchPatient = async () => {\r\n        //     const {data} = await axios.get(`http://localhost:8000/api/v1/patients/${patientId}`)\r\n        //     setPatient(data.data)\r\n        // }\r\n\r\n        // fetchPatient()\r\n    }, [dispatch])\r\n\r\n    return (\r\n\r\n            <Container className=' formContainer mt-3'>\r\n                 {userDetails.loggedIn ? \r\n            <Formik\r\n                validationSchema = {Yup.object().shape(schema)}\r\n                onSubmit = {submitForm}\r\n                initialValues = {initialValues}\r\n            >\r\n                {({\r\n                    handleSubmit,\r\n                    handleChange,\r\n                    handleBlur,\r\n                    values,\r\n                    touched,\r\n                    isValid,\r\n                    dirty,\r\n                    errors\r\n                }) => (\r\n                <Form noValidate onSubmit={handleSubmit}>\r\n                <h3 style={{textAlign:'center', fontWeight:'700'}}>EDIT PATIENT PERSONAL DETAILS</h3>\r\n    \r\n       \r\n            <div className=\"vs-row top-content\" style={{display:'flex', width:'100%'}}>\r\n                <div className=\"vs-col vs-xs- vs-sm-12 vs-lg-6\"style={{margin:'0%',width:'100%', position:'relative'}}>\r\n                    <div className=\"set-animation from-left animate\">\r\n                        <Form.Group controlId = 'firstName' className='m-2' style={{width:'100%'}}>\r\n                            <Form.Label className = 'form-label m-2'>First Name</Form.Label>\r\n                                <Form.Control \r\n                                    className='textBox'\r\n                                    type='text'\r\n                                    name='first_name'\r\n                                    value={values.first_name}\r\n                                    onChange={handleChange}\r\n                                    placeholder='First Name'\r\n                                    isValid={touched.first_name && !errors.first_name}\r\n                                    isInvalid={!!errors.first_name}\r\n                                    size = {'lg'} \r\n                                    autoComplete='disabled'\r\n                                />\r\n                                <FormControl.Feedback type='invalid'>{errors.first_name}</FormControl.Feedback>\r\n                        </Form.Group>\r\n                    </div>\r\n                </div>\r\n    \r\n                <div className=\"vs-col vs-xs- vs-sm-12 vs-lg-6\"style={{margin:'0%',width:'100%', position:'relative'}}>\r\n                    <div className=\"set-animation from-left animate\">\r\n    \r\n                        <Form.Group controlId = 'lastName' className='m-2 float-right' style={{width:'100%', float:'right'}}>\r\n                        <Form.Label className = 'form-label m-2'>Last Name</Form.Label>\r\n                            <Form.Control \r\n                                className='textBox'\r\n                                type='text'\r\n                                name='last_name'\r\n                                value={values.last_name}\r\n                                onChange={handleChange}\r\n                                placeholder='Last Name'\r\n                                isValid={touched.last_name && !errors.last_name}\r\n                                isInvalid={!!errors.last_name}\r\n                                size = {'lg'} \r\n                                autoComplete = 'disabled'\r\n                            />\r\n                            <FormControl.Feedback type='invalid'>{errors.last_name}</FormControl.Feedback>\r\n                        </Form.Group>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"vs-row top-content\" style={{display:'flex', width:'100%'}}>\r\n                <div className=\"vs-col vs-xs- vs-sm-12 vs-lg-6\"style={{margin:'0%',width:'100%', position:'relative'}}>\r\n                    <div className=\"set-animation from-left animate\">\r\n                        <Form.Group controlId = 'telNumber' className='m-2 float-right' style={{width:'100%', float:'right'}}>\r\n                            <Form.Label className = 'form-label'>Birthday</Form.Label>\r\n                                <Form.Control \r\n                                    className='textBox'\r\n                                    type='date'\r\n                                    name='birthday'\r\n                                    value={values.birthday}\r\n                                    onChange={handleChange}\r\n                                    placeholder='Birthday'\r\n                                    isValid={touched.birthday && !errors.birthday}\r\n                                    isInvalid={!!errors.birthday}\r\n                                    size = {'lg'} \r\n                                    autoComplete = 'off'\r\n                                />\r\n                            <FormControl.Feedback type='invalid'>{errors.birthday}</FormControl.Feedback>\r\n                        </Form.Group>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"vs-col vs-xs- vs-sm-12 vs-lg-6\"style={{margin:'0%',width:'100%', position:'relative'}}>\r\n                    <div className=\"set-animation from-left animate\">\r\n    \r\n                        <Form.Group controlId = 'telNumber' className='m-2 float-right' style={{width:'100%', float:'right'}}>\r\n                            <Form.Label className = 'form-label'>Telephone Number</Form.Label>\r\n                                <Form.Control \r\n                                    className='textBox'\r\n                                    type='text'\r\n                                    name='Tel_number'\r\n                                    value={values.Tel_number}\r\n                                    onChange={handleChange}\r\n                                    placeholder='Telephone Number'\r\n                                    isValid={touched.Tel_number && !errors.Tel_number}\r\n                                    isInvalid={!!errors.Tel_number}\r\n                                    size = {'lg'} \r\n                                    autoComplete = 'off'\r\n                                />\r\n                            <FormControl.Feedback type='invalid'>{errors.Tel_number}</FormControl.Feedback>\r\n                        </Form.Group>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"vs-row top-content\" style={{display:'flex', width:'100%'}}>\r\n                <div className=\"vs-col vs-xs- vs-sm-12 vs-lg-4\"style={{margin:'0%',width:'100%', position:'relative'}}>\r\n                    <div className=\"set-animation from-left animate\">\r\n    \r\n                        <Form.Group controlId = 'address' className='m-2 float-right' style={{width:'100%', float:'right'}}>\r\n                        <Form.Label className = 'form-label'>Line 1</Form.Label>\r\n                            <Form.Control \r\n                                className='textBox'\r\n                                type='text'\r\n                                name='age'\r\n                                value={values.line1}\r\n                                onChange={handleChange}\r\n                                placeholder='Address'\r\n                                isValid={touched.line1 && !errors.line1}\r\n                                isInvalid={!!errors.line1}\r\n                                size = {'lg'} \r\n                                autoComplete = 'disabled'\r\n                            />\r\n                            <FormControl.Feedback type='invalid'>{errors.line1}</FormControl.Feedback>\r\n                        </Form.Group>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"vs-col vs-xs- vs-sm-12 vs-lg-4\"style={{margin:'0%',width:'100%', position:'relative'}}>\r\n                    <div className=\"set-animation from-left animate\">\r\n    \r\n                        <Form.Group controlId = 'address' className='m-2 float-right' style={{width:'100%', float:'right'}}>\r\n                        <Form.Label className = 'form-label'>Line 2</Form.Label>\r\n                            <Form.Control \r\n                                className='textBox'\r\n                                type='text'\r\n                                name='age'\r\n                                value={values.line2}\r\n                                onChange={handleChange}\r\n                                placeholder='Address'\r\n                                isValid={touched.line2 && !errors.line2}\r\n                                isInvalid={!!errors.line2}\r\n                                size = {'lg'} \r\n                                autoComplete = 'disabled'\r\n                            />\r\n                            <FormControl.Feedback type='invalid'>{errors.line2}</FormControl.Feedback>\r\n                        </Form.Group>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"vs-col vs-xs- vs-sm-12 vs-lg-4\"style={{margin:'0%',width:'100%', position:'relative'}}>\r\n                    <div className=\"set-animation from-left animate\">\r\n    \r\n                        <Form.Group controlId = 'city' className='m-2 float-right' style={{width:'100%', float:'right'}}>\r\n                        <Form.Label className = 'form-label'>City</Form.Label>\r\n                            <Form.Control \r\n                                className='textBox'\r\n                                type='text'\r\n                                name='city'\r\n                                value={values.city}\r\n                                onChange={handleChange}\r\n                                placeholder='Address'\r\n                                isValid={touched.city && !errors.city}\r\n                                isInvalid={!!errors.city}\r\n                                size = {'lg'} \r\n                                autoComplete = 'disabled'\r\n                            />\r\n                            <FormControl.Feedback type='invalid'>{errors.city}</FormControl.Feedback>\r\n                        </Form.Group>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"vs-col vs-xs- vs-sm-12 vs-lg-4\"style={{margin:'0%',width:'100%', position:'relative'}}>\r\n                    <div className=\"set-animation from-left animate\">\r\n                        <Form.Group controlId = 'city' className='m-2 float-right' style={{width:'100%', float:'right'}}>\r\n                            <Form.Label >District</Form.Label>\r\n                            <Form.Control \r\n                                className='textBox'\r\n                                style={{height:'48px'}}\r\n                               // value={values.district}\r\n                                onChange = {(e) => {\r\n                                    setDistrict(e.target.value)\r\n                                }} as=\"select\">\r\n                                {districts.map((c,index) => <option selected={index === values.district ? 'slected': null}>{`${c.name}`}</option>)}\r\n                        </Form.Control>\r\n                        </Form.Group>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n                <br/><br/>\r\n                <div class=\"col-md-12 text-center\">\r\n                    <Button \r\n                        type='submit'\r\n                        className='mb-3'\r\n                        style={{float:'center'}}\r\n                    >\r\n                    Submit\r\n                    </Button>\r\n                </div>\r\n                </Form>\r\n                )}\r\n            </Formik>: history.push('/')}\r\n            </Container>\r\n        )\r\n}\r\n\r\nexport default EditProfile\r\n\r\nfunction getDistrict(districtList, district){\r\n    if( typeof(district) !== 'undefined'){\r\n        const value = districtList.filter( p=> p.name === district )\r\n        console.log(value)\r\n        return value.id\r\n    }\r\n    return ''\r\n}\r\n\r\n","import React from 'react'\r\nimport { Button } from 'react-bootstrap'\r\n//import \"./PopUp.css\"\r\n\r\nconst PopUp = ({closePopUp}) => {\r\n    return (\r\n        <div className=\"popupBackground\">\r\n            <div className=\"popupContainer\">\r\n                <div className=\"titleCloseBtn\">\r\n                    <Button onClick={ () => closePopUp(false)}>X</Button>\r\n                </div>\r\n\r\n                <div className=\"popupTitle\">\r\n                    <h1>Are you sure want to continue?</h1>\r\n                </div>\r\n                <div className=\"popupBody\">\r\n                    <p>dfrgregerger</p>\r\n                </div>\r\n                <div className=\"popupFooter\">\r\n                    <Button onClick={ () => closePopUp(false)} id=\"cancelBtn\">Cancel</Button>\r\n                    <Button>Continue</Button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PopUp\r\n","import React, {useState} from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport {  updateTransferPatient, changePatientWard} from '../../store/entities/patients';\r\nimport { Card, Button, Col, Form,} from 'react-bootstrap';\r\nimport PopUp from '../popUp/PopUp';\r\nimport { toastAction } from '../../store/toastActions';\r\n\r\nconst Actions = ({patients, hospitals, wards, popUpHandler}) => {\r\n    console.log(patients)\r\n    const currentMedicalHistory = (patients.medicalHistory)[patients.medicalHistory.length-1]\r\n    const currentWardId = currentMedicalHistory.ward\r\n    const currentHospitalId = currentMedicalHistory.hospital\r\n   // console.log(currentMedicalHistory )\r\n    const dispatch = useDispatch()\r\n    const [tranferSt, transferState ] = useState('false');\r\n    const [hospitalName, setTransferHospital] = useState(hospitals[0].name)\r\n    const [wardName, setWardName] = useState(wards[0].name)\r\n\r\n    if(typeof(hospitals) ==! undefined && hospitals.length > 0){\r\n        setTransferHospital(hospitals[0].name)\r\n    }\r\n\r\n\r\n    const transferPatient = (TransferState) => {\r\n        if(currentHospitalId === getHospitalId(hospitals, hospitalName)){\r\n            dispatch(toastAction({ message: \"New hospital cannot be current hospital...\", type: 'error' }));\r\n        }\r\n        else{\r\n            const hospitalUpdate = {\r\n                hospital: getHospitalId(wards, wardName)\r\n            }\r\n    \r\n            console.log(hospitalUpdate)\r\n            dispatch(updateTransferPatient(hospitalUpdate, patients._id));\r\n        }\r\n        // const transferUpdate = {\r\n        //     patientId: patients._id,\r\n        //     transferDetails:{\r\n        //         hospitalName : hospitalName,\r\n        //         transferState : TransferState\r\n        //     }\r\n        // }\r\n   //     console.log(transferUpdate)\r\n   //     dispatch(updateTransferPatient(transferUpdate));\r\n        // if(TransferState == 'pending'){\r\n        //     transferState(TransferState)\r\n        // }else{\r\n        //    transferState('false')\r\n        // }\r\n    }\r\n\r\n    \r\n    const changeWard = () => {\r\n        if(currentWardId === getWardId(wards, wardName)){\r\n            dispatch(toastAction({ message: \"New ward cannot be current ward...\", type: 'error' }));\r\n        }\r\n        else{\r\n            const wardUpdate = {\r\n                ward: getWardId(wards, wardName)\r\n            }\r\n    \r\n            console.log(wardUpdate)\r\n            dispatch(changePatientWard(wardUpdate, patients._id));\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <Card className='m-2 con-vs-card text-center'>\r\n            <br></br>\r\n            <div className='text-center' >\r\n            <Button \r\n                type='submit'  \r\n                className=' w-50 text-center' \r\n                onClick ={ () => popUpHandler(true)}\r\n            >Discharge</Button></div>\r\n\r\n            \r\n            <hr style={{color: '#000000',backgroundColor: '#000000',height: .25,borderColor : '#000000'}}/>\r\n                {typeof(hospitals) === 'undefined' || hospitals.length === 0 ? \r\n                    <Card style={{backgroundColor:'#fca8a4', color:'#b73333', opacity:'0.5', padding:'10px', margin:'5px'}}\r\n                          className='m-2'\r\n                    >No Wards</Card> :\r\n                <Col>\r\n                    <h5>Change Ward</h5>\r\n                    <Form.Group>\r\n                        <Form.Control onChange = {(e) => {\r\n                            if(e.target.value !== \"Select Ward\"){\r\n                                setWardName(e.target.value);\r\n                            }\r\n                        }} as=\"select\">\r\n                        {wards.map((c,index) => <option selected={index === 0? 'slected': null}>{`${c.name}`}</option>)}\r\n                        </Form.Control>\r\n                    </Form.Group>\r\n                    <Button\r\n                        onClick ={ () => changeWard()}\r\n                    >Change Ward</Button>  \r\n                </Col> }\r\n            <hr style={{color: '#000000',backgroundColor: '#000000',height: .25,borderColor : '#000000'}}/>\r\n            \r\n            <div>\r\n                {typeof(hospitals) === 'undefined' || hospitals.length === 0 ? \r\n                    <Card style={{backgroundColor:'#fca8a4', color:'#b73333', opacity:'0.5', padding:'10px', margin:'5px'}}\r\n                          className='m-2'\r\n                    >No Hospitals</Card> :\r\n                <Col>\r\n                    <h5 >Transfer Patient</h5>\r\n                    <Form.Group>\r\n                        <Form.Control onChange = {(e) => {\r\n                            if(e.target.value !== \"Select Hospital\"){\r\n                                setTransferHospital(e.target.value);\r\n                            }\r\n                        }} as=\"select\">\r\n                        {hospitals.map((c,index) => <option selected={index === 0? 'slected': null}>{`${c.name}`}</option>)}\r\n                        </Form.Control>\r\n                    </Form.Group>\r\n                </Col> }\r\n\r\n                <Button className='btn btn-primary m-2 text-center' disabled={tranferSt === 'pending' ? true : false} onClick={()=>transferPatient('pending')}>Transfer</Button>\r\n                <Button className='btn btn-danger m-2 text-center' disabled={tranferSt === 'false'? true : false} onClick={()=>transferPatient('canceled')}>Cancel</Button>\r\n                \r\n            </div>\r\n\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default Actions\r\n\r\n\r\nfunction getWardId(wards, ward){\r\n    let id = \"\"\r\n    if(typeof(wards) === 'undefined' || wards.length === 0){\r\n         return id\r\n    } \r\n\r\n    const wardDetail = wards.filter(p=> p.name === ward)\r\n    return wardDetail[0]._id\r\n}\r\n\r\nfunction getHospitalId(hospitals, hospital){\r\n    let id = \"\"\r\n    if(typeof(hospitals) === 'undefined' || hospitals.length === 0){\r\n         return id\r\n    } \r\n\r\n    const hospitalDetail = hospitals.filter(p=> p.name === hospital)\r\n    return hospitalDetail[0]._id\r\n}\r\n\r\n","import React from 'react';\r\nimport Button from '@mui/material/Button';\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nexport default function AlertDialog({dialogSet, closePopUp, dischargeHandler}) {\r\n\r\n\r\n  const handleClose = () => {\r\n    dischargeHandler()\r\n    closePopUp(false)\r\n  };\r\n\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={dialogSet}\r\n        onClose={!dialogSet}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">\r\n          {\"Are you continue this action?\"}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          {/* <DialogContentText id=\"alert-dialog-description\">\r\n            Let Google help apps determine location. This means sending anonymous\r\n            location data to Google, even when no apps are running.\r\n          </DialogContentText> */}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={ () => closePopUp(false)}>Cancel</Button>\r\n          <Button onClick={ () => handleClose()}>Continue</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n\r\n","import React, {useEffect, useState} from 'react'\r\nimport {Container, Button, Card, Row, Col, Nav, Form,FormControl} from 'react-bootstrap'\r\nimport Loader from '../../components/Loader'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getPatientById, updateTransferPatient, loadPatients, dischargePatient} from '../../store/entities/patients';\r\nimport {getAllHospitals, loadHospitals} from '../../store/entities/hospitals'\r\nimport { Scrollbars } from 'react-custom-scrollbars';\r\nimport PersonalInfo from '../../components/patientProfile/PersonalInfo'\r\nimport CurrentInfo from '../../components/patientProfile/CurrentInfo'\r\nimport Actions from '../../components/patientProfile/Actions'\r\nimport History from '../../components/patientProfile/History'\r\nimport AlertDialog from '../../components/dialog/Dialog';\r\n\r\nconst Profile =  ({match, history}) => {\r\n    const dispatch = useDispatch()\r\n    const patientId = match.params.id\r\n    \r\n    const userDetails = useSelector(state => state.auth);\r\n    const { admin, user } = userDetails.data.user\r\n    let wardsDetails = ''\r\n    let userHospital_id =''\r\n    if(admin){\r\n        const {wards, _id } = admin.hospital\r\n        wardsDetails = wards\r\n        userHospital_id = _id\r\n    }\r\n\r\n    const auth = user\r\n\r\n    const patients = useSelector(getPatientById(patientId))\r\n    const hospitals = useSelector(getAllHospitals)\r\n    console.log(patients)\r\n\r\n    const currentHospital_id = getCurrentHospitalId(patients)\r\n\r\n    const [startDate, setStartDate] = useState('');\r\n    const [endDate, setEndDate] = useState('');\r\n\r\n    const [popup, setPopUp] = useState(false);\r\n\r\n   const [filteredHistory, setFilteredHistory] = useState([])\r\n   const [patientHistory, changeHistory ] = useState(filteredHistory) \r\n   const [findHistory, setfindHistory] = useState(false)\r\n\r\n   const [action, setAction ] = useState('')\r\n\r\n\r\n   const setDischargeHandler = () =>{\r\n       console.log('discharge')\r\n       //dispatch(dischargePatient(patientId))\r\n   }\r\n\r\n   const setChangeWardHandler = () =>{\r\n    console.log('changeWard')\r\n   // dispatch(dischargePatient(patientId))\r\n   }\r\n\r\n    const setDates = (date, type) =>{\r\n        if(type === 'start'){\r\n            setStartDate(date);\r\n        }else{\r\n            setEndDate(date)\r\n        }\r\n    }\r\n\r\n    const searchHistory =() =>{\r\n        if(startDate <= endDate){\r\n            let medicalHistories = getMedicalHistories(startDate, endDate, patients);\r\n           // console.log(medicalHistories)\r\n            changeHistory(medicalHistories)\r\n            setFilteredHistory(medicalHistories);\r\n            setfindHistory(true)\r\n        }\r\n\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        if(auth.role === 'patient'){\r\n            dispatch(loadPatients())\r\n        }else{\r\n          //  dispatch(loadPatients())\r\n            dispatch(loadHospitals())\r\n        }\r\n        \r\n    }, [patients, hospitals])\r\n\r\n    return (\r\n        <Container>\r\n            {userDetails.loggedIn ? \r\n            <div>\r\n                <h4 style={{textAlign:'center', fontWeight:'700'}}>PATIENT PROFILE</h4>\r\n                <div>\r\n                    <Button \r\n                        className='btn btn-primary m-2'\r\n                        onClick= {() => history.push({pathname : '/hospital/PcrView', state: {pcr: patients.pcrTest}})} \r\n                    >Pcr Test Results</Button>\r\n                </div>\r\n                <div className=\"vs-row top-content\" style={{display:'flex', width:'100%'}}>\r\n                    \r\n                    <div className=\"vs-col vs-xs- vs-sm-12 vs-lg-3\"style={{margin:'0%',width:'100%', position:'relative'}}>\r\n                        <div className=\"set-animation from-left animate\">\r\n                            <PersonalInfo patients={objectDestructure(patients, \"user\")} currentHospital={currentHospital_id}\r\n                                userHospital={userHospital_id} id={patients ._id}>\r\n                            </PersonalInfo>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"vs-col vs-xs- vs-sm-12 vs-lg-6\"style={{margin:'0%',width:'100%', position:'relative'}}>\r\n                        <div className=\"set-animation from-left animate\">\r\n                            {patients.currentMedicalHistory && userHospital_id === currentHospital_id? \r\n                                <CurrentInfo patients={objectDestructure(patients, \"history\").slice(-1)[0]}\r\n                                    userHospital={userHospital_id} currentHospital={currentHospital_id} hospitals={hospitals} wards={wardsDetails} pcr={patients.pcrTest}\r\n                                ></CurrentInfo> : \r\n\r\n                                <CurrentInfo patients={\"\"} currentHospital={\"\"}\r\n                                    userHospital={\"\"}\r\n                                ></CurrentInfo>}\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                    {auth.role !== 'patient' &&\r\n                    <div className=\"vs-col vs-xs- vs-sm-12 vs-lg-3\" style={{margin:'0%',width:'100%', position:'relative'}}>\r\n                            <div className=\"set-animation from-left animate\">\r\n                            {currentHospital_id === userHospital_id ? \r\n                                <Actions patients={patients} hospitals={hospitals} wards ={wardsDetails} popUpHandler={setPopUp}></Actions> \r\n                               //<Card>rfergre</Card>\r\n                                :''\r\n                            }\r\n                            </div>\r\n                    </div> }\r\n                </div>\r\n\r\n                <div className=\"vs-row top-content\" style={{display:'flex', width:'100%'}}>\r\n                    <div className=\"vs-col vs-xs vs-sm-12 vs-lg-3\" style={{marginLeft:'0%',marginRight:'0%',width:'100%'}}>\r\n                        <Card className='m-2'>\r\n                            <h5 className=\"m-2 font-weight-bold\" style={{textAlign:'center'}}>SEARCH MEDICAL HISTORY</h5>\r\n                            <Form.Group as={Col} controlId='sd'>\r\n                                <Form.Label class=\"float-left\" className = 'form-label'>Start Date:</Form.Label>\r\n                                <Form.Control \r\n                                    type='date'\r\n                                    name='start_date' \r\n                                    onChange={(e)=>{\r\n                                        setDates(e.target.value, 'start')\r\n                                    }}\r\n                                    required\r\n                                />\r\n                            <FormControl.Feedback type='invalid'>This field is required!</FormControl.Feedback>\r\n                            </Form.Group>\r\n\r\n                            <Form.Group as={Col} controlId='ed'>\r\n                                <Form.Label class=\"float-left\" className = 'form-label'>End Date:</Form.Label>\r\n                                <Form.Control \r\n                                    type='date'\r\n                                    name='end_date' \r\n                                    onChange={(e)=>{\r\n                                        setDates(e.target.value, 'end')\r\n                                    }}\r\n                                    required\r\n                                />\r\n                            <FormControl.Feedback type='invalid'>This field is required!</FormControl.Feedback>\r\n                            </Form.Group>\r\n                            \r\n                            { startDate !== '' && endDate !== '' && startDate > endDate ?\r\n                            <Card \r\n                                style={{backgroundColor:'#fca8a4', color:'#b73333', opacity:'0.5', padding:'10px', margin:'5px'}}\r\n                                className='m-2'\r\n                            >Start date must be past to the end date</Card> : ''}\r\n                            { startDate !== '' && endDate !== '' && filteredHistory.length === 0 && findHistory?\r\n                            <Card \r\n                                style={{backgroundColor:'#fca8a4', color:'#b73333', opacity:'0.5', padding:'10px', margin:'5px'}}\r\n                                className='m-2'\r\n                            >No Medical History Data</Card> : ''}\r\n                            <Button \r\n                                className='btn btn-primary m-2'\r\n                                disabled ={startDate === '' || endDate === ''}\r\n                                onClick= {() => searchHistory()} \r\n                            >Search</Button>\r\n\r\n                        </Card>\r\n                    </div>\r\n\r\n\r\n                    <div className=\"vs-col vs-xs vs-sm-12 vs-lg-6\" style={{marginLeft:'0%',marginRight:'0%',width:'100%'}}>\r\n                        <History patientHistory={patientHistory} filteredHistory={filteredHistory} hospital={getHospitalName(filteredHistory, hospitals)} ward={getWardName(filteredHistory, wardsDetails)}></History>\r\n                    </div>\r\n                    \r\n                    {filteredHistory.length !== 0 &&\r\n                    <div className=\"vs-col vs-xs vs-sm-12 vs-lg-3\" style={{marginLeft:'0%',marginRight:'0%',width:'100%'}}>\r\n                    <Card className='m-2'>\r\n                       \r\n                        <div>\r\n                            <h5 className='text-center m-2 font-weight-bold'>MEDICAL HISTORY LIST</h5>\r\n                            <Scrollbars style={{ width: '100%',minHeight:'15rem', height:'auto', overflowX:'hidden', border:'1px black'}}>\r\n                                <ul className=\"m-2\">\r\n                                {filteredHistory.map( p=> \r\n                                    <Button \r\n                                        className=\"btn btn-light\"\r\n                                        style={{width:'80%', borderRadius:'0px'}}\r\n                                        onClick={()=>changeHistory(p)}\r\n                                        >\r\n                                        {p.admittedDate}\r\n                                    </Button>)}\r\n                                </ul>\r\n                            </Scrollbars>\r\n                        </div>\r\n                    </Card>\r\n                    </div>}\r\n\r\n                    \r\n\r\n                </div>\r\n            </div>: history.push('/')}\r\n\r\n             <AlertDialog dialogSet={popup} closePopUp={setPopUp}  dischargeHandler={setDischargeHandler}/>\r\n            \r\n        </Container>    \r\n    \r\n    )\r\n}\r\n\r\n\r\nexport default Profile\r\n\r\n\r\nexport function getMedicalHistories(start_date, end_date, patients){\r\n    const histories = objectDestructure(patients, \"history\")\r\n    if(histories !== \"\"){\r\n        //console.log(histories)\r\n        return histories.filter ( p=> p.admittedDate >= start_date && p.admittedDate <= end_date)\r\n    }\r\n    return \"\"\r\n}\r\n\r\nexport function objectDestructure ( patients, type){\r\n    let newList = \"\"\r\n    if(typeof(patients) === 'undefined' || patients.length === 0){\r\n         return newList\r\n    } \r\n \r\n    const {medicalHistory, user } = patients\r\n    if(user){\r\n         if(type === \"user\"){\r\n            return user\r\n         }\r\n    }\r\n\r\n    if(medicalHistory){\r\n        if(type === \"history\"){\r\n           return medicalHistory\r\n        }\r\n    }\r\n\r\n    return newList\r\n}\r\n\r\nfunction getHospitalName(filteredhistory, hospitals){\r\n   // console.log(filteredhistory)\r\n    if(filteredhistory.length === 0){\r\n        return \"\"\r\n    }\r\n    const hospitalName = hospitals.filter(p=> p._id === filteredhistory[0].hospital)\r\n    return hospitalName[0]\r\n}\r\n\r\nfunction getWardName(filteredhistory, wards){\r\n    // console.log(filteredhistory)\r\n     if(filteredhistory.length === 0){\r\n         return \"\"\r\n     }\r\n     const wardName = wards.filter(p=> p._id === filteredhistory[0].ward)\r\n     return wardName[0]\r\n }\r\n\r\nfunction getCurrentHospitalId(patients){\r\n    let id = \"\"\r\n    if(typeof(patients) === 'undefined' || patients.length === 0){\r\n         return id\r\n    } \r\n\r\n    if(patients.currentMedicalHistory){\r\n        const lastHistory = patients.medicalHistory.slice(-1)[0]\r\n        return lastHistory.hospital\r\n    }\r\n}\r\n\r\n","import React, {useEffect, useState} from 'react'\r\nimport axios from 'axios';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Table, Container, Button, Row, Card} from 'react-bootstrap'\r\nimport Loader from '../../components/Loader'\r\nimport { updatePcrAproval, getPcrLoadingStatus, getToConfirmPcrLoadingStatus, getToConfirmPcrs, loadToConfirmPcrs} from '../../store/entities/pcr';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\n\r\n\r\nconst AprovePcrResults = ({}) => {\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n    const auth = useSelector(state => state.auth);\r\n    const [userType, setUserType] = useState('')\r\n\r\n    const pcrList = useSelector(getToConfirmPcrs);\r\n\r\n    const [patientState, setPatientState] = useState(getOnlyIds(pcrList));\r\n    const [selected, setSelected] = useState([]);\r\n    const [allSelected, setAllSelected] = useState(false);\r\n    const patientsLoading = useSelector(getToConfirmPcrLoadingStatus);\r\n\r\n    useEffect(() => {\r\n       if(!auth.loggedIn){\r\n           window.location='/'\r\n       }\r\n       setUserType(auth.data.user.role)\r\n       dispatch(loadToConfirmPcrs());\r\n\r\n       if(pcrList){\r\n            setPatientState(\r\n                pcrList.map( p=>{\r\n                    return {\r\n                        select: false,\r\n                        _id: p._id,\r\n                        name: objectDestructure(p, \"name\"),\r\n                        age: p.age,\r\n                        telephone:p.contactNumber,\r\n                        result:p.result\r\n                    }\r\n                })\r\n            )\r\n       }\r\n\r\n\r\n    },[dispatch, pcrList])\r\n\r\n    const Aproval = (decision, patientId)=>{\r\n        const updateAprove = {\r\n\r\n            ids: [\r\n                patientId\r\n            ],\r\n        }\r\n        console.log(updateAprove)\r\n\r\n        dispatch(updatePcrAproval(updateAprove));\r\n       // setPatientState(patientState.filter(p=>p._id !== patientId))\r\n    }\r\n\r\n    const AproveSelected =(dicision) =>{\r\n        const updateAprove = {\r\n\r\n             ids : selected\r\n        }\r\n        console.log(updateAprove)\r\n        dispatch(updatePcrAproval(updateAprove));\r\n       // dispatch(updateTransferPatient(transferUpdate))\r\n        setSelected([]);\r\n        setPatientState(patientState.filter(p=>p.select === false))\r\n\r\n        //console.log(selected)\r\n    }\r\n\r\n    const handleSelected =(value, data)=>{\r\n        if(value === false && selected.length === pcrList.length){\r\n            setAllSelected(false);\r\n        }\r\n        if(value === true && selected.length === pcrList.length-1){\r\n            setAllSelected(true);\r\n        }\r\n        if(value === true){\r\n            let selectedList = [...selected]\r\n            let patient = pcrList.filter(p => p._id === data._id );\r\n            selectedList.push(patient[0]._id);\r\n            setSelected(selectedList);\r\n        }else{\r\n           // setSelected(selected.filter(p=>p._id !== data._id));\r\n           setSelected(selected.filter(p=>p !== data._id));\r\n        }\r\n    }\r\n\r\n    const handleSelectAll =(check)=>{\r\n        if(check === true){\r\n            setAllSelected(check);\r\n            //setSelected(pcrList)\r\n            setSelected(getOnlyIds(pcrList))\r\n        }else{\r\n            setAllSelected(check);\r\n            setSelected([]);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n        {auth.loggedIn && patientsLoading && (<Loader></Loader>)}\r\n        {auth.loggedIn /*&& userType === 'hospitalAdmin' */? \r\n        <Container>\r\n           \r\n        <h2 style={{textAlign:'center', marginBottom:'40px', fontWeight:'700'}}>APROVE PCR RESULTS</h2>\r\n        {patientState.length === 0 ? <Card style={{backgroundColor:'#fca8a4', color:'#b73333', opacity:'0.5', padding:'10px'}}>No data</Card>:\r\n        <div>\r\n            <Row className='ml-3 mb-2'>\r\n                <Button\r\n                    value = {selected}\r\n                    disabled={selected.length === 0}\r\n                    onClick = { () => AproveSelected('accept')}\r\n                    className=\"btn btn-primary w-25 mr-2\"\r\n                >Confirm Selected</Button>\r\n                {/* <Button\r\n                    value = {selected}\r\n                    disabled={selected.length === 0}\r\n                    onClick = { () => AproveSelected('declined')}\r\n                    className=\"btn btn-danger w-25\"\r\n                    style={{opacity:'0.7'}}\r\n                >Decline Selected</Button> */}\r\n            </Row>\r\n\r\n            <Table striped bordered hover variant=\"light\">\r\n                <thead>\r\n                    <tr>\r\n                    <th><input \r\n                        type='checkBox'\r\n                        onChange ={(e) =>{\r\n                            let checked = e.target.checked\r\n                            setPatientState(patientState.map(p=>{\r\n                                p.select = checked;\r\n                                return p;\r\n                            }))\r\n                            handleSelectAll(checked)\r\n                        }}\r\n                        checked={allSelected}\r\n                    /></th>\r\n                    <th>Name</th>\r\n                    {/* <th>Age</th> */}\r\n                    <th>Telephone</th>\r\n                    <th>PCR Result</th>\r\n                    <th>Actions</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {patientState.map( p =>\r\n                    \r\n                        <tr>\r\n                            {/* <td>{p._id}</td> */}\r\n                            <td><input \r\n                                type='checkBox' \r\n                                onChange={(e) =>{\r\n                                    let checked = e.target.checked;\r\n                                    handleSelected(checked, p)\r\n                                    setPatientState(patientState.map( data=>{\r\n                                        if(data._id == p._id){\r\n                                            data.select = checked;\r\n                                        }\r\n                                        return data;\r\n                                    }))\r\n                                }}\r\n                                checked ={p.select}\r\n                            /></td>\r\n                            <td>{p.name}</td>\r\n                            {/* <td>{p.name}</td> */}\r\n                            <td>{p.telephone}</td>\r\n                            <td>{p.result}</td>\r\n                            <td>\r\n                                <Row>\r\n                                    <Button \r\n                                        value = {p._id}\r\n                                        onClick = { () => Aproval('accept', p._id)}\r\n                                        className=\"btn btn-primary mr-2 ml-2 text-center\"\r\n                                        style={{width:'80%'}}>Confirm</Button>\r\n                                    {/* <Button \r\n                                        value = {p._id}\r\n                                        style={{opacity:'0.8'}}\r\n                                        onClick = { () => Aproval('declined',p._id)}\r\n                                        className=\"btn btn-danger text-center\"\r\n                                        style={{width:'40%',opacity:'0.7'}}>Decline</Button> */}\r\n                                </Row>\r\n                            </td>\r\n                        </tr>\r\n                    )}\r\n                </tbody>\r\n            </Table>\r\n        </div> \r\n        }\r\n      \r\n\r\n        {/* <Pagination\r\n            itemsCount = {pcrList.length} \r\n            pageSize = {pageSize} \r\n            currentPage = {currentPage}\r\n            onPageChange = {(page) => {\r\n                setCurrentPage(page);\r\n                setPaginated(paginate(pcrList, page, pageSize));\r\n            }}\r\n        /> */}\r\n        \r\n        </Container>\r\n         : history.goBack()/*window.location='/'*/}\r\n        \r\n    </>\r\n    )\r\n}\r\n\r\nexport default AprovePcrResults\r\n\r\nfunction getOnlyIds(pcrList){\r\n    let list =[]\r\n\r\n    if(pcrList){\r\n        if ( pcrList.length === 0) return list;\r\n\r\n        for ( let i =0; i<= pcrList.length-1 ; i++){\r\n            list.push(pcrList[i]._id)\r\n        }\r\n\r\n        return list;\r\n    }\r\n    //console.log(list)\r\n    return list;\r\n}\r\n\r\nfunction objectDestructure ( pcr, type){\r\n    let newList = \"\"\r\n    if(typeof(pcr) === 'undefined' || pcr.length === 0){\r\n        return newList\r\n    } \r\n\r\n    const { name, contactNumber } = pcr\r\n    if(name){\r\n        if(type === \"name\"){\r\n            const { firstName , lastName } = pcr.name;\r\n            const patientName = firstName + \" \" + lastName\r\n           // console.log(patientName)\r\n            return patientName;\r\n        }\r\n    }\r\n    if(contactNumber){\r\n        if(type === \"tel\"){\r\n            return contactNumber\r\n        }\r\n    }\r\n    else{\r\n        return newList\r\n    }\r\n}\r\n","\r\nimport {Form, Button, Col, Row} from 'react-bootstrap';\r\nimport React, { useEffect, useState } from 'react';\r\nimport Box from '@mui/material/Box';\r\nimport Container from '@mui/material/Container';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { addWard} from '../../../store/entities/hospitals';\r\n\r\nexport default function AddWard(props){\r\n    const dispatch = useDispatch();\r\n    const auth = useSelector(state => state.auth);\r\n\r\n    const [ward_name, setWardName] = useState('');\r\n    const [total_beds, setTotalBeds] = useState(0);\r\n    const [admitted_patients, setAdmittedPatients] = useState(0);\r\n    const [empty_beds, setEmptyBeds] = useState(0);\r\n\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n        // TODO: sign in action\r\n        let ward= {\r\n            name: ward_name,\r\n            totalBeds: total_beds,\r\n            admittedPatients: admitted_patients,\r\n            emptyBeds: empty_beds\r\n        }\r\n\r\n        dispatch(addWard())\r\n    };\r\n\r\nreturn (\r\n              <Container maxWidth=\"sm\" >\r\n                  <Box sx={{ bgcolor: '#cfe8fc', height: '100vh' }}>\r\n                  <br />\r\n                      <div class=\"col-10 mx-auto banner text-center\">\r\n                          <h3 class=\"text-capitalize\">\r\n                              <strong class=\"banner-title\">Want to Add new Ward?</strong></h3>\r\n                  \r\n                  <Form className=\"form\" onSubmit={submitHandler}>\r\n                      <Form.Row>\r\n                      <Form.Group as={Col} controlId='ward_name'>\r\n                      <Form.Label class=\"float-left\" className = 'form-label'><strong>WARD NAME:</strong></Form.Label>\r\n                      <Form.Control \r\n                          type='text'\r\n                          id='ward_name' \r\n                          onChange={(e) => setWardName(e.target.value)}\r\n                          placeholder='Enter Ward Name'\r\n                          required\r\n                      />\r\n                      </Form.Group>\r\n\r\n                      <Form.Group as={Col} controlId='total_beds'>\r\n                      <Form.Label class=\"float-left\" className = 'form-label'><strong>TOTAL BEDS:</strong></Form.Label>\r\n                      <Form.Control \r\n                          type='number'\r\n                          id='total_beds' \r\n                          onChange={(e) => setTotalBeds(e.target.value)}\r\n                          placeholder='Enter Total Number of Beds'\r\n                          required\r\n                      />\r\n                      </Form.Group>\r\n                     \r\n                      <Form.Group as={Col} controlId='admitted_patients'>\r\n                      <Form.Label class=\"float-left\" className = 'form-label'><strong>TOTAL ADMITTED PATIENTS:</strong></Form.Label>\r\n                      <Form.Control \r\n                          type='number'\r\n                          id='total_beds' \r\n                          onChange={(e) => setAdmittedPatients(e.target.value)}\r\n                          placeholder='Enter Total Number of Beds'\r\n                          required\r\n                      />\r\n                      </Form.Group>\r\n\r\n                      <Form.Group as={Col} controlId='empty_beds'>\r\n                      <Form.Label class=\"float-left\" className = 'form-label'><strong>EMPTY BEDS:</strong></Form.Label>\r\n                      <Form.Control \r\n                          type='number'\r\n                          id='empty_beds'  \r\n                          onChange={(e) => setEmptyBeds(e.target.value)}\r\n                          placeholder='Enter Number of Empty Beds'\r\n                          required\r\n                      />\r\n                      </Form.Group>\r\n                      </Form.Row>\r\n                      <br/>\r\n                      <Button variant=\"primary\" type=\"submit\">Submit</Button>\r\n                      \r\n                  </Form>\r\n                  </div>\r\n                  </Box>\r\n              </Container>\r\n                        \r\n  );\r\n}\r\n","import axios from \"axios\";\r\n\r\nexport default axios.create({\r\n  baseURL: \"http://localhost:8000/api\",\r\n  headers: {\r\n    \"Content-type\": \"application/json\"\r\n  }\r\n});","import http from \"../http-common\";\r\n\r\nconst getAll = () => {\r\n  return http.get(\"/hospital/wards\");\r\n};\r\n\r\nconst get = (id) => {\r\n  return http.get(`/hospital/wards/${id}`);\r\n};\r\n\r\nconst create = (data) => {\r\n  return http.post(\"/hospital/wards\", data);\r\n};\r\n\r\nconst update = (id, data) => {\r\n  return http.put(`/hospital/wards/${id}`, data);\r\n};\r\n\r\nconst remove = (id) => {\r\n  return http.delete(`/hospital/wards/${id}`);\r\n};\r\n\r\nconst removeAll = () => {\r\n  return http.delete(`/hospital/wards`);\r\n};\r\n\r\nconst findByTitle = (ward_name) => {\r\n  return http.get(`/hospital/wards?ward_name=${ward_name}`);\r\n};\r\n\r\nconst WardService = {\r\n  getAll,\r\n  get,\r\n  create,\r\n  update,\r\n  remove,\r\n  removeAll,\r\n  findByTitle,\r\n};\r\n\r\nexport default WardService;","import React, { useState, useEffect } from \"react\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"@fortawesome/fontawesome-free/css/all.css\";\r\nimport \"@fortawesome/fontawesome-free/js/all.js\";\r\nimport WardDataService from \"../../../services/WardService\";\r\nimport { Link} from 'react-router-dom';\r\n\r\nconst Ward = props => {\r\n  const initialWardState = {\r\n    id: null,\r\n    ward_name: \"\",\r\n    description: \"\",\r\n    total_beds: \"\",\r\n  };\r\n  const [currentWard, setCurrentWard] = useState(initialWardState);\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  const getWard = id => {\r\n    WardDataService.get(id)\r\n      .then(response => {\r\n        setCurrentWard(response.data);\r\n        console.log(response.data);\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    getWard(props.match.params.id);\r\n  }, [props.match.params.id]);\r\n\r\n  const handleInputChange = event => {\r\n    const { name, value } = event.target;\r\n    setCurrentWard({ ...currentWard, [name]: value });\r\n  };\r\n\r\n  const updateWard = () => {\r\n    WardDataService.update(currentWard.id, currentWard)\r\n      .then(response => {\r\n        console.log(response.data);\r\n        setMessage(\"The ward was updated successfully!\");\r\n        alert('Updated: ' + this.state);\r\n        \r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n      });\r\n  };\r\n\r\n  const deleteWard = () => {\r\n    WardDataService.remove(currentWard.id)\r\n      .then(response => {\r\n        console.log(response.data);\r\n        props.history.push(\"/hospital/wards\");\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <><div>\r\n      <nav className=\"navbar navbar-expand navbar-dark bg-dark\">\r\n        <a /**href=\"/hospital/wards\" */className=\"navbar-brand\">\r\n          Wards\r\n        </a>\r\n        <div className=\"navbar-nav mr-auto\">\r\n          <li className=\"nav-item\">\r\n            <Link to={\"/hospital/wards\"} className=\"nav-link\">\r\n              Wards\r\n            </Link>\r\n          </li>\r\n          <li className=\"nav-item\">\r\n            <Link to={\"/hospital/add_wards\"} className=\"nav-link\">\r\n              Add Wards\r\n            </Link>\r\n          </li>\r\n        </div>\r\n      </nav></div>\r\n    <br></br>\r\n    \r\n    <div>\r\n      {currentWard ? (\r\n        <div className=\"edit-form\">\r\n          <div class=\"container-sm border\">\r\n            <div class=\"row max-height justify-content-center align-items-center\">\r\n            <div class=\"col-10 mx-auto banner text-center\">\r\n                        <h3 class=\"text-capitalize\">\r\n                            <strong class=\"banner-title\">Edit Ward Details ?</strong></h3>\r\n                            <div class=\"card-body register-card-body\"></div>\r\n          <form>\r\n            <div className=\"form-group\">\r\n              <label class=\"float-left\" htmlFor=\"title\">Ward Name:</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                id=\"ward_name\"\r\n                name=\"ward_name\"\r\n                value={currentWard.ward_name}\r\n                onChange={handleInputChange}\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label class=\"float-left\" htmlFor=\"description\">Description:</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                id=\"description\"\r\n                name=\"description\"\r\n                value={currentWard.description}\r\n                onChange={handleInputChange}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label class=\"float-left\" htmlFor=\"total_beds\">Total no of beds:</label>\r\n              <input\r\n                type=\"number\"\r\n                className=\"form-control\"\r\n                id=\"total_beds\"\r\n                name=\"total_beds\"\r\n                value={currentWard.total_beds}\r\n                onChange={handleInputChange}\r\n              />\r\n            </div>\r\n\r\n          </form>\r\n          <div class=\"btn-group\">\r\n          <button \r\n            type=\"submit\"\r\n            class=\"btn btn-success\"\r\n            onClick={updateWard}\r\n          >\r\n            Update\r\n          </button> </div>\r\n          <div class=\"btn-group\">\r\n          <button \r\n          type= \"button\"\r\n          class=\"btn btn-danger\"\r\n          onClick={deleteWard}>\r\n            Delete\r\n          </button></div></div></div></div>\r\n          <p>{message}</p>\r\n        </div>\r\n      ) : (\r\n        <div>\r\n          <br />\r\n          <p>Please click on a Ward...</p>\r\n        </div>\r\n      )}\r\n    </div></>\r\n  );\r\n};\r\n\r\nexport default Ward","import React, { useEffect, useState } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { getAllWards, getWardsLoadingStatus, loadWards/*, updateWard,addWard*/, deleteWard} from '../../../store/entities/hospitals';\r\nimport { updateWard, addWard } from \"../../../store/auth\";\r\nimport { toastAction } from '../../../store/toastActions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport CRUDTable, {\r\n  Fields,\r\n  Field,\r\n  CreateForm,\r\n  UpdateForm,\r\n  DeleteForm,\r\n  Pagination \r\n} from \"react-crud-table\";\r\n\r\n// Component's Base CSS\r\nimport \"./wardList.css\";\r\n//import { update } from \"../../../../../backend/models/userModel\";\r\n\r\nconst DescriptionRenderer = ({ field }) => <textarea {...field} />;\r\n\r\n\r\n// let wards = [\r\n//   {\r\n//     ward_id: \"1\",\r\n//     ward_no: 1,\r\n//   .name: \"Ward 1\",\r\n//     description: \"Labour Ward 1\",\r\n//     totalBeds: \"45\"\r\n//   },\r\n//   {\r\n//     ward_id: \"2\",\r\n//     ward_no: 2,\r\n//   .name: \"Ward 2\",\r\n//     description: \"Labour Ward 2\",\r\n//     totalBeds: \"19\"\r\n//   },\r\n//   {\r\n//     ward_id: \"3\",\r\n//     ward_no: 3,\r\n//   .name: \"Ward 3\",\r\n//     description: \"Pediatric Ward 1\",\r\n//     totalBeds: \"45\"\r\n//   },\r\n//   {\r\n//     ward_no: 4,\r\n//   .name: \"Ward 4\",\r\n//     description: \"Pediatric Ward 2\",\r\n//     totalBeds: \"34\"\r\n//   }\r\n// ];\r\n\r\n// const SORTERS = {\r\n//   NUMBER_ASCENDING: mapper => (a, b) => mapper(a) - mapper(b),\r\n//   NUMBER_DESCENDING: mapper => (a, b) => mapper(b) - mapper(a),\r\n//   STRING_ASCENDING: mapper => (a, b) => mapper(a).localeCompare(mapper(b)),\r\n//   STRING_DESCENDING: mapper => (a, b) => mapper(b).localeCompare(mapper(a))\r\n// };\r\n\r\n// const getSorter = data => {\r\n//   const mapper = x => x[data.field];\r\n//   let sorter = SORTERS.STRING_ASCENDING(mapper);\r\n\r\n//   if (data.field === \"ward_no\") {\r\n//     sorter =\r\n//       data.direction === \"ascending\"\r\n//         ? SORTERS.NUMBER_ASCENDING(mapper)\r\n//         : SORTERS.NUMBER_DESCENDING(mapper);\r\n//   } else {\r\n//     sorter =\r\n//       data.direction === \"ascending\"\r\n//         ? SORTERS.STRING_ASCENDING(mapper)\r\n//         : SORTERS.STRING_DESCENDING(mapper);\r\n//   }\r\n\r\n//   return sorter;\r\n// };\r\n\r\n\r\n// let count = wards.length;\r\n// console.log(count)\r\n// const service = {\r\n//   fetchItems: payload => {\r\n//     const { activePage, itemsPerPage } = payload.pagination;\r\n//     const start = (activePage - 1) * itemsPerPage;\r\n//     const end = start + itemsPerPage;\r\n//     let result = Array.from(wards);\r\n//     // result = result.sort(getSorter(payload.sort));\r\n//     return Promise.resolve(result.slice(start, end));\r\n//   },\r\n//   fetchTotal: payload => {\r\n//     return Promise.resolve(wards.length);\r\n//   },\r\n//   create: ward => {\r\n//     count += 1;\r\n//     wards.push({\r\n//       ...ward,\r\n//       ward_no: count\r\n//     });\r\n//     return Promise.resolve(ward);\r\n//   },\r\n//   update: data => {\r\n//     const ward = wards.find(t => t.ward_no === data.ward_no);\r\n//     ward.name = data.name;\r\n//     ward.description = data.description;\r\n//     ward.totalBeds = data.totalBeds;\r\n//   //  updateData(ward)\r\n//     return Promise.resolve(ward);\r\n//   },\r\n//   delete: data => {\r\n//     const ward = wards.find(t => t.ward_no === data.ward_no);\r\n//     wards = wards.filter(t => t.ward_no !== ward.ward_no);\r\n//     return Promise.resolve(ward);\r\n//   }\r\n// };\r\n\r\n// const styles = {\r\n//   container: { margin: \"auto\", width: \"max-content\" }\r\n// };\r\n\r\nexport default function WardsList() {\r\n\r\n  const dispatch = useDispatch()\r\n\r\n  const userDetails = useSelector(state => state.auth);\r\n  const { admin, user } = userDetails.data.user\r\n  const { wards } = admin.hospital\r\n\r\n  const [wardAddState, setWardAddState] = useState(false)\r\n  const [wardUpdateState, setWardUpdateState] = useState(false)\r\n  const [wardDeleteState, setWardDeleteState] = useState(false)\r\n\r\n\r\nlet count = wards.length;\r\nconst service = {\r\n  fetchItems: payload => {\r\n    const { activePage, itemsPerPage } = payload.pagination;\r\n    const start = (activePage - 1) * itemsPerPage;\r\n    const end = start + itemsPerPage;\r\n    let result = Array.from(wards);\r\n    // result = result.sort(getSorter(payload.sort));\r\n    return Promise.resolve(result.slice(start, end));\r\n  },\r\n  fetchTotal: payload => {\r\n    return Promise.resolve(wards.length);\r\n  },\r\n\r\n\r\n  // create: ward => {\r\n  //   count += 1;\r\n  //   wards.push({\r\n  //     ...ward,\r\n  //     ward_no: count\r\n  //   });\r\n  //   return Promise.resolve(ward);\r\n  // },\r\n  // update: data => {\r\n  //   const ward = wards.find(t => t._id === data._d);\r\n  //   ward.name = data.name;\r\n  //  // ward.description = data.description;\r\n  //   ward.totalBeds = data.totalBeds;\r\n  // //  updateData(ward)\r\n  //   return Promise.resolve(ward);\r\n  // },\r\n  // delete: data => {\r\n  //   const ward = wards.find(t => t.ward_no === data.ward_no);\r\n  //   wards = wards.filter(t => t.ward_no !== ward.ward_no);\r\n  //   return Promise.resolve(ward);\r\n  // }\r\n};\r\n\r\nconst styles = {\r\n  container: { margin: \"auto\", width: \"max-content\" }\r\n};\r\n\r\n function updateCurrentWard(ward){\r\n    const wardDetails = {\r\n       name: ward.name,\r\n       totalBeds: ward.totalBeds,\r\n    }\r\n\r\n    if(ward.totalBeds < ward.admittedPatients){\r\n       dispatch(toastAction({ message: \"No of Beds cannot be lass than admitted patients\" , type: 'error'}))\r\n    }\r\n    else{\r\n      dispatch(updateWard(wardDetails, ward._id))\r\n      setWardUpdateState(true)\r\n    }\r\n\r\n    return Promise.resolve(ward)\r\n }\r\n\r\n function addNewWard(ward){\r\n   const wardDetails = {\r\n      name: ward.name,\r\n      totalBeds: ward.totalBeds,\r\n   }\r\n   dispatch(addWard(wardDetails))\r\n   setWardAddState(true)\r\n   return Promise.resolve(ward)\r\n}\r\n\r\nfunction deleteCurrentWard(ward){\r\n   const wardDetails = {\r\n      name: ward.name,\r\n      totalBeds: ward.totalBeds,\r\n   }\r\n\r\n   if(ward.admittedPatients.length > 0){\r\n     dispatch(toastAction({ message: \"Invalid Action, Cannot delete patient admitted ward\" , type: 'error'}))\r\n   }\r\n   else{\r\n   // dispatch(toastAction({ message: \"Invalid Action, Cannot delete patient admitted ward\" , type: 'info'}))\r\n    //dispatch(deleteWard(wardDetails, ward.ward_id))\r\n    //setWardDeleteState(true)\r\n   }\r\n   return Promise.resolve(ward)\r\n}\r\n\r\n useEffect (() => {\r\n   if(userDetails.wardAdded && wardAddState){\r\n      setWardAddState(false)\r\n      dispatch(toastAction({ message: \"Ward Addes Successfully, Please Refresh Page...\" , type: 'info'}))\r\n   }\r\n   if(userDetails.wardUpdated && wardUpdateState){\r\n    setWardUpdateState(false)\r\n    dispatch(toastAction({ message: \"Ward Updated Successfully, Please Refresh Page...\" , type: 'info'}))\r\n   }\r\n   if(userDetails.wardDelete && wardDeleteState){\r\n    setWardDeleteState(false)\r\n    dispatch(toastAction({ message: \"Ward Deleted Successfully, Please Refresh Page...\" , type: 'info'}))\r\n   }\r\n },[userDetails])\r\n\r\n\r\nreturn (\r\n  <div style={styles.container}>\r\n    <CRUDTable\r\n      caption=\"WARDS\"\r\n      fetchItems={payload => service.fetchItems(payload)}\r\n    >\r\n      <Fields>\r\n        {/* <Field name=\"ward_no\" label=\"WARD NO\" hideInCreateForm /> */}\r\n        <Field name=\"name\" label=\"WARD NAME\" placeholder=\"Enter Ward Name\" />5\r\n        <Field name=\"totalBeds\" type=\"number\" label=\"TOTAL BEDS\" placeholder=\"Enter Total number of Beds\" />\r\n      </Fields>\r\n\r\n      \r\n      <CreateForm\r\n        Ward Name=\"Ward Creation\"\r\n        message=\"Create a new ward!\"\r\n        trigger=\"ADD NEW WARDS\"\r\n        onSubmit={ward => addNewWard(ward)}\r\n        submitText=\"CREATE\"\r\n        validate={values => {\r\n          const errors = {};\r\n          if (!values.name) {\r\n            errors.name = \"Please, provide ward's Ward Name\";\r\n          }\r\n\r\n          return errors;\r\n        }}\r\n      />\r\n\r\n      <UpdateForm\r\n        title=\"Ward Update Process\"\r\n        message=\"Update ward\"\r\n        trigger=\"UPDATE\"\r\n       // onSubmit={ward => service.update(ward)}\r\n        onSubmit = { ward => updateCurrentWard(ward)}\r\n        submitText=\"Update\"\r\n        validate={values => {\r\n          const errors = {};\r\n\r\n          // if (!values.ward_no) {\r\n          //   errors.ward_no = \"Please, provide Ward Number\";\r\n          // }\r\n\r\n          if (!values.name) {\r\n            errors.name = \"Please, provide ward's Ward Name\";\r\n          }\r\n\r\n\r\n          return errors;\r\n        }}\r\n      />\r\n\r\n      <DeleteForm\r\n        title=\"Ward Delete Process\"\r\n        message=\"Are you sure you want to delete the Ward?\"\r\n        trigger=\"DELETE\"\r\n        onSubmit={ward => deleteCurrentWard(ward)}\r\n        submitText=\"Delete\"\r\n        validate={values => {\r\n          const errors = {};\r\n          // if (!values.ward_no) {\r\n          //   errors.ward_no = \"Please, provide Ward Number\";\r\n          // }\r\n          return errors;\r\n        }}\r\n      />\r\n      <Pagination\r\n        itemsPerPage={3}\r\n        fetchTotalOfItems={payload => service.fetchTotal(payload)}\r\n      />\r\n    </CRUDTable>\r\n  </div>\r\n);\r\n\r\n      }\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n// import LoadingBox from '../components/LoadingBox';\r\n// import MessageBox from '../components/MessageBox';\r\nimport {Form, Button} from 'react-bootstrap';\r\nimport { login, getLoggedInStatus } from './../store/auth';\r\nimport { toastAction } from './../store/toastActions';\r\n//import User from '../../../backend/models/userModel';\r\n//import { signin } from '../actions/userAction';\r\n\r\nexport default function SigninScreen(props) {\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n\r\n//   const redirect = props.location.search\r\n//     ? props.location.search.split('=')[1]\r\n//     : '/';\r\n\r\n//   const userSignin = useSelector((state) => state.userSignin);\r\n    //  const { data, loading, error } = userSignin;\r\n\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const submitHandler = (e) => {\r\n\r\n    const data ={\r\n        email: email,\r\n        password: password\r\n    }\r\n    e.preventDefault();\r\n    // TODO: sign in action\r\n\r\n    dispatch(login(data));\r\n  };\r\n\r\n    const loggedIn = useSelector(getLoggedInStatus)\r\n\r\n    const userDetails = useSelector(state => state.auth.data);\r\n    const auth = userDetails\r\n\r\n    // let auth = \"\";\r\n    // if(userDetails.loggedIn){\r\n    //   const { user } = userDetails.data.user\r\n    //   auth = user\r\n    // }\r\n\r\n    //console.log(auth.user.role)\r\n    //console.log(admin)\r\n\r\n    \r\n    useEffect(() => {\r\n        if (loggedIn === true) {\r\n           //props.history.push(redirect);\r\n          // console.log(auth.user.user)\r\n           // console.log('logged in suceessfully');\r\n            dispatch(toastAction({ message: \"Logged in Success...\", type: 'info' }));\r\n            if(auth.user.user.role === 'hospitalAdmin' || 'hospital user'){\r\n               window.location ='/hospital/dashboard'\r\n            }\r\n             if(auth.user.user.role === 'patient'){\r\n               window.location =`/hospital/patientProfile/${auth.user.user._id}`\r\n            }\r\n             if(auth.user.user.role === 'admin'){\r\n              window.location ='/healthMinistry/dashboard'\r\n            }\r\n           /// ;\r\n        }else{\r\n           // console.log('not logged in suceessfully');\r\n        }\r\n   },);\r\n\r\n  return (\r\n    <div>\r\n      <Form className=\"form\" onSubmit={submitHandler}>\r\n        <div>\r\n          <h1><strong class=\"banner-title\" >SIGN IN</strong></h1>\r\n        </div>\r\n        {/* {loading && <LoadingBox></LoadingBox>}\r\n        {error && <MessageBox variant=\"danger\">{error}</MessageBox>} */}\r\n        <div>\r\n          <label htmlFor=\"email\">Email address:</label>\r\n          <input\r\n            type=\"email\"\r\n            id=\"email\"\r\n            placeholder=\"Enter email\"\r\n            required\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          ></input>\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"password\">Password:</label>\r\n          <input\r\n            type=\"password\"\r\n            id=\"password\"\r\n            placeholder=\"Enter password\"\r\n            required\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          ></input>\r\n        </div>\r\n        <div>\r\n          <label />\r\n          <Button className=\"primary\" type=\"submit\">\r\n            Sign In\r\n          </Button>\r\n        </div>\r\n\r\n        <div>\r\n          <Link to={{ pathname :\"/forgotPassword\" }}>Forgot Password</Link>\r\n          {/* <a>Forgot Password</a> */}\r\n        </div>\r\n      </Form>\r\n    </div>\r\n  );\r\n}","import { useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport { logout} from '../store/auth';\r\nimport { toastAction } from './../store/toastActions';\r\n\r\nconst Logout = ({ history }) => {\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        dispatch(logout());\r\n        window.location = '/';\r\n       // dispatch(toastAction({ message: \"Logout Successfull...\", type: 'info' }))\r\n    });\r\n\r\n    return null\r\n}\r\n \r\nexport default Logout;","import React, {useEffect, useState} from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport TablePagination from '@mui/material/TablePagination';\r\nimport TextField from '@mui/material/TextField';\r\nimport { AddCircleOutline} from \"@material-ui/icons\";\r\nimport {Link} from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getAllHospitals, getHospitalLoadingStatus, loadHospitals} from '../../store/entities/hospitals';\r\nimport './hospitals.css';\r\n\r\nconst useStyles = makeStyles({\r\n  table: {\r\n    minWidth: 650\r\n  }\r\n});\r\n\r\nexport default function Hospitals() {\r\n  const [page, setPage] = React.useState(0);\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(5);\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(+event.target.value);\r\n    setPage(0);\r\n  };\r\n\r\n  const dispatch = useDispatch()\r\n  const auth = useSelector(state => state.auth);\r\n//  console.log(auth)\r\n\r\n  const hospital = useSelector(getAllHospitals)\r\n  const hospitalsLoading = useSelector(getHospitalLoadingStatus);\r\n\r\n  const [data, setData] = useState(hospital);\r\n  const [searchKey, setSearchKey] = useState('');\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    dispatch(loadHospitals())\r\n\r\n},[dispatch, hospital])\r\n\r\n  return (\r\n    <Paper sx={{ width: '100%', overflow: 'hidden' }}>\r\n      <TableContainer sx={{ maxHeight: 600 }}>\r\n      <Link to=\"/healthMinistry/addHospital\"><button className=\"wardAddButton\"><AddCircleOutline/>Add New Hospital</button></Link>\r\n      <TextField id=\"search\" label=\"Search ................\" variant=\"filled\" type=\"text\" \r\n      onChange= {(event) => {\r\n        setSearchKey(event.target.value);\r\n      }}\r\n      />\r\n    <Table className={classes.table} aria-label=\"simple table\">\r\n          <TableHead>\r\n          <TableRow>\r\n            <TableCell align=\"left\">NAME</TableCell>\r\n            <TableCell align=\"left\">CONTACT</TableCell>\r\n            <TableCell align=\"left\">DISTRICT</TableCell>\r\n            <TableCell align=\"left\">CITY</TableCell>\r\n            <TableCell align=\"left\">PROVINCE</TableCell>\r\n            <TableCell align=\"left\">ACTION</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {data\r\n          .filter((row)=>{\r\n            if (searchKey ==\"\"){\r\n              return row\r\n            }else if(row.address.district.toLowerCase().includes(searchKey.toLowerCase())){\r\n              return row\r\n            }else if(row.address.province.toLowerCase().includes(searchKey.toLowerCase())){\r\n              return row\r\n            }else if(row.name.toLowerCase().includes(searchKey.toLowerCase())){\r\n              return row\r\n            }else if(row.address.city.toLowerCase().includes(searchKey.toLowerCase())){\r\n              return row\r\n          }})\r\n          .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n          .map(row => (\r\n            <TableRow key={row._id}>\r\n              <TableCell align=\"left\">{row.name}</TableCell>\r\n              <TableCell align=\"left\">0{row.Contact[0]}</TableCell>\r\n              <TableCell align=\"left\">{row.address.district}</TableCell>\r\n              <TableCell align=\"left\">{row.address.city}</TableCell>\r\n              <TableCell align=\"left\">{row.address.province}</TableCell>\r\n\r\n              <>\r\n              <TableCell align=\"left\">\r\n                <Link to={\"addHospitalAdmin/\"+row._id}>\r\n                <button className=\"wardListEdit\" aria-label=\"edit\" >\r\n                  <AddCircleOutline/>Add Hospital Admin \r\n                </button></Link>\r\n              </TableCell></>\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n    <TablePagination\r\n        rowsPerPageOptions={[5, 10, 20]}\r\n        component=\"div\"\r\n        count={data.length}\r\n        rowsPerPage={rowsPerPage}\r\n        page={page}\r\n        onPageChange={handleChangePage}\r\n        onRowsPerPageChange={handleChangeRowsPerPage}\r\n      />\r\n    </Paper>\r\n  );\r\n}\r\n","import React,  {useEffect} from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { DeleteOutline, AddCircleOutline, Visibility} from \"@material-ui/icons\";\r\nimport {Link} from \"react-router-dom\";\r\nimport './staffList.css';\r\nimport { useState } from \"react\";\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { getAllStaff, getAllUsers, getUserLoadingStatus, loadUsers } from \"../../../store/entities/users\";\r\n\r\nconst useStyles = makeStyles({\r\n  table: {\r\n    minWidth: 650\r\n  }\r\n});\r\n\r\nexport default function StaffList() {\r\n  const dispatch = useDispatch()\r\n\r\n  const user = useSelector(getAllUsers)\r\n  const usersLoading = useSelector(getUserLoadingStatus);\r\n\r\n  const [data, setData] = useState(user)\r\n  const classes = useStyles();\r\n\r\n  const handleDelete = (staff_id)=>{\r\n    setData(data.filter((item)=>item.staff_id !== staff_id));\r\n  }\r\n\r\n  useEffect(() => {\r\n    dispatch(loadUsers())\r\n\r\n},[dispatch, user])\r\n\r\n  return (\r\n    <TableContainer component={Paper}>\r\n      <Link to=\"/hospital/addHospitalStaff\"><button className=\"staffAddButton\"><AddCircleOutline/> Add New Staff</button></Link>\r\n      <Table className={classes.table} aria-label=\"simple table\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell align=\"left\">First Name</TableCell>\r\n            <TableCell align=\"left\">Last name</TableCell>\r\n            <TableCell align=\"left\">Email</TableCell>\r\n            <TableCell align=\"left\">Actions</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {data\r\n          .filter(row=>row.role === 'hospital user')\r\n          .map(row => (\r\n            <TableRow key={row._id}>\r\n              <TableCell align=\"left\">{row.name.firstName}</TableCell>\r\n              <TableCell align=\"left\">{row.name.lastName}</TableCell>\r\n              <TableCell align=\"left\">{row.email}</TableCell>\r\n              <>\r\n              <TableCell align=\"left\">\r\n                <DeleteOutline className=\"staffListDelete\" onclick={()=>handleDelete(data.staff_id)}/>\r\n              </TableCell></>\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  );\r\n}","import React, {useEffect, useState} from 'react'\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Table, Container, Button, Row, Card} from 'react-bootstrap'\r\nimport Loader from '../../components/Loader'\r\nimport {getAllPcrs, loadPcrs, updatePcrAproval, getPcrLoadingStatus} from '../../store/entities/pcr';\r\nimport { getAllHospitals, getHospitalLoadingStatus, loadHospitals} from '../../store/entities/hospitals';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nconst ConfirmData = () => {\r\n    const dispatch = useDispatch()\r\n    const history = useHistory()\r\n\r\n    const auth = useSelector(state => state.auth);\r\n    const [userType, setUserType] = useState('')\r\n   // console.log(userType)\r\n\r\n    const hospital = useSelector(getAllHospitals)\r\n    const hospitalsLoading = useSelector(getHospitalLoadingStatus);\r\n\r\n  //  const patientsList = useSelector(getAllPcrs);\r\n  //  console.log(patientsList)\r\n\r\n    const [hospitalState, setHospitalState] = useState(hospital);\r\n    const [selected, setSelected] = useState([]);\r\n    console.log(selected)\r\n    const [allSelected, setAllSelected] = useState(false);\r\n   // const patientsLoading = useSelector(getPcrLoadingStatus);\r\n\r\n    useEffect(() => {\r\n       if(!auth.loggedIn){\r\n           window.location='/'\r\n       }\r\n       setUserType(auth.data.user.role)\r\n       dispatch(loadPcrs());\r\n\r\n        setHospitalState(\r\n            hospital.map( p=>{\r\n                return {\r\n                     select: false,\r\n                    _id: p._id,\r\n                    name: p.name,\r\n                    // age: p.age,\r\n                    // telephone:p.telephone,\r\n                    // result:p.result\r\n                    'newCases': 50,\r\n                    'deaths': 0,\r\n                    'recover': 22\r\n                }\r\n            })\r\n        )\r\n\r\n    },[dispatch])\r\n\r\n    const Aproval = (decision, patientId)=>{\r\n        // const updateAprove = {\r\n\r\n        //     ids: [\r\n        //         patientId\r\n        //     ],\r\n        //     token: auth.token\r\n        // }\r\n\r\n        // dispatch(updatePcrAproval(updateAprove));\r\n        // setHospitalState(hospitalState.filter(p=>p._id !== patientId))\r\n    }\r\n\r\n    const AproveSelected =(dicision) =>{\r\n    //     const updateAprove = {\r\n\r\n    //          ids : selected\r\n    //     }\r\n    //     console.log(updateAprove)\r\n    //     dispatch(updatePcrAproval(updateAprove));\r\n    //    // dispatch(updateTransferPatient(transferUpdate))\r\n    //     setSelected([]);\r\n    //     setPatientState(patientState.filter(p=>p.select === false))\r\n\r\n        //console.log(selected)\r\n    }\r\n\r\n    const handleSelected =(value, data)=>{\r\n        if(value === false && selected.length === hospital.length){\r\n            setAllSelected(false);\r\n        }\r\n        if(value === true && selected.length === hospital.length-1){\r\n            setAllSelected(true);\r\n        }\r\n        if(value === true){\r\n            let selectedList = [...selected]\r\n            let hospitalDetail = hospital.filter(p => p._id === data._id );\r\n            selectedList.push(hospitalDetail[0]);\r\n            setSelected(selectedList);\r\n        }else{\r\n            setSelected(selected.filter(p=>p._id !== data._id));\r\n          // setSelected(selected.filter(p=>p !== data._id));\r\n        }\r\n    }\r\n\r\n    const handleSelectAll =(check)=>{\r\n        if(check === true){\r\n            setAllSelected(check);\r\n            //setSelected(patientsList)\r\n            setSelected(hospital)\r\n        }else{\r\n            setAllSelected(check);\r\n            setSelected([]);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n        {auth.loggedIn && hospitalsLoading && (<Loader></Loader>)}\r\n        {auth.loggedIn /*&& userType === 'admin'*/ ? \r\n        <Container>\r\n           \r\n        <h2 style={{textAlign:'center', marginBottom:'40px', fontWeight:'700'}}>APROVE UPDATED DETAILS</h2>\r\n        {hospitalState.length === 0 ? <Card style={{backgroundColor:'#fca8a4', color:'#b73333', opacity:'0.5', padding:'10px'}}>No data</Card>:\r\n        <div>\r\n            <Row className='ml-3 mb-2'>\r\n                <Button\r\n                    value = {selected}\r\n                    disabled={selected.length === 0}\r\n                    onClick = { () => AproveSelected('accept')}\r\n                    className=\"btn btn-primary w-25 mr-2\"\r\n                >Confirm Selected</Button>\r\n                {/* <Button\r\n                    value = {selected}\r\n                    disabled={selected.length === 0}\r\n                    onClick = { () => AproveSelected('declined')}\r\n                    className=\"btn btn-danger w-25\"\r\n                    style={{opacity:'0.7'}}\r\n                >Decline Selected</Button> */}\r\n            </Row>\r\n\r\n            <Table striped bordered hover variant=\"light\">\r\n                <thead>\r\n                    <tr>\r\n                    <th><input \r\n                        type='checkBox'\r\n                        onChange ={(e) =>{\r\n                            let checked = e.target.checked\r\n                            setHospitalState(hospitalState.map(p=>{\r\n                                p.select = checked;\r\n                                return p;\r\n                            }))\r\n                            handleSelectAll(checked)\r\n                        }}\r\n                        checked={allSelected}\r\n                    /></th>\r\n                    <th>Name</th>\r\n                    <th>Total Cases</th>\r\n                    <th>Deaths</th>\r\n                    <th>Recovery</th>\r\n                    <th>Actions</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {hospitalState.map( p =>\r\n                    \r\n                        <tr>\r\n                            {/* <td>{p._id}</td> */}\r\n                            <td><input \r\n                                type='checkBox' \r\n                                onChange={(e) =>{\r\n                                    let checked = e.target.checked;\r\n                                    handleSelected(checked, p)\r\n                                    setHospitalState(hospitalState.map( data=>{\r\n                                        if(data._id == p._id){\r\n                                            data.select = checked;\r\n                                        }\r\n                                        return data;\r\n                                    }))\r\n                                }}\r\n                                checked ={p.select}\r\n                            /></td>\r\n                            <td>{p.name}</td>\r\n                            <td className='text-warning font-weight-bold'>{p.newCases}</td>\r\n                            <td className='text-danger font-weight-bold'>{p.deaths}</td>\r\n                            <td className='text-success font-weight-bold'>{p.recover}</td>\r\n                            <td>\r\n                                <Row>\r\n                                    <Button \r\n                                        value = {p._id}\r\n                                        onClick = { () => Aproval('accept', p._id)}\r\n                                        className=\"btn btn-primary mr-2 ml-2 text-center\"\r\n                                        style={{width:'80%'}}>Confirm</Button>\r\n                                    {/* <Button \r\n                                        value = {p._id}\r\n                                        style={{opacity:'0.8'}}\r\n                                        onClick = { () => Aproval('declined',p._id)}\r\n                                        className=\"btn btn-danger text-center\"\r\n                                        style={{width:'40%',opacity:'0.7'}}>Decline</Button> */}\r\n                                </Row>\r\n                            </td>\r\n                        </tr>\r\n                    )}\r\n                </tbody>\r\n            </Table>\r\n        </div> \r\n        }\r\n      \r\n\r\n        {/* <Pagination\r\n            itemsCount = {patientsList.length} \r\n            pageSize = {pageSize} \r\n            currentPage = {currentPage}\r\n            onPageChange = {(page) => {\r\n                setCurrentPage(page);\r\n                setPaginated(paginate(patientsList, page, pageSize));\r\n            }}\r\n        /> */}\r\n        \r\n        </Container>\r\n         : history.goBack()/*window.location='/'*/}\r\n        \r\n    </>\r\n    )\r\n\r\n}\r\n\r\nexport default ConfirmData\r\n\r\n// function getOnlyIds(patientsList){\r\n//     let list =[]\r\n\r\n//     if ( patientsList.length === 0) return list;\r\n\r\n//     for ( let i =0; i<= patientsList.length-1 ; i++){\r\n//         list.push(patientsList[i]._id)\r\n//     }\r\n//     //console.log(list)\r\n//     return list;\r\n// }\r\n","import React, {useEffect, useState, Component} from 'react'\r\nimport { Container, Button, FormControl, InputGroup, Row, Card, Form} from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { toastAction } from '../../store/toastActions';\r\nimport { loadPatients, getAllPatients, getPatientsLoadingStatus, admitPatient, getPatientAdmitState } from '../../store/entities/patients';\r\n\r\nconst AdmitPatient = ({history}) => {\r\n    const dispatch = useDispatch()\r\n\r\n    const patientsDetails = useSelector(getAllPatients);\r\n    const patients = patientsDetails.list;\r\n\r\n    const patientAdmitSate = useSelector(getPatientAdmitState)\r\n    const [submitState, setSubmitSate] = useState(false)\r\n   // console.log(patients)\r\n\r\n    const auth = useSelector(state => state.auth);\r\n    const { admin, user } = auth.data.user\r\n    const {wards } = admin.hospital\r\n   // console.log(wards)\r\n    //console.log(admin)\r\n\r\n    const [searchKeyword, setSearchKeyword ] = useState('');\r\n    const [patientName, setPatientName] = useState();\r\n    console.log(patientName)\r\n    const [ward, setWard] = useState(wards[0].name);\r\n    //const [wardId, setWardId] = useState(wards[0]._id);\r\n  //  console.log(ward)\r\n    const [isKid, setIsKid] = useState(false)\r\n   // console.log(isKid)\r\n    const [patient, selectedPatient] = useState();\r\n\r\n    const serachPatient =() =>{\r\n        const filteredPatient = getFilteredSearchedPatients(patients, searchKeyword, isKid)\r\n        setPatientName(filteredPatient)\r\n        selectedPatient(filteredPatient)\r\n    }\r\n\r\n    const AdmitPatient =() =>{\r\n        if(patientName.length > 1){\r\n            dispatch(toastAction({ message: \"Please select only one patient\", type: 'error' }))\r\n        }\r\n        else{\r\n            if(patientName[0]){\r\n                const patientDetails = {\r\n                    patient: patientName[0]._id,\r\n                    ward : getWardId(wards, ward)\r\n                }\r\n                dispatch(admitPatient(patientDetails))\r\n                setSubmitSate(true)\r\n                console.log(patientDetails)\r\n            }\r\n            else{\r\n                const patientDetails = {\r\n                    patient: patientName._id,\r\n                    ward : getWardId(wards, ward)\r\n                }\r\n               dispatch(admitPatient(patientDetails))\r\n               setSubmitSate(true)\r\n               console.log(patientDetails)\r\n            }\r\n           \r\n           // dispatch(admitPatient(patientName[0]._id, ward))\r\n        }\r\n\r\n    }\r\n\r\n    // const selectPatient =(patient) => {\r\n\r\n    // }\r\n\r\n    // const handleSelected =(check) =>{\r\n    //     if(check === true){\r\n    //         setIsKid(true)\r\n    //     }if(check === false){\r\n    //         setIsKid(false)\r\n    //     }\r\n    // }\r\n\r\n    useEffect(() => {\r\n        if(!auth.loggedIn){\r\n           history.push('/')\r\n        }\r\n\r\n        if(patientAdmitSate.medicalHistory && submitState){\r\n            setSubmitSate(false)\r\n            dispatch(toastAction({ message: \"Patient admitted successfully\", type: 'info' }))\r\n        }\r\n        dispatch(loadPatients())\r\n    },[dispatch,patientAdmitSate, searchKeyword])\r\n\r\n\r\n    return (\r\n        <Container>\r\n            <p className='m-3'>Check Whether Patient is Already Registered in the system</p>\r\n            <Row>\r\n                <div style={{width:'80%'}}>\r\n                    <InputGroup id = 'search-bar' style={{padding:'0 0 10px 0', color:'blue'}}>\r\n                    <FormControl\r\n                        className='textBox'\r\n                        placeholder=\"search patient by using name or NIC...\"\r\n                        aria-label=\"searchPatient\"\r\n                        aria-describedby=\"basic-addon2\"\r\n                        size = 'lg'\r\n                     value = {searchKeyword}\r\n                     onChange = { e => setSearchKeyword(e.target.value)}\r\n                    />\r\n                    </InputGroup>\r\n                </div>\r\n\r\n                <div style={{width: '15%',padding:'5px 10px'}}>\r\n                    <Button \r\n                        className='text-center'\r\n                        onClick= { ()=> serachPatient()}\r\n                    >Search</Button>\r\n                </div>\r\n            </Row>\r\n\r\n            <div>\r\n                <input \r\n                    type='checkbox'\r\n                    style={{width:'5%', marginTop:'5px', marginLeft:'50px'}}\r\n                    onChange={(e) =>{\r\n                        let checked = e.target.checked;\r\n                        setIsKid(checked)\r\n                    }}\r\n                />\r\n                <Form.Label className = 'form-label w-75'>IF Patient is kid add select in check box</Form.Label> \r\n            </div>\r\n            {patient && patient.length !==0 &&\r\n            <div> \r\n                {patient.length === 1 && \r\n                <Card style={{backgroundColor:'#0cce39', color:'#000f05', opacity:'0.5', padding:'10px', width:'80%'}}>\r\n                    {patientName[0].nic.nicno} is already registered patient\r\n                </Card>}\r\n\r\n                {patient.length > 1 && \r\n                <div>\r\n                    <p>There are more than one patient registered under this NIC number, Please select correct one</p>\r\n                    <Card style={{backgroundColor:'#0cce39', color:'#000f05', opacity:'0.5', padding:'10px', width:'80%'}}>\r\n                    {patient.map( p=> \r\n                                    <Button \r\n                                        className=\"btn btn-light\"\r\n                                        style={{width:'80%', borderRadius:'0px'}}\r\n                                        onClick={()=>setPatientName(p)}\r\n                                        >\r\n                                        {p.user.name.firstName + \" \" + p.user.name.lastName}\r\n                                    </Button>)}\r\n                    </Card>\r\n                </div>\r\n                }\r\n\r\n                <Form.Group className='mt-2 w-25'>\r\n                    <Form.Control onChange = {(e) => {\r\n                        if(e.target.value !== \"Select ward\"){\r\n                            setWard(e.target.value);\r\n                            //setWardId(e.target.value)\r\n                        }\r\n                    }} as=\"select\">\r\n                    {wards.map((c,index) => <option selected={index === 0? 'slected': null}>{`${c.name}`}</option>)}\r\n                    </Form.Control>\r\n                </Form.Group>\r\n\r\n                <p>{ward} is selected</p>\r\n\r\n                <Button \r\n                    className='text-center my-2'\r\n                    onClick= { ()=> AdmitPatient()}\r\n                >Admit Patient</Button>\r\n\r\n            </div>}\r\n\r\n            {patientName && patientName.length ===0 &&\r\n            <div>\r\n                <Card style={{backgroundColor:'#fca8a4', color:'#b73333', opacity:'0.5', padding:'10px', width:'80%'}}>\r\n                    Not Found please register patient\r\n                </Card>\r\n                <Button \r\n                    className='text-center my-2'\r\n                    onClick= { ()=> history.push('/hospital/addPatient')}\r\n                >Register New Patient</Button>\r\n            </div>}\r\n\r\n\r\n           \r\n        </Container>\r\n\r\n    )\r\n}\r\n\r\nexport default AdmitPatient\r\n\r\nfunction getFilteredSearchedPatients(patients, filterBy, isKid){\r\n    let name;\r\n    if(!isKid){\r\n        name =  patients.filter(p => \r\n            objectDestructure(p, \"nic\") === filterBy.toString()  && getAge(p) > 18\r\n         );\r\n        //  if(name.length === 1){\r\n        //     return name[0]\r\n        //  }\r\n         return name\r\n    }\r\n    else{\r\n        name =  patients.filter(p => \r\n            objectDestructure(p, \"nic\") === filterBy.toString() && getAge(p) < 18\r\n        );\r\n        // if(name.length === 1){\r\n        //     return name[0]\r\n        //  }\r\n        return name\r\n    }\r\n\r\n}\r\n\r\nfunction objectDestructure(patient, type){\r\n    let newList = \"\"\r\n    if(typeof(patient) === 'undefined' || patient.length === 0){\r\n        return newList\r\n    } \r\n\r\n    const { nic } = patient\r\n    if(nic){\r\n        if(type === \"nic\"){\r\n            const { nicno } = nic;\r\n            //console.log(nicno)\r\n            return nicno.toString()\r\n        }\r\n    }else{\r\n        return newList\r\n    }\r\n}\r\n\r\nfunction getAge(patient){\r\n    let age = null\r\n    if(typeof(patient) === 'undefined' || patient.length === 0){\r\n        return age\r\n    } \r\n\r\n    const { birthday } = patient.user\r\n    const onlyYear = birthday.split(\"/\")[0]\r\n    const currentYear = new Date().getFullYear()\r\n    age =  (currentYear - parseInt(onlyYear))\r\n    console.log(age)\r\n    return age\r\n}\r\n\r\nfunction getWardId(wards, wardName){\r\n    const wardId = wards.filter( p=> p.name === wardName)\r\n    //console.log(wardId)\r\n    return wardId[0]._id\r\n}\r\n","import React, {useEffect, useState, Component} from 'react'\r\nimport { Table, Container, Button, InputGroup, FormControl, Form} from 'react-bootstrap'\r\nimport { paginate } from '../../utils/paginate';\r\nimport Loader from '../../components/Loader'\r\nimport Pagination from '../../components/Pagination';\r\nimport {getAllPcrs, loadPcrs, getPcrLoadingStatus,changeStatus} from '../../store/entities/pcr';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\n\r\nconst SearchPCR = ({history}) => {\r\n    const dispatch = useDispatch()\r\n\r\n    const auth = useSelector(state => state.auth);\r\n   // console.log(auth)\r\n\r\n    const pcrList = useSelector(getAllPcrs);\r\n    console.log(pcrList)\r\n\r\n    const pcrLoading = useSelector(getPcrLoadingStatus);\r\n    const [filtered, setFiltered] = useState(pcrList);\r\n\r\n    const pageSize = 5;\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    let [paginated, setPaginated] = useState(pcrList);\r\n\r\n    const [searchKeyword, setSearchKeyword ] = useState('');\r\n\r\n    const status = ['select status', 'active', 'recovered', 'death']\r\n    const [patientStatus, setStatus] = useState('')\r\n    // console.log(patientStatus)\r\n\r\n    const changePatientStatus = (id) => {\r\n        console.log(patientStatus)\r\n        if(patientStatus === '' || patientStatus === 'select status'){\r\n            alert(\"Please select valid status\")\r\n        }\r\n        else{\r\n            dispatch(changeStatus(id, patientStatus))\r\n        }\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        if(!auth.loggedIn){\r\n           history.push('/')\r\n        }\r\n        dispatch(loadPcrs())\r\n        const updatedSearchFiltered = getFilteredSearchedPatients(pcrList, searchKeyword)\r\n        setFiltered(updatedSearchFiltered);\r\n        setPaginated(paginate(updatedSearchFiltered, currentPage, pageSize));\r\n\r\n    },[dispatch, searchKeyword, pcrList])\r\n\r\n\r\n    return (\r\n        <>\r\n            {/* {auth.loggedIn && patientsLoading && (<Loader></Loader>)}\r\n            {auth.loggedIn ?  */}\r\n            {(typeof(pcrList) === 'undefined' || pcrList.length == 0) && pcrLoading && (<Loader></Loader>)}\r\n            <Container>\r\n                <h3 style={{textAlign:'center', marginBottom:'40px', fontWeight:'700'}}>PCR DETAILS</h3>\r\n\r\n                <Button \r\n                    className=\"btn btn-success\"\r\n                    style={{float:'right',padding:'10px'}}\r\n                    onClick = { () => history.push('/hospital/addPcrResults')}\r\n                >+ add pcr result</Button>\r\n\r\n                <InputGroup id = 'search-bar' style={{padding:'0px 200px 20px 200px', color:'blue'}}>\r\n                            <FormControl\r\n                                className='textBox'\r\n                                placeholder=\"search pcr by using name or NIC...\"\r\n                                aria-label=\"searchPatient\"\r\n                                aria-describedby=\"basic-addon2\"\r\n                                size = 'lg'\r\n                                value = {searchKeyword}\r\n                                onChange = { e => setSearchKeyword(e.target.value)}\r\n                            />\r\n                </InputGroup>\r\n\r\n            {pcrList.length === 0 ? <h1>No data</h1>:\r\n\r\n            <Table striped bordered hover variant=\"light\">\r\n                <thead>\r\n                    <tr>\r\n                    <th>Name</th>\r\n                    <th>NIC</th>\r\n                    <th>Tel</th>\r\n                    <th>Result</th>\r\n                    <th>Status</th>\r\n                    <th>Action</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {paginated.map( p =>\r\n                        <tr>\r\n                            <td>\r\n                               {(objectDestructure(p , \"name\"))}\r\n                            </td>\r\n                            <td>{(objectDestructure(p , \"nic\"))}</td>\r\n                            <td>{p.contactNumber}</td>\r\n                            <td>{p.result}</td>\r\n                            {/* <td>{p.name}</td> */}\r\n                            <td>\r\n                                <Form.Label>{p.status || 'No status'}</Form.Label>\r\n                                <Form.Group>\r\n                                    <Form.Control onChange = {(e) => {\r\n                                        setStatus(e.target.value);\r\n                                    }} as=\"select\">\r\n                                    {status.map((c,index) => <option selected={index === 0? 'slected': null}>{`${c}`}</option>)}\r\n                                    </Form.Control>\r\n                                </Form.Group>\r\n                            </td>\r\n                            <td>\r\n                                {//patientStatus && \r\n                                    <Button \r\n                                        value = {p._id}\r\n                                        onClick = { () => changePatientStatus(p._id)}\r\n                                        className=\"btn btn-primary\">Change</Button>\r\n                                }\r\n                            </td>\r\n                        </tr>\r\n                    //)\r\n                    )}\r\n                </tbody>\r\n            </Table>\r\n\r\n            }\r\n\r\n            <Pagination\r\n                itemsCount = {filtered.length} \r\n                pageSize = {pageSize} \r\n                currentPage = {currentPage}\r\n                onPageChange = {(page) => {\r\n                    setCurrentPage(page);\r\n                    setPaginated(paginate(filtered, page, pageSize));\r\n                }}\r\n            />\r\n\r\n            </Container>\r\n            {/* : history.push('/')} */}\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nexport function getFilteredSearchedPatients(pcr, filterBy){\r\n\r\n    if(typeof(pcr) === 'undefined' || pcr.length === 0){\r\n       return {}\r\n    }\r\n    return pcr.filter(p => objectDestructure(p, \"name\").toLowerCase().includes(filterBy) || getNic(p).includes(filterBy.toString()));\r\n}\r\n\r\nexport function objectDestructure ( pcr, type){\r\n    let newList = \"\"\r\n    if(typeof(pcr) === 'undefined' || pcr.length === 0){\r\n        return newList\r\n    } \r\n\r\n    if(type === \"name\"){\r\n        const { firstName , lastName } = pcr.name;\r\n        const patientName = firstName + \" \" + lastName\r\n        return patientName;\r\n    }\r\n    \r\n    if(type === \"nic\"){\r\n        const { nicno } = pcr.nic;\r\n            return nicno\r\n    }\r\n\r\n    if(type === \"tel\"){\r\n        const { contactNumber } = pcr;\r\n        return contactNumber\r\n    }\r\n}\r\n\r\nfunction getNic(patient){\r\n    const { nic } = patient\r\n    if(nic){\r\n        const {nicno} = nic\r\n        return nicno.toString()\r\n    }\r\n    return \"\"\r\n}\r\n\r\nexport default SearchPCR \r\n\r\n","import React, {useEffect, useState, Component} from 'react'\r\nimport { Table, Container, Button, InputGroup, FormControl, Card} from 'react-bootstrap'\r\nimport CommonListGroup from '../../components/common/CommonListGroup'\r\nimport { paginate } from '../../utils/paginate';\r\nimport Loader from '../../components/Loader'\r\nimport Pagination from '../../components/Pagination';\r\n//import { listPatients } from '../../actions/patientActions'\r\nimport { loadAdmittedPatients, getAllAdmittedPatients, getPatientsLoadingStatus, getAdmittedPatientsLoadingStatus} from '../../store/entities/patients';\r\nimport { useLocation, Link } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\n\r\nconst AdmittedPatients = ({history}) => {\r\n    const dispatch = useDispatch()\r\n\r\n   // const auth = useSelector(state => state.auth);\r\n\r\n    const userDetails = useSelector(state => state.auth);\r\n  // console.log(userDetails)\r\n    // const { user } = userDetails.data.user\r\n    // const auth = user\r\n\r\n  //  console.log(auth)\r\n\r\n    const patients = useSelector(getAllAdmittedPatients);\r\n   // const patients = patientsDetails.list;\r\n   // const data = objectDestructure (patients);\r\n   // const {medicalHistory, nic, pcrTest, user, _id } = patientsDetails.list;\r\n    console.log(patients)\r\n    const patientsLoading = useSelector(getAdmittedPatientsLoadingStatus);\r\n\r\n  //  const location = useLocation()\r\n  //  let { category:passedCategory  } = location\r\n  //  if(!passedCategory) passedCategory = 'All'\r\n\r\n   // const AllCategories = ['All','Active', 'Recovered', 'Transffered', 'Deaths']\r\n   // const categories = AllCategories.filter(c=> c!== passedCategory)\r\n\r\n //   const [selectedCategory, setSelectedCategory] = useState(passedCategory);\r\n    const [filtered, setFiltered] = useState(patients);\r\n    //console.log(filtered)\r\n\r\n    const pageSize = 5;\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    let [paginated, setPaginated] = useState(patients);\r\n    //console.log(paginated)\r\n\r\n    const [searchKeyword, setSearchKeyword ] = useState('');\r\n\r\n\r\n    useEffect(() => {\r\n        if(!userDetails.loggedIn){\r\n           // window.location('/')\r\n           history.push('/')\r\n        }\r\n        dispatch(loadAdmittedPatients())\r\n\r\n        const updatedSearchFiltered = getFilteredSearchedPatients(patients, searchKeyword)\r\n       // const updatedFiltered = getFilteredPatients(updatedSearchFiltered, categories, selectedCategory);\r\n        setFiltered(updatedSearchFiltered);\r\n        setPaginated(paginate(updatedSearchFiltered, currentPage, pageSize));\r\n       // getFilteredSearchedPatients(patients, searchKeyword)\r\n       // console.log(searchKeyword)\r\n    },[searchKeyword])\r\n\r\n\r\n    return (\r\n        <>\r\n            {/* {auth.loggedIn && patientsLoading && (<Loader></Loader>)}\r\n            {auth.loggedIn ?  */}\r\n            {(typeof(patients) === 'undefined' || patients.length == 0) && patientsLoading && (<Loader></Loader>)}\r\n            <Container>\r\n                <h3 style={{textAlign:'center', marginBottom:'40px', fontWeight:'700'}}>ADMITTED PATIENTS</h3>\r\n\r\n                <Button \r\n                    className=\"btn btn-success\"\r\n                    style={{float:'right',padding:'10px'}}\r\n                    onClick = { () => history.push('/hospital/admitPatient')}\r\n                >+ admit patient</Button>\r\n\r\n                <InputGroup id = 'search-bar' style={{padding:'0px 200px 20px 200px', color:'blue'}}>\r\n                            <FormControl\r\n                                className='textBox'\r\n                                placeholder=\"search patient by using name or NIC...\"\r\n                                aria-label=\"searchPatient\"\r\n                                aria-describedby=\"basic-addon2\"\r\n                                size = 'lg'\r\n                                value = {searchKeyword}\r\n                                onChange = { e => setSearchKeyword(e.target.value)}\r\n                            />\r\n                </InputGroup>\r\n\r\n                {/* <CommonListGroup \r\n                onSelect = {(category) => {\r\n                    setSelectedCategory(category);\r\n                    const updatedFiltered = getFilteredPatients(patients, AllCategories, category);\r\n                    setFiltered(updatedFiltered);\r\n                    setPaginated(paginate(updatedFiltered, 1, pageSize));\r\n                }} \r\n                defaultSelected ={passedCategory} selected={selectedCategory} \r\n                list={categories.map(c => c)}\r\n                /> */}\r\n\r\n            {patients.length === 0 ? <h1>No data</h1>:\r\n\r\n            <Table striped bordered hover variant=\"light\">\r\n                <thead>\r\n                    <tr>\r\n                    <th>Name</th>\r\n                    <th>Age</th>\r\n                    <th>Tel</th>\r\n                    <th>Address</th>\r\n                    {/* <th>Status</th> */}\r\n                    <th>Action</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {paginated.map( p =>\r\n                        <tr>\r\n                            <td>\r\n                               {(objectDestructure(p , \"name\"))}\r\n                            </td>\r\n                            <td>{(objectDestructure(p , \"age\"))}</td>\r\n                            <td>{(objectDestructure(p , \"tel\"))}</td>\r\n                            <td>{(objectDestructure(p , \"address\"))}</td>\r\n                            {/* <td>{p.name}</td> */}\r\n                            <td>\r\n                                <Button \r\n                                    value = {p._id}\r\n                                    onClick = { () => history.push(`/hospital/Profile/${p._id}`)}\r\n                                    className=\"btn btn-primary\">Profile</Button>\r\n                            </td>\r\n                        </tr>\r\n                    //)\r\n                    )}\r\n                </tbody>\r\n            </Table>\r\n\r\n            }\r\n\r\n            <Pagination\r\n                itemsCount = {filtered.length} \r\n                pageSize = {pageSize} \r\n                currentPage = {currentPage}\r\n                onPageChange = {(page) => {\r\n                    setCurrentPage(page);\r\n                    setPaginated(paginate(filtered, page, pageSize));\r\n                }}\r\n            />\r\n\r\n            </Container>\r\n            {/* : history.push('/')} */}\r\n\r\n        </>\r\n    )\r\n}\r\n\r\nfunction getFilteredPatients(patients, categories, filter){\r\n    const patient = patients.filter(c => c.currentMedicalHistory)\r\n    console.log(patient)\r\n    return patient\r\n\r\n  //  const category = categories.find(c => c === filter);\r\n   //return patients;\r\n}\r\n\r\nexport function getFilteredSearchedPatients(patients, filterBy){\r\n  //  console.log(patients)\r\n   // console.log(filterBy)\r\n    if(typeof(patients) === 'undefined' || patients.length === 0){\r\n       return {}\r\n    }\r\n    //return patients\r\n    //return patients.filter(p => p.user)\r\n    return patients.filter(p => objectDestructure(p, \"name\").toLowerCase().includes(filterBy) || getNic(p).includes(filterBy.toString()));\r\n    //return patients.filter(p => p.name.toLowerCase().includes(filterBy) //||\r\n        //p.description.toLowerCase().includes(filterBy.toLowerCase())\r\n       // console.log(p.name.toLowerCase())\r\n    //);\r\n}\r\n\r\nexport function objectDestructure ( patients, type){\r\n    let newList = \"\"\r\n    if(typeof(patients) === 'undefined' || patients.length === 0){\r\n        return newList\r\n    } \r\n\r\n    const { user } = patients\r\n    if(user){\r\n        if(type === \"name\"){\r\n            const { firstName , lastName } = user.name;\r\n            const patientName = firstName + \" \" + lastName\r\n            return patientName;\r\n        }\r\n        \r\n        if(type === \"age\"){\r\n            const { birthday } = user;\r\n            const date = new Date().getFullYear();\r\n            const birthYear = birthday.split(\"-\")[0]\r\n            return (date - birthYear)\r\n        }\r\n\r\n        if(type === \"tel\"){\r\n            const { contactNo } = user;\r\n            return contactNo\r\n        }\r\n        if(type === \"address\"){\r\n            const { city, line1, line2, province } = user.address;\r\n            return (city + \",\" + line1 + \",\" + line2 + \",\" + province)\r\n        }\r\n    }else{\r\n        return newList\r\n    }\r\n}\r\n\r\nfunction getNic(patient){\r\n    const { nic } = patient\r\n    if(nic){\r\n        const {nicno} = nic\r\n        return nicno.toString()\r\n    }\r\n    return \"\"\r\n}\r\n\r\nexport default AdmittedPatients\r\n\r\n","import React, {useEffect, useState} from 'react'\r\nimport {Container, Button, Card, Row, Col, Nav, Form, FormControl} from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { forgotPassword, getEmailSentState } from '../store/entities/users'\r\nimport {  Formik } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport { toastAction } from './../store/toastActions';\r\n\r\nconst ForgotPassword = () => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const emailSentState = useSelector(getEmailSentState);\r\n\r\n    const [submitState, setSubmitState] = useState(false)\r\n\r\n    const [ schema, setSchema ] = useState({ \r\n        email : Yup.string().required('email is required...').matches(/^[^\\s@]+@[^\\s@]+\\.[^\\s@]{2,}$/i, \"Invalid Email. EX :- john@gmail.com\"),\r\n    });\r\n\r\n    const [initialValues, setInitialValues ] = useState({\r\n        email: ''\r\n    });\r\n\r\n    const submitForm = (values) => {\r\n        const {email} = values\r\n\r\n        const result = {\r\n            email: email\r\n        }\r\n\r\n        dispatch(forgotPassword(result))\r\n        setSubmitState(true)\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(emailSentState.isEmailSent && submitState){\r\n            setSubmitState(false)\r\n            dispatch(toastAction({ message: \"Email sent Successfully...\", type: 'info' }));\r\n        }\r\n    },[emailSentState ]);\r\n\r\n    return (\r\n        \r\n    <Container className=' formContainer mt-3'>\r\n    <Formik\r\n        validationSchema = {Yup.object().shape(schema)}\r\n        onSubmit = {submitForm}\r\n        initialValues = {initialValues}\r\n    >\r\n        {({\r\n            handleSubmit,\r\n            handleChange,\r\n            handleBlur,\r\n            values,\r\n            touched,\r\n            isValid,\r\n            dirty,\r\n            errors\r\n        }) => (\r\n        <Form noValidate onSubmit={handleSubmit}>\r\n        <h3 style={{textAlign:'center', fontWeight:'700'}}>FORGOT PASSWORD</h3>\r\n\r\n\r\n    <div className=\"vs-row top-content\" style={{display:'flex', width:'100%'}}>\r\n        <div className=\"vs-col vs-xs- vs-sm-12 vs-lg-6\"style={{margin:'0%',width:'100%', position:'relative'}}>\r\n            <div className=\"set-animation from-left animate\">\r\n                <Form.Group controlId = 'firstName' className='m-2' style={{width:'100%'}}>\r\n                    <Form.Label className = 'form-label m-2'>Email</Form.Label>\r\n                        <Form.Control \r\n                            className='textBox'\r\n                            type='email'\r\n                            name='email'\r\n                            value={values.email}\r\n                            onChange={handleChange}\r\n                            placeholder='Email'\r\n                            isValid={touched.email && !errors.email}\r\n                            isInvalid={!!errors.email}\r\n                            size = {'lg'} \r\n                            autoComplete='disabled'\r\n                        />\r\n                        <FormControl.Feedback type='invalid'>{errors.email}</FormControl.Feedback>\r\n                </Form.Group>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n        <br/><br/>\r\n        <div class=\"col-md-12 text-center\">\r\n            <Button \r\n                type='submit'\r\n                className='mb-3'\r\n                style={{float:'center'}}\r\n            >\r\n            Submit\r\n            </Button>\r\n        </div>\r\n        </Form>\r\n        )}\r\n    </Formik>\r\n   </Container>\r\n  )\r\n}\r\n\r\nexport default ForgotPassword\r\n","import React, {useEffect, useState} from 'react'\r\nimport {Container, Button, Card, Row, Col, Nav, Form, FormControl} from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { resetPassword, getPasswordResetState } from '../store/entities/users'\r\nimport {  Formik } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport { ref } from \"yup\";\r\nimport { toastAction } from './../store/toastActions';\r\nimport { logout} from '../store/auth';\r\n\r\nconst ResetPassword = ({match}) => {\r\n    const userDetails = useSelector(state => state.auth);\r\n\r\n    const dispatch = useDispatch()\r\n    const token = match.params.token\r\n    const [submitState, setSubmitState] = useState(false)\r\n\r\n    const resetPasswordState = useSelector(getPasswordResetState);\r\n\r\n    const [ schema, setSchema ] = useState({ \r\n        password : Yup.string().required('password is required...').matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{6,}$/, \"Password should atleast be of 6 characters. Should include atleast one simple letter, capital letter, special character and number\"),\r\n        confirmPassword : Yup.string().required(\"Please confirm your password\").oneOf([ref(\"password\")], \"Passwords do not match\")\r\n    });\r\n\r\n    const [initialValues, setInitialValues ] = useState({\r\n        password : '',\r\n        confirmPassword : ''\r\n    });\r\n\r\n    const submitForm = (values) => {\r\n        const {password, confirmPassword} = values\r\n\r\n        const result = {\r\n            password: password,\r\n            passwordConfirm: confirmPassword\r\n        }\r\n\r\n        dispatch(resetPassword(result, token))\r\n        setSubmitState(true)\r\n      //  dispatch(toastAction({ message: \"Password reset successfully...\", type: 'info' }));\r\n        // console.log(token)\r\n        // console.log(result)\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(resetPasswordState.isPasswordReset && submitState){\r\n            setSubmitState(false)\r\n            dispatch(toastAction({ message: \"Password Reset Successfully...\", type: 'info' }));\r\n\r\n            if(userDetails.loggedIn){\r\n                dispatch(logout())\r\n                window.location = '/signin';\r\n            }\r\n            else{\r\n                window.location = '/signin'\r\n            }\r\n        }\r\n    },[resetPasswordState]);\r\n\r\n    return (\r\n        <Container className=' formContainer mt-3'>\r\n        <Formik\r\n            validationSchema = {Yup.object().shape(schema)}\r\n            onSubmit = {submitForm}\r\n            initialValues = {initialValues}\r\n        >\r\n            {({\r\n                handleSubmit,\r\n                handleChange,\r\n                handleBlur,\r\n                values,\r\n                touched,\r\n                isValid,\r\n                dirty,\r\n                errors\r\n            }) => (\r\n            <Form noValidate onSubmit={handleSubmit}>\r\n            <h3 style={{textAlign:'center', fontWeight:'700'}}>ADD NEW PASSWORD</h3>\r\n    \r\n    \r\n        <div className=\"vs-row top-content\" style={{display:'flex', width:'100%'}}>\r\n            <div className=\"vs-col vs-xs- vs-sm-12 vs-lg-6\"style={{margin:'0%',width:'100%', position:'relative'}}>\r\n                <div className=\"set-animation from-left animate\">\r\n                    <Form.Group controlId = 'password' className='m-2' style={{width:'100%'}}>\r\n                        <Form.Label className = 'form-label m-2'>Password</Form.Label>\r\n                            <Form.Control \r\n                                className='textBox'\r\n                                type='password'\r\n                                name='password'\r\n                                value={values.password}\r\n                                onChange={handleChange}\r\n                                placeholder='password'\r\n                                isValid={touched.password && !errors.password}\r\n                                isInvalid={!!errors.password}\r\n                                size = {'lg'} \r\n                                autoComplete='disabled'\r\n                            />\r\n                            <FormControl.Feedback type='invalid'>{errors.password}</FormControl.Feedback>\r\n                    </Form.Group>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"vs-col vs-xs- vs-sm-12 vs-lg-6\"style={{margin:'0%',width:'100%', position:'relative'}}>\r\n                <div className=\"set-animation from-left animate\">\r\n                    <Form.Group controlId = 'confirmPassword' className='m-2' style={{width:'100%'}}>\r\n                        <Form.Label className = 'form-label m-2'>Confirm Password</Form.Label>\r\n                            <Form.Control \r\n                                className='textBox'\r\n                                type='password'\r\n                                name='confirmPassword'\r\n                                value={values.confirmPassword}\r\n                                onChange={handleChange}\r\n                                placeholder='confirm password'\r\n                                isValid={touched.confirmPassword && !errors.confirmPassword}\r\n                                isInvalid={!!errors.confirmPassword}\r\n                                size = {'lg'} \r\n                                autoComplete='disabled'\r\n                            />\r\n                            <FormControl.Feedback type='invalid'>{errors.confirmPassword}</FormControl.Feedback>\r\n                    </Form.Group>\r\n                </div>\r\n            </div>\r\n    \r\n        </div>\r\n    \r\n            <br/><br/>\r\n            <div class=\"col-md-12 text-center\">\r\n                <Button \r\n                    type='submit'\r\n                    className='mb-3'\r\n                    style={{float:'center'}}\r\n                >\r\n                Submit\r\n                </Button>\r\n            </div>\r\n            </Form>\r\n            )}\r\n        </Formik>\r\n       </Container>\r\n    )\r\n}\r\n\r\nexport default ResetPassword\r\n","import React, {useEffect, useState} from 'react'\r\nimport {Container, Button, Card, Row, Col, Nav, Form, FormControl} from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { resetPassword, getPasswordResetState, resetPasswordLoggedIn } from '../store/entities/users'\r\nimport {  Formik } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport { ref } from \"yup\";\r\nimport { toastAction } from './../store/toastActions';\r\nimport { logout} from '../store/auth';\r\n\r\nconst ResetPasswordLoggedIn = ({match}) => {\r\n    const userDetails = useSelector(state => state.auth);\r\n\r\n    const dispatch = useDispatch()\r\n    const token = match.params.token\r\n    const [submitState, setSubmitState] = useState(false)\r\n\r\n    const resetPasswordState = useSelector(getPasswordResetState);\r\n\r\n    const [ schema, setSchema ] = useState({ \r\n        currentPassword : Yup.string().required('current password is required...'),\r\n        password : Yup.string().required('password is required...').matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{6,}$/, \"Password should atleast be of 6 characters. Should include atleast one simple letter, capital letter, special character and number\"),\r\n        confirmPassword : Yup.string().required(\"Please confirm your password\").oneOf([ref(\"password\")], \"Passwords do not match\")\r\n    });\r\n\r\n    const [initialValues, setInitialValues ] = useState({\r\n        currentPassword: '',\r\n        password : '',\r\n        confirmPassword : ''\r\n    });\r\n\r\n    const submitForm = (values) => {\r\n        const {currentPassword, password, confirmPassword} = values\r\n\r\n        const result = {\r\n            passwordCurrent : currentPassword,\r\n            password: password,\r\n            passwordConfirm: confirmPassword\r\n        }\r\n\r\n        dispatch(resetPasswordLoggedIn(result))\r\n        setSubmitState(true)\r\n      //  dispatch(toastAction({ message: \"Password reset successfully...\", type: 'info' }));\r\n        // console.log(token)\r\n        // console.log(result)\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(resetPasswordState.isPasswordReset && submitState){\r\n            setSubmitState(false)\r\n            dispatch(toastAction({ message: \"Password Reset Successfully...\", type: 'info' }));\r\n\r\n            if(userDetails.loggedIn){\r\n                dispatch(logout())\r\n                window.location = '/signin';\r\n            }\r\n            else{\r\n                window.location = '/signin'\r\n            }\r\n        }\r\n    },[resetPasswordState]);\r\n\r\n    return (\r\n        <Container className=' formContainer mt-3'>\r\n        <Formik\r\n            validationSchema = {Yup.object().shape(schema)}\r\n            onSubmit = {submitForm}\r\n            initialValues = {initialValues}\r\n        >\r\n            {({\r\n                handleSubmit,\r\n                handleChange,\r\n                handleBlur,\r\n                values,\r\n                touched,\r\n                isValid,\r\n                dirty,\r\n                errors\r\n            }) => (\r\n            <Form noValidate onSubmit={handleSubmit}>\r\n            <h3 style={{textAlign:'center', fontWeight:'700'}}>CHANGE PASSWORD</h3>\r\n    \r\n    \r\n                <div className=\"vs-row top-content\" style={{display:'flex', width:'100%'}}>\r\n                    <div className=\"vs-col vs-xs- vs-sm-12 vs-lg-12\"style={{margin:'0%',width:'100%', position:'relative'}}>\r\n                        <div className=\"set-animation from-left animate\">\r\n                            <Form.Group controlId = 'currentpassword' className='m-2' style={{width:'100%'}}>\r\n                                <Form.Label className = 'form-label m-2'>Current Password</Form.Label>\r\n                                    <Form.Control \r\n                                        className='textBox'\r\n                                        type='password'\r\n                                        name='currentPassword'\r\n                                        value={values.currentPassword}\r\n                                        onChange={handleChange}\r\n                                        placeholder='current password'\r\n                                        isValid={touched.currentPassword && !errors.currentPassword}\r\n                                        isInvalid={!!errors.currentPassword}\r\n                                        size = {'lg'} \r\n                                        autoComplete='disabled'\r\n                                    />\r\n                                    <FormControl.Feedback type='invalid'>{errors.currentPassword}</FormControl.Feedback>\r\n                            </Form.Group>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"vs-col vs-xs- vs-sm-12 vs-lg-12\"style={{margin:'0%',width:'100%', position:'relative'}}>\r\n                        <div className=\"set-animation from-left animate\">\r\n                            <Form.Group controlId = 'password' className='m-2' style={{width:'100%'}}>\r\n                                <Form.Label className = 'form-label m-2'>Password</Form.Label>\r\n                                    <Form.Control \r\n                                        className='textBox'\r\n                                        type='password'\r\n                                        name='password'\r\n                                        value={values.password}\r\n                                        onChange={handleChange}\r\n                                        placeholder='password'\r\n                                        isValid={touched.password && !errors.password}\r\n                                        isInvalid={!!errors.password}\r\n                                        size = {'lg'} \r\n                                        autoComplete='disabled'\r\n                                    />\r\n                                    <FormControl.Feedback type='invalid'>{errors.password}</FormControl.Feedback>\r\n                            </Form.Group>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"vs-col vs-xs- vs-sm-12 vs-lg-12\"style={{margin:'0%',width:'100%', position:'relative'}}>\r\n                    <div className=\"vs-row top-content\" style={{display:'flex', width:'100%'}}>\r\n                        <div className=\"set-animation from-left animate\">\r\n                            <Form.Group controlId = 'confirmPassword' className='m-2' style={{width:'100%'}}>\r\n                                <Form.Label className = 'form-label m-2'>Confirm Password</Form.Label>\r\n                                    <Form.Control \r\n                                        className='textBox'\r\n                                        type='password'\r\n                                        name='confirmPassword'\r\n                                        value={values.confirmPassword}\r\n                                        onChange={handleChange}\r\n                                        placeholder='confirm password'\r\n                                        isValid={touched.confirmPassword && !errors.confirmPassword}\r\n                                        isInvalid={!!errors.confirmPassword}\r\n                                        size = {'lg'} \r\n                                        autoComplete='disabled'\r\n                                    />\r\n                                    <FormControl.Feedback type='invalid'>{errors.confirmPassword}</FormControl.Feedback>\r\n                            </Form.Group>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n    \r\n            <div className=\"vs-row top-content\" style={{display:'flex', width:'100%'}}>\r\n                <div class=\"col-md-12 text-center\">\r\n                    <Button \r\n                        type='submit'\r\n                        className='mb-3'\r\n                        style={{float:'center'}}\r\n                    >\r\n                    Submit\r\n                    </Button>\r\n                </div>\r\n            </div>  \r\n            </Form>\r\n            )}\r\n        </Formik>\r\n       </Container>\r\n    )\r\n}\r\n\r\nexport default ResetPasswordLoggedIn\r\n","import React from 'react'\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { Container, Card} from 'react-bootstrap'\r\n\r\nconst PcrView = () => {\r\n    const location = useLocation();\r\n    const result = location.state.pcr\r\n    console.log(location.state.pcr)\r\n    return (\r\n        <Container className=' formContainer mt-3'>\r\n            {result.length > 0 ? \r\n            <div className=\"vs-row top-content\" style={{display:'flex', width:'100%'}}>\r\n                {result.map(p=> \r\n                <div className=\"vs-col vs-xs- vs-sm-12 vs-lg-6\"style={{margin:'0%',width:'100%', position:'relative'}}>\r\n                    <div className=\"set-animation from-left animate\">\r\n                        <Card  className=\"m-2\" bg=\"#ffffff\" text=\"black\" style={{ width: '100%'}}>\r\n                            <ul className=\"profile-info-list mt-2\">\r\n                                <li className=\"title \">PCR Test</li>\r\n                                <li>\r\n                                    <div className=\"field\">Name:</div>\r\n                                    <div className=\"value\">{p.name.firstName +\" \"+ p.name.lastName}</div>\r\n                                </li>\r\n                                <li>\r\n                                    <div className=\"field\">Contact Number:</div>\r\n                                    <div className=\"value\">{p.contactNumber}</div>\r\n                                </li>\r\n                                <li>\r\n                                    <div className=\"field\">Result:</div>\r\n                                    <div className=\"value\">{p.result}</div>\r\n                                </li>\r\n                            </ul>\r\n                        </Card>\r\n                    </div>\r\n                </div>)}\r\n            </div> : <h1>No Data</h1>}\r\n       </Container>\r\n    )\r\n}\r\n\r\nexport default PcrView\r\n","import React from 'react'\r\nimport { BrowserRouter as Router,Route, Switch } from 'react-router-dom'\r\nimport { ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport Header from './components/Header'\r\nimport Footer from './components/Footer'\r\nimport HomeScreen from './screens/HomeScreen'\r\nimport Dashboard from './screens/hospital/Dashboard'\r\nimport Patient from './screens/hospital/Patients'\r\nimport PatientProfile from './screens/hospital/PatientProfile'\r\nimport AdminDashboard from './screens/healthMinistry/AdminDashBoard'\r\nimport AddHospital from './screens/healthMinistry/AddHospital'\r\nimport AddHospitalAdmin from './screens/healthMinistry/AddHospitalAdmin'\r\nimport AddPatient from './screens/hospital/AddPatient'\r\nimport AddHospitalStaff from './screens/hospital/staffs/AddHospitalStaff'\r\nimport EditCurrentDetails from './screens/hospital/EditCurrentDetails';\r\nimport AcceptanceWaiting from './screens/hospital/AcceptanceWaiting';\r\nimport AddPcrResults from './screens/hospital/AddPcrResults';\r\nimport EditProfile from './screens/hospital/EditProfile';\r\nimport Profile from './screens/hospital/Profile';\r\nimport AprovePcrResults from './screens/hospital/AprovePcrResults';\r\nimport './bootstrap.min.css';\r\nimport './App.css';\r\nimport AddWard from './screens/hospital/wards/AddWard'\r\nimport Ward from './screens/hospital/wards/Ward'\r\nimport WardsList from './screens/hospital/wards/WardsList'\r\nimport SigninScreen from './screens/SigninScreen';\r\nimport Logout from './components/Logout';\r\nimport Hospitals from './screens/healthMinistry/Hospitals';\r\nimport StaffList from './screens/hospital/staffs/StaffsList';\r\nimport ConfirmData from './screens/healthMinistry/ConfirmData'\r\nimport AdmitPatient from './screens/hospital/AdmitPatient'\r\nimport SearchPCR from './screens/hospital/SerchPCR';\r\nimport AdmittedPatients from './screens/hospital/AdmittedPatients';\r\nimport ForgotPassword from './screens/ForgotPassword';\r\nimport ResetPassword from './screens/ResetPassword';\r\nimport ResetPasswordLoggedIn from './screens/resetPasswordLoggedIn';\r\nimport PcrView from './screens/hospital/PcrView';\r\n//import Login from './screens/Login'\r\n\r\n\r\n\r\nconst App = () =>{\r\n  return (\r\n    <Router>\r\n      <Header />\r\n      <main className='py-3'>\r\n        <ToastContainer\r\n              position=\"top-right\"\r\n              autoClose={5000}\r\n              hideProgressBar={false}\r\n              newestOnTop={false}\r\n              closeOnClick\r\n              rtl={false}\r\n              pauseOnFocusLoss\r\n              draggable\r\n              pauseOnHover            \r\n          ></ToastContainer>\r\n        {/* <Container> */}\r\n          <switch>\r\n           <Route path='/signin' component={SigninScreen}/>\r\n            <Route path='/hospital/dashboard' component={Dashboard}/>\r\n            <Route path='/hospital/patients' component={Patient}/>\r\n            <Route path='/hospital/patientProfile/:id' component={PatientProfile}/>\r\n            <Route path='/healthMinistry/dashboard' component={AdminDashboard}/>\r\n            <Route path='/healthMinistry/confirmData' component={ConfirmData}/>\r\n            <Route path='/healthMinistry/addHospital' component={AddHospital}/>\r\n            <Route path='/healthMinistry/addHospitalAdmin/:id' component={AddHospitalAdmin}/>\r\n            <Route path='/hospital/addHospitalStaff' component={AddHospitalStaff}/>\r\n            <Route path='/hospital/addPatient' component={AddPatient}/>\r\n            <Route path='/hospital/editCurrentDetails/:id' component={EditCurrentDetails}/>\r\n            <Route path='/hospital/acceptanceWaiting' component={AcceptanceWaiting}/>\r\n            <Route path='/hospital/addPcrResults' component={AddPcrResults}/>\r\n            <Route path='/hospital/editProfile/:id' component={EditProfile}/>\r\n            <Route path='/hospital/profile/:id' component={Profile}/>\r\n            <Route path='/hospital/aprovePcrResults' component={AprovePcrResults}/>\r\n            <Route path='/hospital/admitPatient' component={AdmitPatient}/>\r\n            <Route path='/logout' component={Logout}/>\r\n            <Route path='/' component={HomeScreen} exact/>\r\n            <Route path='/hospital/wards/:id' component={Ward}/>\r\n            <Route path='/hospital/addWard' component={AddWard}/>\r\n            <Route path='/hospital/wards' component={WardsList}/>\r\n            <Route path= '/healthMinistry/hospital' component={Hospitals}/>\r\n            <Route path='/hospital/staffs' component={StaffList}/>\r\n            <Route path='/hospital/searchPCR' component={SearchPCR}/>\r\n            <Route path='/hospital/admittedPatients' component={AdmittedPatients}/>\r\n            <Route path='/forgotPassword' component={ForgotPassword}/>\r\n            <Route path='/resetpassword/:token' component={ResetPassword}/>\r\n            <Route path='/resetpasswordloggedin' component={ResetPasswordLoggedIn}/>\r\n            <Route path='/hospital/PcrView' component={PcrView}/>\r\n\r\n        {/* </Container> */}\r\n          </switch>\r\n      </main>\r\n      <Footer />\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { combineReducers} from \"redux\";\r\nimport patientReducer from './patients'\r\nimport pcrReducer from './pcr';\r\nimport hospitalReducer from './hospitals';\r\nimport userReducer from './users';\r\nimport dashboardReducer from './dashboard';\r\n\r\nexport default combineReducers({\r\n    patients: patientReducer,\r\n    pcr: pcrReducer,\r\n    hospital: hospitalReducer,\r\n    user: userReducer,\r\n    dashboard: dashboardReducer,\r\n})\r\n","import { combineReducers } from \"redux\";\r\nimport entitiesReducer from \"./entities/entities\";\r\nimport authReducer from \"./auth\";\r\n\r\nexport default combineReducers({\r\n    entities: entitiesReducer,\r\n    auth: authReducer\r\n})","import { toast } from 'react-toastify';\r\nimport { toastAction } from '../toastActions';\r\n\r\nconst toastGenerator = store => next => action => {\r\n  if (action.type === toastAction.type) {\r\n    toast[action.payload.type](action.payload.message);\r\n  }\r\n  else return next(action);\r\n};\r\n\r\nexport default toastGenerator;\r\n","import axios from \"axios\";\r\nimport * as actions from \"../apiActions\";\r\nimport configData from '../../config.json';\r\nimport { toastAction } from '../toastActions';\r\n\r\n\r\nconst api = ({ dispatch }) => next => async action => {\r\n  axios.defaults.withCredentials = true;\r\n  if (action.type !== actions.apiCallBegan.type) return next(action);\r\n  const { url, method, data, config, onStart, onSuccess, onError } = action.payload;\r\n  if (onStart) dispatch({ type: onStart });\r\n  next(action);\r\n  try {\r\n   // console.log(action.payload)\r\n    const response = await axios.request({\r\n      baseURL: configData.API_URL,\r\n      url,\r\n      method,\r\n      data,\r\n      config,\r\n    });\r\n\r\n\r\n    dispatch(actions.apiCallSuccess(response.data));\r\n\r\n    if (onSuccess) dispatch({ type: onSuccess, payload: response.data });\r\n    //console.log(response.data)\r\n  } catch (error) {\r\n      const response = error.response;\r\n      const message = response ? response.data.message : error.message;\r\n\r\n      dispatch(actions.apiCallFailed({ message }));\r\n      dispatch(toastAction({ message, type: 'error' }));\r\n \r\n      if (onError) dispatch({ type: onError, payload: message });\r\n  }\r\n};\r\n\r\nexport default api;\r\n","export const loadState = () => {\r\n    try {\r\n        const serializedState = localStorage.getItem('state');\r\n        if (serializedState === null) {\r\n            return undefined;\r\n        }\r\n        return JSON.parse(serializedState);\r\n    } catch (err) {\r\n        return undefined;\r\n    }\r\n}; \r\n\r\nexport const saveState = (state) => {\r\n    try {\r\n        const serializedState = JSON.stringify(state);\r\n        localStorage.setItem('state', serializedState);\r\n    } catch {\r\n        // ignore write errors\r\n    }\r\n};","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { Provider} from 'react-redux'\r\n// import stores from './stores'\r\nimport './bootstrap.min.css';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport configureStore from './store/configureStore';\r\nimport { saveState } from './store/localStorage';\r\n\r\nconst store = configureStore();\r\nstore.subscribe(() => {\r\n  saveState({\r\n    auth: store.getState().auth, \r\n    entities: {\r\n      patients: store.getState().entities.patients,\r\n      pcr: store.getState().entities.pcr,\r\n      hospital: store.getState().entities.hospital,\r\n      dashboard: store.getState().entities.dashboard\r\n    }\r\n  });\r\n});\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </BrowserRouter>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","import { configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\";\r\nimport reducer from \"./reducer\";\r\nimport toastGenerator from \"./middleware/toast\";\r\nimport api from \"./middleware/api\";\r\nimport { loadState } from './localStorage';\r\n\r\nexport default function() {\r\n    return configureStore({\r\n      reducer,\r\n      middleware: [\r\n        ...getDefaultMiddleware(),\r\n        toastGenerator,\r\n        api,\r\n      ],\r\n      preloadedState: loadState()\r\n    });\r\n  }"],"sourceRoot":""}